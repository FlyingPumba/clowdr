/*! For license information please see 846.d31215e6.iframe.bundle.js.LICENSE.txt */
"use strict";(self.webpackChunk_midspace_frontend=self.webpackChunk_midspace_frontend||[]).push([[846],{"./src/aspects/Conference/Manage/DashboardPage.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Y:()=>DashboardPage});__webpack_require__("../node_modules/.pnpm/core-js@3.21.0/node_modules/core-js/modules/es.array.includes.js"),__webpack_require__("../node_modules/.pnpm/core-js@3.21.0/node_modules/core-js/modules/es.string.includes.js");var chakra_ui_color_mode_esm=__webpack_require__("../node_modules/.pnpm/@chakra-ui+color-mode@1.4.3_react@17.0.2/node_modules/@chakra-ui/color-mode/dist/chakra-ui-color-mode.esm.js"),chakra_ui_layout_esm=__webpack_require__("../node_modules/.pnpm/@chakra-ui+layout@1.7.4_d5de66fc214059f645050e36d066c00a/node_modules/@chakra-ui/layout/dist/chakra-ui-layout.esm.js"),react=__webpack_require__("../node_modules/.pnpm/react@17.0.2/node_modules/react/index.js"),useTitle=__webpack_require__("./src/aspects/Hooks/useTitle.tsx"),useConference=__webpack_require__("./src/aspects/Conference/useConference.tsx"),chakra_ui_breadcrumb_esm=(__webpack_require__("../node_modules/.pnpm/core-js@3.21.0/node_modules/core-js/modules/es.array.find.js"),__webpack_require__("../node_modules/.pnpm/core-js@3.21.0/node_modules/core-js/modules/es.array.map.js"),__webpack_require__("../node_modules/.pnpm/@chakra-ui+breadcrumb@1.3.4_d5de66fc214059f645050e36d066c00a/node_modules/@chakra-ui/breadcrumb/dist/chakra-ui-breadcrumb.esm.js")),react_router_dom=__webpack_require__("../node_modules/.pnpm/react-router-dom@5.3.0_react@17.0.2/node_modules/react-router-dom/esm/react-router-dom.js"),es=__webpack_require__("../node_modules/.pnpm/use-react-router-breadcrumbs@2.0.2_react-router@5.2.1+react@17.0.2/node_modules/use-react-router-breadcrumbs/dist/es/index.js"),AuthParameters=__webpack_require__("./src/aspects/GQL/AuthParameters.tsx"),jsx_runtime=__webpack_require__("../node_modules/.pnpm/react@17.0.2/node_modules/react/jsx-runtime.js");function Breadcrumbs(){var conference=(0,useConference.fk)(),subconferenceId=(0,AuthParameters.h)().subconferenceId,confTitle=(0,react.useMemo)((function(){var _ref,_conference$subconfer;return null!==(_ref=subconferenceId?null===(_conference$subconfer=conference.subconferences.find((function(x){return x.id===subconferenceId})))||void 0===_conference$subconfer?void 0:_conference$subconfer.shortName:void 0)&&void 0!==_ref?_ref:conference.shortName}),[conference.shortName,conference.subconferences,subconferenceId]),routes=(0,react.useMemo)((function(){return[{path:"/conference/:slug/manage",breadcrumb:"Manage "+confTitle},{path:"/c/:slug/manage",breadcrumb:"Manage "+confTitle},{path:"/conference/:slug/manage/export/youtube",breadcrumb:"YouTube"},{path:"/c/:slug/manage/export/youtube",breadcrumb:"YouTube"},{path:"/conference/:slug/manage/export/download-videos",breadcrumb:"Download videos"},{path:"/c/:slug/manage/export/download-videos",breadcrumb:"Download videos"}]}),[confTitle]),breadcrumbs=(0,es.Z)(routes,{excludePaths:["/","/conference","/c","/conference/:slug","/c/:slug"]});return(0,jsx_runtime.jsx)(chakra_ui_breadcrumb_esm.aG,{separator:">",children:breadcrumbs.map((function(breadcrumb){return(0,jsx_runtime.jsx)(chakra_ui_breadcrumb_esm.gN,{isCurrentPage:breadcrumb.key===breadcrumb.location.key,children:(0,jsx_runtime.jsx)(chakra_ui_breadcrumb_esm.At,{as:react_router_dom.rU,to:breadcrumb.key,children:breadcrumb.breadcrumb})},breadcrumb.key)}))})}function DashboardHeaderControls(_ref){var children=_ref.children;return children?(0,jsx_runtime.jsx)(chakra_ui_layout_esm.Ug,{spacing:4,mb:4,children}):(0,jsx_runtime.jsx)(jsx_runtime.Fragment,{})}Breadcrumbs.displayName="Breadcrumbs";try{DashboardHeaderControls.displayName="DashboardHeaderControls",DashboardHeaderControls.__docgenInfo={description:"",displayName:"DashboardHeaderControls",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/aspects/Conference/Manage/DashboardHeaderControls.tsx#DashboardHeaderControls"]={docgenInfo:DashboardHeaderControls.__docgenInfo,name:"DashboardHeaderControls",path:"src/aspects/Conference/Manage/DashboardHeaderControls.tsx#DashboardHeaderControls"})}catch(__react_docgen_typescript_loader_error){}var SubconferenceSelector=__webpack_require__("./src/aspects/Conference/Manage/Subconferences/SubconferenceSelector.tsx");function DashboardPage(_ref){var title=_ref.title,children=_ref.children,controls=_ref.controls,_ref$stickyHeader=_ref.stickyHeader,stickyHeader=void 0===_ref$stickyHeader||_ref$stickyHeader,_ref$autoOverflow=_ref.autoOverflow,autoOverflow=void 0===_ref$autoOverflow||_ref$autoOverflow,conference=(0,useConference.fk)(),grayBg=(0,chakra_ui_color_mode_esm.ff)("gray.50","gray.900"),grayBorder=(0,chakra_ui_color_mode_esm.ff)("gray.300","gray.600"),titleEl=(0,useTitle.Z)(title.includes(conference.shortName)?title:title+" - "+conference.shortName);return(0,jsx_runtime.jsxs)(chakra_ui_layout_esm.kC,{flexDir:"column",w:{base:"100%",xl:"80%"},px:[2,2,4],children:[titleEl,(0,jsx_runtime.jsxs)(chakra_ui_layout_esm.xu,{position:stickyHeader?"sticky":void 0,top:0,left:0,zIndex:1e5,bgColor:grayBg,pt:4,borderBottom:"1px solid",borderBottomColor:grayBorder,children:[(0,jsx_runtime.jsx)(Breadcrumbs,{}),(0,jsx_runtime.jsxs)(chakra_ui_layout_esm.Ug,{children:[(0,jsx_runtime.jsx)(chakra_ui_layout_esm.X6,{id:"page-heading",as:"h1",size:"xl",textAlign:"left",mt:4,mb:4,children:title}),(0,jsx_runtime.jsx)(chakra_ui_layout_esm.LZ,{}),(0,jsx_runtime.jsx)(SubconferenceSelector.B,{})]}),(0,jsx_runtime.jsx)(DashboardHeaderControls,{children:controls})]}),(0,jsx_runtime.jsx)(chakra_ui_layout_esm.kC,{flexDir:"column",mt:4,w:"100%",overflow:autoOverflow?"auto":void 0,children})]})}DashboardPage.displayName="DashboardPage";try{DashboardPage.displayName="DashboardPage",DashboardPage.__docgenInfo={description:"",displayName:"DashboardPage",props:{title:{defaultValue:null,description:"",name:"title",required:!0,type:{name:"string"}},stickyHeader:{defaultValue:{value:"true"},description:"",name:"stickyHeader",required:!1,type:{name:"boolean"}},autoOverflow:{defaultValue:{value:"true"},description:"",name:"autoOverflow",required:!1,type:{name:"boolean"}},controls:{defaultValue:null,description:"",name:"controls",required:!1,type:{name:"ReactChild[]"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/aspects/Conference/Manage/DashboardPage.tsx#DashboardPage"]={docgenInfo:DashboardPage.__docgenInfo,name:"DashboardPage",path:"src/aspects/Conference/Manage/DashboardPage.tsx#DashboardPage"})}catch(__react_docgen_typescript_loader_error){}},"./src/aspects/Conference/Manage/ManageProgramPeople.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{default:()=>ManageProgramPeople});__webpack_require__("../node_modules/.pnpm/core-js@3.21.0/node_modules/core-js/modules/es.array.slice.js"),__webpack_require__("../node_modules/.pnpm/core-js@3.21.0/node_modules/core-js/modules/es.array.is-array.js"),__webpack_require__("../node_modules/.pnpm/core-js@3.21.0/node_modules/core-js/modules/es.symbol.js"),__webpack_require__("../node_modules/.pnpm/core-js@3.21.0/node_modules/core-js/modules/es.symbol.description.js"),__webpack_require__("../node_modules/.pnpm/core-js@3.21.0/node_modules/core-js/modules/es.symbol.iterator.js"),__webpack_require__("../node_modules/.pnpm/core-js@3.21.0/node_modules/core-js/modules/es.array.from.js"),__webpack_require__("../node_modules/.pnpm/core-js@3.21.0/node_modules/core-js/modules/es.array.map.js"),__webpack_require__("../node_modules/.pnpm/core-js@3.21.0/node_modules/core-js/modules/es.array.sort.js"),__webpack_require__("../node_modules/.pnpm/core-js@3.21.0/node_modules/core-js/modules/es.function.name.js"),__webpack_require__("../node_modules/.pnpm/core-js@3.21.0/node_modules/core-js/modules/es.array.filter.js"),__webpack_require__("../node_modules/.pnpm/core-js@3.21.0/node_modules/core-js/modules/es.array.includes.js"),__webpack_require__("../node_modules/.pnpm/core-js@3.21.0/node_modules/core-js/modules/es.string.includes.js"),__webpack_require__("../node_modules/.pnpm/core-js@3.21.0/node_modules/core-js/modules/es.array.find.js"),__webpack_require__("../node_modules/.pnpm/core-js@3.21.0/node_modules/core-js/modules/es.promise.js"),__webpack_require__("../node_modules/.pnpm/core-js@3.21.0/node_modules/core-js/modules/es.object.to-string.js"),__webpack_require__("../node_modules/.pnpm/core-js@3.21.0/node_modules/core-js/modules/es.string.iterator.js"),__webpack_require__("../node_modules/.pnpm/core-js@3.21.0/node_modules/core-js/modules/es.array.iterator.js"),__webpack_require__("../node_modules/.pnpm/core-js@3.21.0/node_modules/core-js/modules/web.dom-collections.iterator.js"),__webpack_require__("../node_modules/.pnpm/core-js@3.21.0/node_modules/core-js/modules/es.string.trim.js"),__webpack_require__("../node_modules/.pnpm/core-js@3.21.0/node_modules/core-js/modules/es.object.assign.js"),__webpack_require__("../node_modules/.pnpm/core-js@3.21.0/node_modules/core-js/modules/web.timers.js"),__webpack_require__("../node_modules/.pnpm/core-js@3.21.0/node_modules/core-js/modules/es.date.to-string.js"),__webpack_require__("../node_modules/.pnpm/core-js@3.21.0/node_modules/core-js/modules/es.string.pad-start.js"),__webpack_require__("../node_modules/.pnpm/core-js@3.21.0/node_modules/core-js/modules/es.regexp.to-string.js"),__webpack_require__("../node_modules/.pnpm/core-js@3.21.0/node_modules/core-js/modules/web.url.js");var _templateObject,_chakra_ui_icons__WEBPACK_IMPORTED_MODULE_51__=__webpack_require__("../node_modules/.pnpm/@chakra-ui+icons@1.1.5_d5de66fc214059f645050e36d066c00a/node_modules/@chakra-ui/icons/dist/chakra-ui-icons.esm.js"),_chakra_ui_react__WEBPACK_IMPORTED_MODULE_40__=__webpack_require__("../node_modules/.pnpm/@chakra-ui+form-control@1.5.6_d5de66fc214059f645050e36d066c00a/node_modules/@chakra-ui/form-control/dist/chakra-ui-form-control.esm.js"),_chakra_ui_react__WEBPACK_IMPORTED_MODULE_41__=__webpack_require__("../node_modules/.pnpm/@chakra-ui+button@1.5.5_d5de66fc214059f645050e36d066c00a/node_modules/@chakra-ui/button/dist/chakra-ui-button.esm.js"),_chakra_ui_react__WEBPACK_IMPORTED_MODULE_43__=__webpack_require__("../node_modules/.pnpm/@chakra-ui+hooks@1.8.2_react@17.0.2/node_modules/@chakra-ui/hooks/dist/chakra-ui-hooks.esm.js"),_chakra_ui_react__WEBPACK_IMPORTED_MODULE_44__=__webpack_require__("../node_modules/.pnpm/@chakra-ui+layout@1.7.4_d5de66fc214059f645050e36d066c00a/node_modules/@chakra-ui/layout/dist/chakra-ui-layout.esm.js"),_chakra_ui_react__WEBPACK_IMPORTED_MODULE_45__=__webpack_require__("../node_modules/.pnpm/@chakra-ui+input@1.4.1_d5de66fc214059f645050e36d066c00a/node_modules/@chakra-ui/input/dist/chakra-ui-input.esm.js"),_chakra_ui_react__WEBPACK_IMPORTED_MODULE_46__=__webpack_require__("../node_modules/.pnpm/@chakra-ui+select@1.2.6_d5de66fc214059f645050e36d066c00a/node_modules/@chakra-ui/select/dist/chakra-ui-select.esm.js"),_chakra_ui_react__WEBPACK_IMPORTED_MODULE_48__=__webpack_require__("../node_modules/.pnpm/@chakra-ui+toast@1.5.4_3467197ee0b52af28e4f3b42a3c78b88/node_modules/@chakra-ui/toast/dist/chakra-ui-toast.esm.js"),_chakra_ui_react__WEBPACK_IMPORTED_MODULE_49__=__webpack_require__("../node_modules/.pnpm/@chakra-ui+color-mode@1.4.3_react@17.0.2/node_modules/@chakra-ui/color-mode/dist/chakra-ui-color-mode.esm.js"),_chakra_ui_react__WEBPACK_IMPORTED_MODULE_50__=__webpack_require__("../node_modules/.pnpm/@chakra-ui+menu@1.8.6_381b254eb05ba0b21fa13fc526cde82c/node_modules/@chakra-ui/menu/dist/chakra-ui-menu.esm.js"),_chakra_ui_react__WEBPACK_IMPORTED_MODULE_52__=__webpack_require__("../node_modules/.pnpm/@chakra-ui+tooltip@1.4.6_3467197ee0b52af28e4f3b42a3c78b88/node_modules/@chakra-ui/tooltip/dist/chakra-ui-tooltip.esm.js"),_midspace_shared_types_auth__WEBPACK_IMPORTED_MODULE_25__=__webpack_require__("../packages/shared/shared-types/build/esm/auth.js"),_urql_core__WEBPACK_IMPORTED_MODULE_38__=__webpack_require__("../node_modules/.pnpm/@urql+core@2.4.1_graphql@15.7.2/node_modules/@urql/core/dist/urql-core.mjs"),papaparse__WEBPACK_IMPORTED_MODULE_26__=__webpack_require__("../node_modules/.pnpm/papaparse@5.3.1/node_modules/papaparse/papaparse.min.js"),papaparse__WEBPACK_IMPORTED_MODULE_26___default=__webpack_require__.n(papaparse__WEBPACK_IMPORTED_MODULE_26__),react__WEBPACK_IMPORTED_MODULE_27__=__webpack_require__("../node_modules/.pnpm/react@17.0.2/node_modules/react/index.js"),uuid__WEBPACK_IMPORTED_MODULE_47__=__webpack_require__("../node_modules/.pnpm/uuid@8.3.2/node_modules/uuid/dist/esm-browser/v4.js"),_generated_graphql__WEBPACK_IMPORTED_MODULE_28__=__webpack_require__("./src/generated/graphql.tsx"),_Chakra_FAIcon__WEBPACK_IMPORTED_MODULE_29__=__webpack_require__("./src/aspects/Chakra/FAIcon.tsx"),_Chakra_LinkButton__WEBPACK_IMPORTED_MODULE_30__=__webpack_require__("./src/aspects/Chakra/LinkButton.tsx"),_CRUDTable2_CRUDComponents__WEBPACK_IMPORTED_MODULE_31__=__webpack_require__("./src/aspects/CRUDTable2/CRUDComponents.tsx"),_CRUDTable2_CRUDTable2__WEBPACK_IMPORTED_MODULE_32__=__webpack_require__("./src/aspects/CRUDTable2/CRUDTable2.tsx"),_GQL_AuthParameters__WEBPACK_IMPORTED_MODULE_33__=__webpack_require__("./src/aspects/GQL/AuthParameters.tsx"),_GQL_make_context__WEBPACK_IMPORTED_MODULE_39__=__webpack_require__("./src/aspects/GQL/make-context.ts"),_GQL_useQueryErrorToast__WEBPACK_IMPORTED_MODULE_34__=__webpack_require__("./src/aspects/GQL/useQueryErrorToast.tsx"),_Utils_maybeCompare__WEBPACK_IMPORTED_MODULE_42__=__webpack_require__("./src/aspects/Utils/maybeCompare.tsx"),_useConference__WEBPACK_IMPORTED_MODULE_35__=__webpack_require__("./src/aspects/Conference/useConference.tsx"),_DashboardPage__WEBPACK_IMPORTED_MODULE_36__=__webpack_require__("./src/aspects/Conference/Manage/DashboardPage.tsx"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_37__=__webpack_require__("../node_modules/.pnpm/react@17.0.2/node_modules/react/jsx-runtime.js");function asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg),value=info.value}catch(error){return void reject(error)}info.done?resolve(value):Promise.resolve(value).then(_next,_throw)}function _asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise((function(resolve,reject){var gen=fn.apply(self,args);function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(void 0)}))}}function _toConsumableArray(arr){return function _arrayWithoutHoles(arr){if(Array.isArray(arr))return _arrayLikeToArray(arr)}(arr)||function _iterableToArray(iter){if("undefined"!=typeof Symbol&&null!=iter[Symbol.iterator]||null!=iter["@@iterator"])return Array.from(iter)}(arr)||_unsupportedIterableToArray(arr)||function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _slicedToArray(arr,i){return function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function _iterableToArrayLimit(arr,i){var _i=null==arr?null:"undefined"!=typeof Symbol&&arr[Symbol.iterator]||arr["@@iterator"];if(null==_i)return;var _s,_e,_arr=[],_n=!0,_d=!1;try{for(_i=_i.call(arr);!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||_unsupportedIterableToArray(arr,i)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _unsupportedIterableToArray(o,minLen){if(o){if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);return"Object"===n&&o.constructor&&(n=o.constructor.name),"Map"===n||"Set"===n?Array.from(o):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_arrayLikeToArray(o,minLen):void 0}}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function ManageProgramPeople(){var conference=(0,_useConference__WEBPACK_IMPORTED_MODULE_35__.fk)(),_useAuthParameters=(0,_GQL_AuthParameters__WEBPACK_IMPORTED_MODULE_33__.h)(),conferencePath=_useAuthParameters.conferencePath,subconferenceId=_useAuthParameters.subconferenceId,context=(0,react__WEBPACK_IMPORTED_MODULE_27__.useMemo)((function(){var _makeContext;return(0,_GQL_make_context__WEBPACK_IMPORTED_MODULE_39__.f)(((_makeContext={})[_midspace_shared_types_auth__WEBPACK_IMPORTED_MODULE_25__.k.Role]=subconferenceId?_midspace_shared_types_auth__WEBPACK_IMPORTED_MODULE_25__.Z.SubconferenceOrganizer:_midspace_shared_types_auth__WEBPACK_IMPORTED_MODULE_25__.Z.ConferenceOrganizer,_makeContext))}),[subconferenceId]),registrantsData=_slicedToArray((0,_generated_graphql__WEBPACK_IMPORTED_MODULE_28__.ASS)({variables:{conferenceId:conference.id},context}),1)[0].data,registrants=(0,react__WEBPACK_IMPORTED_MODULE_27__.useMemo)((function(){return registrantsData?_toConsumableArray(registrantsData.registrant_Registrant):[]}),[registrantsData]),registrantOptions=(0,react__WEBPACK_IMPORTED_MODULE_27__.useMemo)((function(){return registrants.sort((function(x,y){return x.displayName.localeCompare(y.displayName)})).map((function(person){var _person$profile,_person$invitation;return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_37__.jsxs)("option",{value:person.id,children:[person.displayName,null!==(_person$profile=person.profile)&&void 0!==_person$profile&&_person$profile.affiliation?" ("+person.profile.affiliation+")":"",null!==(_person$invitation=person.invitation)&&void 0!==_person$invitation&&_person$invitation.invitedEmailAddress?" <"+person.invitation.invitedEmailAddress+">":""]},person.id)}))}),[registrants]),forceReloadRef=(0,react__WEBPACK_IMPORTED_MODULE_27__.useRef)((function(){})),row=(0,react__WEBPACK_IMPORTED_MODULE_27__.useMemo)((function(){return{getKey:function getKey(record){return record.id},canSelect:function canSelect(_record){return!0},pages:{defaultToLast:!1},invalid:function invalid(record){var _record$name;return(null===(_record$name=record.name)||void 0===_record$name||!_record$name.length)&&{columnId:"name",reason:"Name required"}}}}),[]),columns=(0,react__WEBPACK_IMPORTED_MODULE_27__.useMemo)((function(){return[{id:"name",defaultSortDirection:_CRUDTable2_CRUDTable2__WEBPACK_IMPORTED_MODULE_32__.S.Asc,header:function NameHeader(_ref){var isInCreate=_ref.isInCreate,onClick=_ref.onClick,sortDir=_ref.sortDir;return isInCreate?(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_37__.jsx)(_chakra_ui_react__WEBPACK_IMPORTED_MODULE_40__.lX,{children:"Name"}):(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_37__.jsxs)(_chakra_ui_react__WEBPACK_IMPORTED_MODULE_41__.zx,{size:"xs",onClick,children:["Name",null!==sortDir?" "+sortDir:void 0]})},get:function get(data){return data.name},set:function set(record,value){record.name=value},filterFn:function filterFn(rows,filterValue){return""===filterValue?rows.filter((function(row){var _row$name;return""===(null!==(_row$name=row.name)&&void 0!==_row$name?_row$name:"")})):rows.filter((function(row){var _row$name2;return null===(_row$name2=row.name)||void 0===_row$name2?void 0:_row$name2.toLowerCase().includes(filterValue.toLowerCase())}))},filterEl:_CRUDTable2_CRUDComponents__WEBPACK_IMPORTED_MODULE_31__.Oe,sort:function sort(x,y){return(0,_Utils_maybeCompare__WEBPACK_IMPORTED_MODULE_42__.D)(x,y,(function(a,b){return a.localeCompare(b)}))},cell:function ProgramPersonCell(_ref2){var value=_ref2.value,_onChange=_ref2.onChange,onBlur=_ref2.onBlur,ref=_ref2.ref,_useClipboard=(0,_chakra_ui_react__WEBPACK_IMPORTED_MODULE_43__.VP)(null!=value?value:""),onCopy=_useClipboard.onCopy,hasCopied=_useClipboard.hasCopied;return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_37__.jsxs)(_chakra_ui_react__WEBPACK_IMPORTED_MODULE_44__.kC,{alignItems:"center",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_37__.jsx)(_chakra_ui_react__WEBPACK_IMPORTED_MODULE_45__.II,{type:"text",value:null!=value?value:"",onChange:function onChange(ev){return null==_onChange?void 0:_onChange(ev.target.value)},onBlur,border:"1px solid",borderColor:"rgba(255, 255, 255, 0.16)",ref,mr:2}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_37__.jsx)(_chakra_ui_react__WEBPACK_IMPORTED_MODULE_41__.zx,{onClick:onCopy,size:"xs",ml:"auto",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_37__.jsx)(_Chakra_FAIcon__WEBPACK_IMPORTED_MODULE_29__.Z,{iconStyle:"s",icon:hasCopied?"check-circle":"clipboard"})})]})}},{id:"affiliation",defaultSortDirection:_CRUDTable2_CRUDTable2__WEBPACK_IMPORTED_MODULE_32__.S.Asc,header:function AffiliationHeader(_ref3){var isInCreate=_ref3.isInCreate,onClick=_ref3.onClick,sortDir=_ref3.sortDir;return isInCreate?(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_37__.jsx)(_chakra_ui_react__WEBPACK_IMPORTED_MODULE_40__.lX,{children:"Affiliation"}):(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_37__.jsxs)(_chakra_ui_react__WEBPACK_IMPORTED_MODULE_41__.zx,{size:"xs",onClick,children:["Affiliation",null!==sortDir?" "+sortDir:void 0]})},get:function get(data){return data.affiliation},set:function set(record,value){record.affiliation=value},filterFn:function filterFn(rows,filterValue){return""===filterValue?rows.filter((function(row){var _row$affiliation;return""===(null!==(_row$affiliation=row.affiliation)&&void 0!==_row$affiliation?_row$affiliation:"")})):rows.filter((function(row){return row.affiliation?row.affiliation.toLowerCase().includes(filterValue.toLowerCase()):""===filterValue}))},filterEl:_CRUDTable2_CRUDComponents__WEBPACK_IMPORTED_MODULE_31__.Oe,sort:function sort(x,y){return(0,_Utils_maybeCompare__WEBPACK_IMPORTED_MODULE_42__.D)(x,y,(function(a,b){return a.localeCompare(b)}))},cell:function ProgramPersonCell(_ref4){var value=_ref4.value,_onChange2=_ref4.onChange,onBlur=_ref4.onBlur,ref=_ref4.ref,_useClipboard2=(0,_chakra_ui_react__WEBPACK_IMPORTED_MODULE_43__.VP)(null!=value?value:""),onCopy=_useClipboard2.onCopy,hasCopied=_useClipboard2.hasCopied;return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_37__.jsxs)(_chakra_ui_react__WEBPACK_IMPORTED_MODULE_44__.kC,{alignItems:"center",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_37__.jsx)(_chakra_ui_react__WEBPACK_IMPORTED_MODULE_45__.II,{type:"text",value:null!=value?value:"",onChange:function onChange(ev){return null==_onChange2?void 0:_onChange2(ev.target.value)},onBlur,border:"1px solid",borderColor:"rgba(255, 255, 255, 0.16)",ref,mr:2}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_37__.jsx)(_chakra_ui_react__WEBPACK_IMPORTED_MODULE_41__.zx,{onClick:onCopy,size:"xs",ml:"auto",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_37__.jsx)(_Chakra_FAIcon__WEBPACK_IMPORTED_MODULE_29__.Z,{iconStyle:"s",icon:hasCopied?"check-circle":"clipboard"})})]})}},{id:"email",header:function AffiliationHeader(_ref5){var isInCreate=_ref5.isInCreate,onClick=_ref5.onClick,sortDir=_ref5.sortDir;return isInCreate?(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_37__.jsx)(_chakra_ui_react__WEBPACK_IMPORTED_MODULE_40__.lX,{children:"Email"}):(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_37__.jsxs)(_chakra_ui_react__WEBPACK_IMPORTED_MODULE_41__.zx,{size:"xs",onClick,children:["Email",null!==sortDir?" "+sortDir:void 0]})},get:function get(data){return data.email},set:function set(record,value){record.email=value},filterFn:function filterFn(rows,filterValue){return""===filterValue?rows.filter((function(row){var _row$email;return""===(null!==(_row$email=row.email)&&void 0!==_row$email?_row$email:"")})):rows.filter((function(row){return row.email?row.email.toLowerCase().includes(filterValue.toLowerCase()):""===filterValue}))},filterEl:_CRUDTable2_CRUDComponents__WEBPACK_IMPORTED_MODULE_31__.Oe,sort:function sort(x,y){return(0,_Utils_maybeCompare__WEBPACK_IMPORTED_MODULE_42__.D)(x,y,(function(a,b){return a.localeCompare(b)}))},cell:function ProgramPersonCell(_ref6){var value=_ref6.value,_onChange3=_ref6.onChange,onBlur=_ref6.onBlur,ref=_ref6.ref,_useClipboard3=(0,_chakra_ui_react__WEBPACK_IMPORTED_MODULE_43__.VP)(null!=value?value:""),onCopy=_useClipboard3.onCopy,hasCopied=_useClipboard3.hasCopied;return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_37__.jsxs)(_chakra_ui_react__WEBPACK_IMPORTED_MODULE_44__.kC,{alignItems:"center",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_37__.jsx)(_chakra_ui_react__WEBPACK_IMPORTED_MODULE_45__.II,{type:"email",value:null!=value?value:"",onChange:function onChange(ev){return null==_onChange3?void 0:_onChange3(ev.target.value)},onBlur,border:"1px solid",borderColor:"rgba(255, 255, 255, 0.16)",ref,mr:2}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_37__.jsx)(_chakra_ui_react__WEBPACK_IMPORTED_MODULE_41__.zx,{onClick:onCopy,size:"xs",ml:"auto",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_37__.jsx)(_Chakra_FAIcon__WEBPACK_IMPORTED_MODULE_29__.Z,{iconStyle:"s",icon:hasCopied?"check-circle":"clipboard"})})]})}},{id:"acessToken",header:function AffiliationHeader(_ref7){var isInCreate=_ref7.isInCreate,onClick=_ref7.onClick,sortDir=_ref7.sortDir;return isInCreate?void 0:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_37__.jsxs)(_chakra_ui_react__WEBPACK_IMPORTED_MODULE_41__.zx,{size:"xs",onClick,children:["Submissions Link",null!==sortDir?" "+sortDir:void 0]})},get:function get(data){return data.accessToken},set:function set(record,value){record.accessToken=value},filterFn:function filterFn(rows,filterValue){return""===filterValue?rows.filter((function(row){var _row$accessToken;return""===(null!==(_row$accessToken=row.accessToken)&&void 0!==_row$accessToken?_row$accessToken:"")})):rows.filter((function(row){return row.accessToken?row.accessToken.toLowerCase().includes(filterValue.toLowerCase()):""===filterValue}))},filterEl:_CRUDTable2_CRUDComponents__WEBPACK_IMPORTED_MODULE_31__.Oe,sort:function sort(x,y){return(0,_Utils_maybeCompare__WEBPACK_IMPORTED_MODULE_42__.D)(x,y,(function(a,b){return a.localeCompare(b)}))},cell:function ProgramPersonCell(_ref8){var _ref9,value=_ref8.value,_useClipboard4=(0,_chakra_ui_react__WEBPACK_IMPORTED_MODULE_43__.VP)(null!==(_ref9=window.origin+"/submissions/"+value)&&void 0!==_ref9?_ref9:""),onCopy=_useClipboard4.onCopy,hasCopied=_useClipboard4.hasCopied;return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_37__.jsxs)(_chakra_ui_react__WEBPACK_IMPORTED_MODULE_44__.kC,{alignItems:"center",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_37__.jsx)(_chakra_ui_react__WEBPACK_IMPORTED_MODULE_44__.EK,{mr:2,fontSize:"xs",children:null!=value?value:"<Refresh to view>"}),value?(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_37__.jsxs)(_chakra_ui_react__WEBPACK_IMPORTED_MODULE_41__.zx,{onClick:onCopy,size:"xs",ml:"auto",colorScheme:"purple",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_37__.jsx)(_Chakra_FAIcon__WEBPACK_IMPORTED_MODULE_29__.Z,{iconStyle:"s",icon:hasCopied?"check-circle":"clipboard",mr:1}),"Copy link"]}):void 0]})}},{id:"Registrant",header:function RegistrantHeader(_ref10){var isInCreate=_ref10.isInCreate,onClick=_ref10.onClick,sortDir=_ref10.sortDir;return isInCreate?(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_37__.jsx)(_chakra_ui_react__WEBPACK_IMPORTED_MODULE_40__.lX,{children:"Registrant"}):(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_37__.jsxs)(_chakra_ui_react__WEBPACK_IMPORTED_MODULE_41__.zx,{size:"xs",onClick,children:["Registrant",null!==sortDir?" "+sortDir:void 0]})},get:function get(data){return registrants.find((function(x){return x.id===data.registrantId}))},set:function set(record,value){record.registrantId=null==value?void 0:value.id},filterFn:function filterFn(rows,filterValue){return""===filterValue?rows.filter((function(row){return!row.registrantId})):rows.filter((function(row){var _registrants$find;return!!row.registrantId&&!(null===(_registrants$find=registrants.find((function(x){return x.id===row.registrantId})))||void 0===_registrants$find||!_registrants$find.displayName.toLowerCase().includes(filterValue.toLowerCase()))}))},filterEl:_CRUDTable2_CRUDComponents__WEBPACK_IMPORTED_MODULE_31__.Oe,sort:function sort(x,y){var _x$profile,_y$profile;return x&&y?x.displayName.localeCompare(y.displayName)||(0,_Utils_maybeCompare__WEBPACK_IMPORTED_MODULE_42__.D)(null===(_x$profile=x.profile)||void 0===_x$profile?void 0:_x$profile.affiliation,null===(_y$profile=y.profile)||void 0===_y$profile?void 0:_y$profile.affiliation,(function(a,b){return a.localeCompare(b)})):x?1:y?-1:0},cell:function ProgramPersonCell(_ref11){var _value$id,value=_ref11.value,_onChange4=_ref11.onChange,onBlur=_ref11.onBlur,ref=_ref11.ref;return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_37__.jsxs)(_chakra_ui_react__WEBPACK_IMPORTED_MODULE_46__.Ph,{value:null!==(_value$id=null==value?void 0:value.id)&&void 0!==_value$id?_value$id:"",onChange:function onChange(ev){return null==_onChange4?void 0:_onChange4(registrants.find((function(x){return x.id===ev.target.value})))},onBlur,ref,children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_37__.jsx)("option",{value:"",children:"Select a registrant"}),registrantOptions]})}}]}),[registrantOptions,registrants]),_useManageProgramPeop4=_slicedToArray((0,_generated_graphql__WEBPACK_IMPORTED_MODULE_28__.RLF)({requestPolicy:"network-only",variables:{conferenceId:conference.id,subconferenceCond:subconferenceId?{_eq:subconferenceId}:{_is_null:!0}},context}),2),_useManageProgramPeop5=_useManageProgramPeop4[0],loadingAllProgramPersons=_useManageProgramPeop5.fetching,errorAllProgramPersons=_useManageProgramPeop5.error,allProgramPersons=_useManageProgramPeop5.data,refetch=_useManageProgramPeop4[1];(0,_GQL_useQueryErrorToast__WEBPACK_IMPORTED_MODULE_34__.Z)(errorAllProgramPersons,!1);var data=(0,react__WEBPACK_IMPORTED_MODULE_27__.useMemo)((function(){var _allProgramPersons$co;return _toConsumableArray(null!==(_allProgramPersons$co=null==allProgramPersons?void 0:allProgramPersons.collection_ProgramPerson)&&void 0!==_allProgramPersons$co?_allProgramPersons$co:[])}),[null==allProgramPersons?void 0:allProgramPersons.collection_ProgramPerson]),_useManageProgramPeop7=_slicedToArray((0,_generated_graphql__WEBPACK_IMPORTED_MODULE_28__.kL1)(),2),insertProgramPersonResponse=_useManageProgramPeop7[0],insertProgramPerson=_useManageProgramPeop7[1],_useManageProgramPeop9=_slicedToArray((0,_generated_graphql__WEBPACK_IMPORTED_MODULE_28__.fbV)(),2),deleteProgramPersonsResponse=_useManageProgramPeop9[0],deleteProgramPersons=_useManageProgramPeop9[1],_useManageProgramPeop11=_slicedToArray((0,_generated_graphql__WEBPACK_IMPORTED_MODULE_28__.aw0)(),2),updateProgramPersonResponse=_useManageProgramPeop11[0],updateProgramPerson=_useManageProgramPeop11[1],insert=(0,react__WEBPACK_IMPORTED_MODULE_27__.useMemo)((function(){return{ongoing:insertProgramPersonResponse.fetching,generateDefaults:function generateDefaults(){return{id:(0,uuid__WEBPACK_IMPORTED_MODULE_47__.Z)(),conferenceId:conference.id,subconferenceId}},makeWhole:function makeWhole(d){var _d$name;return null!==(_d$name=d.name)&&void 0!==_d$name&&_d$name.length?d:void 0},start:function start(record){var _headers;insertProgramPerson({person:{id:record.id,conferenceId:conference.id,subconferenceId,affiliation:record.affiliation,registrantId:record.registrantId,email:record.email,name:record.name}},{fetchOptions:{headers:(_headers={},_headers[_midspace_shared_types_auth__WEBPACK_IMPORTED_MODULE_25__.k.Role]=subconferenceId?_midspace_shared_types_auth__WEBPACK_IMPORTED_MODULE_25__.Z.SubconferenceOrganizer:_midspace_shared_types_auth__WEBPACK_IMPORTED_MODULE_25__.Z.ConferenceOrganizer,_headers)}})}}}),[conference.id,insertProgramPerson,insertProgramPersonResponse.fetching,subconferenceId]),startUpdate=(0,react__WEBPACK_IMPORTED_MODULE_27__.useCallback)(function(){var _ref12=_asyncToGenerator(regeneratorRuntime.mark((function _callee(record){var _record$affiliation,_record$registrantId,_record$email,_headers2;return regeneratorRuntime.wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:return _context.abrupt("return",updateProgramPerson({id:record.id,name:record.name,affiliation:""!==record.affiliation&&null!==(_record$affiliation=record.affiliation)&&void 0!==_record$affiliation?_record$affiliation:null,registrantId:null!==(_record$registrantId=record.registrantId)&&void 0!==_record$registrantId?_record$registrantId:null,email:""!==record.email&&null!==(_record$email=record.email)&&void 0!==_record$email?_record$email:null},{fetchOptions:{headers:(_headers2={},_headers2[_midspace_shared_types_auth__WEBPACK_IMPORTED_MODULE_25__.k.Role]=subconferenceId?_midspace_shared_types_auth__WEBPACK_IMPORTED_MODULE_25__.Z.SubconferenceOrganizer:_midspace_shared_types_auth__WEBPACK_IMPORTED_MODULE_25__.Z.ConferenceOrganizer,_headers2)}}));case 1:case"end":return _context.stop()}}),_callee)})));return function(_x){return _ref12.apply(this,arguments)}}(),[subconferenceId,updateProgramPerson]),update=(0,react__WEBPACK_IMPORTED_MODULE_27__.useMemo)((function(){return{ongoing:updateProgramPersonResponse.fetching,start:startUpdate}}),[updateProgramPersonResponse.fetching,startUpdate]),deleteP=(0,react__WEBPACK_IMPORTED_MODULE_27__.useMemo)((function(){return{ongoing:deleteProgramPersonsResponse.fetching,start:function start(keys){var _headers3;deleteProgramPersons({ids:keys},{fetchOptions:{headers:(_headers3={},_headers3[_midspace_shared_types_auth__WEBPACK_IMPORTED_MODULE_25__.k.Role]=subconferenceId?_midspace_shared_types_auth__WEBPACK_IMPORTED_MODULE_25__.Z.SubconferenceOrganizer:_midspace_shared_types_auth__WEBPACK_IMPORTED_MODULE_25__.Z.ConferenceOrganizer,_headers3)}})}}}),[deleteProgramPersons,deleteProgramPersonsResponse.fetching,subconferenceId]),toast=(0,_chakra_ui_react__WEBPACK_IMPORTED_MODULE_48__.pm)(),autoLink=(0,react__WEBPACK_IMPORTED_MODULE_27__.useCallback)(function(){var _ref13=_asyncToGenerator(regeneratorRuntime.mark((function _callee3(mode){var allUnmatched,matchCount,unmatchCount;return regeneratorRuntime.wrap((function _callee3$(_context3){for(;;)switch(_context3.prev=_context3.next){case 0:return allUnmatched=data.filter((function(x){return!x.registrantId})),matchCount=0,_context3.next=4,Promise.all(allUnmatched.map(function(){var _ref14=_asyncToGenerator(regeneratorRuntime.mark((function _callee2(unmatched){var registrant,name,affil,_name;return regeneratorRuntime.wrap((function _callee2$(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:_context2.t0=mode,_context2.next="email"===_context2.t0?3:"name_affiliation"===_context2.t0?5:"name_only"===_context2.t0?7:9;break;case 3:return unmatched.email&&(registrant=registrants.find((function(x){var _x$invitation;return(null===(_x$invitation=x.invitation)||void 0===_x$invitation?void 0:_x$invitation.invitedEmailAddress)===unmatched.email}))),_context2.abrupt("break",9);case 5:return unmatched.name&&unmatched.affiliation&&(name=unmatched.name.toLowerCase().trim(),affil=unmatched.affiliation.toLowerCase().trim(),registrant=registrants.find((function(x){var _x$profile2;return x.displayName.toLowerCase().trim()===name&&(null===(_x$profile2=x.profile)||void 0===_x$profile2?void 0:_x$profile2.affiliation)&&x.profile.affiliation.toLowerCase().trim()===affil}))),_context2.abrupt("break",9);case 7:return unmatched.name&&(_name=unmatched.name.toLowerCase().trim(),registrant=registrants.find((function(x){return x.displayName.toLowerCase().trim()===_name}))),_context2.abrupt("break",9);case 9:if(!registrant){_context2.next=13;break}return matchCount++,_context2.next=13,startUpdate(Object.assign({},unmatched,{registrantId:registrant.id}));case 13:case"end":return _context2.stop()}}),_callee2)})));return function(_x3){return _ref14.apply(this,arguments)}}()));case 4:return unmatchCount=allUnmatched.length-matchCount,toast({title:"Matched "+matchCount+" people to registrants.",description:unmatchCount+" remain unmatched.",duration:4e3,isClosable:!0,position:"top",status:matchCount>0?"success":"info"}),_context3.next=8,refetch();case 8:setTimeout((function(){forceReloadRef.current()}),100);case 9:case"end":return _context3.stop()}}),_callee3)})));return function(_x2){return _ref13.apply(this,arguments)}}(),[refetch,data,toast,registrants,startUpdate]),green=(0,_chakra_ui_react__WEBPACK_IMPORTED_MODULE_49__.ff)("purple.100","purple.700"),greenAlt=(0,_chakra_ui_react__WEBPACK_IMPORTED_MODULE_49__.ff)("purple.200","purple.600"),buttons=(0,react__WEBPACK_IMPORTED_MODULE_27__.useMemo)((function(){return[{render:function ImportButton(_selectedData){return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_37__.jsx)(_Chakra_LinkButton__WEBPACK_IMPORTED_MODULE_30__.Qj,{colorScheme:"purple",to:conferencePath+"/manage/import/content",children:"Import"})}},{render:function AutoLinkMenu(){return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_37__.jsxs)(_chakra_ui_react__WEBPACK_IMPORTED_MODULE_50__.v2,{children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_37__.jsx)(_chakra_ui_react__WEBPACK_IMPORTED_MODULE_50__.j2,{as:_chakra_ui_react__WEBPACK_IMPORTED_MODULE_41__.zx,colorScheme:"purple",rightIcon:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_37__.jsx)(_chakra_ui_icons__WEBPACK_IMPORTED_MODULE_51__.ChevronDownIcon,{}),children:"Auto-link to registrants"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_37__.jsxs)(_chakra_ui_react__WEBPACK_IMPORTED_MODULE_50__.qy,{children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_37__.jsx)(_chakra_ui_react__WEBPACK_IMPORTED_MODULE_50__.sN,{onClick:function onClick(){return autoLink("email")},bgColor:green,_hover:{bgColor:greenAlt},_focus:{bgColor:greenAlt},children:"By email (recommended)"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_37__.jsx)(_chakra_ui_react__WEBPACK_IMPORTED_MODULE_50__.sN,{onClick:function onClick(){return autoLink("name_affiliation")},children:"By name and affiliation (usually ok)"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_37__.jsx)(_chakra_ui_react__WEBPACK_IMPORTED_MODULE_50__.sN,{onClick:function onClick(){return autoLink("name_only")},children:"By name only (not recommended)"})]})]})}},{render:function ExportPeople(_ref15){var selectedData=_ref15.selectedData;function doExport(dataToExport){var _csvURL,csvURL,csvText=papaparse__WEBPACK_IMPORTED_MODULE_26___default().unparse(dataToExport.map((function(person){var _person$registrantId,_person$affiliation,_person$email,_person$accessToken;return{"Conference Id":person.conferenceId,"Subconference Id":person.subconferenceId,"Person Id":person.id,"Registrant Id":null!==(_person$registrantId=person.registrantId)&&void 0!==_person$registrantId?_person$registrantId:"",Name:person.name,Affiliation:null!==(_person$affiliation=person.affiliation)&&void 0!==_person$affiliation?_person$affiliation:"",Email:null!==(_person$email=person.email)&&void 0!==_person$email?_person$email:"",AccessToken:null!==(_person$accessToken=person.accessToken)&&void 0!==_person$accessToken?_person$accessToken:""}})),{columns:["Conference Id","Subconference Id","Person Id","Registrant Id","Name","Affiliation","Email","AccessToken"]}),csvData=new Blob([csvText],{type:"text/csv;charset=utf-8;"}),now=new Date,fileName=now.getFullYear()+"-"+(now.getMonth()+1).toString().padStart(2,"0")+"-"+now.getDate().toString().padStart(2,"0")+"T"+now.getHours().toString().padStart(2,"0")+"-"+now.getMinutes().toString().padStart(2,"0")+" - Midspace Program People.csv";csvURL=window.URL.createObjectURL(csvData);var tempLink=document.createElement("a");tempLink.href=null!==(_csvURL=csvURL)&&void 0!==_csvURL?_csvURL:"",tempLink.setAttribute("download",fileName),tempLink.click()}return 0===selectedData.length?(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_37__.jsxs)(_chakra_ui_react__WEBPACK_IMPORTED_MODULE_50__.v2,{children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_37__.jsx)(_chakra_ui_react__WEBPACK_IMPORTED_MODULE_52__.u,{label:"Export people.",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_37__.jsx)(_chakra_ui_react__WEBPACK_IMPORTED_MODULE_50__.j2,{as:_chakra_ui_react__WEBPACK_IMPORTED_MODULE_41__.zx,colorScheme:"purple",rightIcon:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_37__.jsx)(_chakra_ui_icons__WEBPACK_IMPORTED_MODULE_51__.ChevronDownIcon,{}),children:"Export"})}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_37__.jsxs)(_chakra_ui_react__WEBPACK_IMPORTED_MODULE_50__.qy,{children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_37__.jsx)(_chakra_ui_react__WEBPACK_IMPORTED_MODULE_50__.sN,{onClick:function onClick(){doExport(data)},children:"All"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_37__.jsxs)(_chakra_ui_react__WEBPACK_IMPORTED_MODULE_50__.sN,{onClick:function onClick(){doExport(data.filter((function(a){return!!a.email})))},children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_37__.jsx)(_Chakra_FAIcon__WEBPACK_IMPORTED_MODULE_29__.Z,{iconStyle:"s",icon:"envelope",w:"1em",textAlign:"center",mr:2}),"Has an email address"]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_37__.jsxs)(_chakra_ui_react__WEBPACK_IMPORTED_MODULE_50__.sN,{onClick:function onClick(){doExport(data.filter((function(a){return!a.email})))},children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_37__.jsx)(_Chakra_FAIcon__WEBPACK_IMPORTED_MODULE_29__.Z,{iconStyle:"r",icon:"envelope",w:"1em",textAlign:"center",mr:2}),"Does not have email address"]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_37__.jsxs)(_chakra_ui_react__WEBPACK_IMPORTED_MODULE_50__.sN,{onClick:function onClick(){doExport(data.filter((function(a){return a.registrantId})))},children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_37__.jsx)(_Chakra_FAIcon__WEBPACK_IMPORTED_MODULE_29__.Z,{iconStyle:"s",icon:"link",w:"1em",textAlign:"center",mr:2}),"Linked to registrant"]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_37__.jsxs)(_chakra_ui_react__WEBPACK_IMPORTED_MODULE_50__.sN,{onClick:function onClick(){doExport(data.filter((function(a){return!a.registrantId})))},children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_37__.jsx)(_Chakra_FAIcon__WEBPACK_IMPORTED_MODULE_29__.Z,{iconStyle:"s",icon:"unlink",w:"1em",textAlign:"center",mr:2}),"Not linked to registrant"]})]})]}):(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_37__.jsx)(_chakra_ui_react__WEBPACK_IMPORTED_MODULE_52__.u,{label:"Export the selected people.",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_37__.jsx)(_chakra_ui_react__WEBPACK_IMPORTED_MODULE_44__.xu,{children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_37__.jsx)(_chakra_ui_react__WEBPACK_IMPORTED_MODULE_41__.zx,{colorScheme:"purple",isDisabled:0===selectedData.length,onClick:function onClick(){return doExport(selectedData)},children:"Export"})})})}}]}),[autoLink,conferencePath,data,green,greenAlt]),pageSizes=(0,react__WEBPACK_IMPORTED_MODULE_27__.useMemo)((function(){return[10,20,35,50]}),[]);return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_37__.jsxs)(_DashboardPage__WEBPACK_IMPORTED_MODULE_36__.Y,{title:"Program People",children:[(!loadingAllProgramPersons||null!=allProgramPersons&&allProgramPersons.collection_ProgramPerson)&&errorAllProgramPersons?(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_37__.jsx)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_37__.Fragment,{children:"An error occurred loading in data - please see further information in notifications."}):(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_37__.jsx)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_37__.Fragment,{}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_37__.jsx)(_CRUDTable2_CRUDTable2__WEBPACK_IMPORTED_MODULE_32__.Z,{data:!loadingAllProgramPersons&&(null!=allProgramPersons&&allProgramPersons.collection_ProgramPerson?data:null),tableUniqueName:"ManageConferenceProgramPeople",row,columns,pageSizes,insert,update,delete:deleteP,buttons,forceReload:forceReloadRef})]})}(0,_urql_core__WEBPACK_IMPORTED_MODULE_38__.Ps)(_templateObject||(_templateObject=function _taggedTemplateLiteralLoose(strings,raw){return raw||(raw=strings.slice(0)),strings.raw=raw,strings}(["\n    fragment ManageProgramPeople_Registrant on registrant_Registrant {\n        id\n        displayName\n        invitation {\n            id\n            invitedEmailAddress\n        }\n        profile {\n            registrantId\n            affiliation\n        }\n    }\n\n    fragment ManageProgramPeople_ProgramPersonWithAccessToken on collection_ProgramPerson {\n        id\n        conferenceId\n        subconferenceId\n        name\n        affiliation\n        email\n        registrantId\n        accessToken\n    }\n\n    query ManageProgramPeople_SelectAllPeople($conferenceId: uuid!, $subconferenceCond: uuid_comparison_exp!) {\n        collection_ProgramPerson(where: { conferenceId: { _eq: $conferenceId }, subconferenceId: $subconferenceCond }) {\n            ...ManageProgramPeople_ProgramPersonWithAccessToken\n        }\n    }\n\n    query ManageProgramPeople_SelectAllRegistrants($conferenceId: uuid!) {\n        registrant_Registrant(where: { conferenceId: { _eq: $conferenceId } }) {\n            ...ManageProgramPeople_Registrant\n        }\n    }\n\n    mutation ManageProgramPeople_InsertProgramPerson($person: collection_ProgramPerson_insert_input!) {\n        insert_collection_ProgramPerson_one(object: $person) {\n            ...ManageProgramPeople_ProgramPersonWithAccessToken\n        }\n    }\n\n    mutation ManageProgramPeople_DeleteProgramPersons($ids: [uuid!] = []) {\n        delete_collection_ProgramPerson(where: { id: { _in: $ids } }) {\n            returning {\n                id\n            }\n        }\n    }\n\n    mutation ManageProgramPeople_UpdateProgramPerson(\n        $id: uuid!\n        $name: String!\n        $affiliation: String\n        $email: String\n        $registrantId: uuid\n    ) {\n        update_collection_ProgramPerson(\n            where: { id: { _eq: $id } }\n            _set: { name: $name, affiliation: $affiliation, email: $email, registrantId: $registrantId }\n        ) {\n            returning {\n                ...ManageProgramPeople_ProgramPersonWithAccessToken\n            }\n        }\n    }\n"]))),ManageProgramPeople.displayName="ManageProgramPeople"},"../node_modules/.pnpm/use-react-router-breadcrumbs@2.0.2_react-router@5.2.1+react@17.0.2/node_modules/use-react-router-breadcrumbs/dist/es/index.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var _babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("../node_modules/.pnpm/@babel+runtime@7.15.4/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js"),react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../node_modules/.pnpm/react@17.0.2/node_modules/react/index.js"),react_router__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("../node_modules/.pnpm/react-router@5.2.1_react@17.0.2/node_modules/react-router/esm/react-router.js");var DEFAULT_MATCH_OPTIONS={exact:!0},humanize=function humanize(str){return str.replace(/^[\s_]+|[\s_]+$/g,"").replace(/[_\s]+/g," ").replace(/^[a-z]/,(function(m){return m.toUpperCase()}))},render=function render(_ref){var Breadcrumb=_ref.breadcrumb,match=_ref.match,location=_ref.location,props=_ref.props,componentProps=Object.assign({match,location,key:match.url},props||{});return Object.assign(Object.assign({},componentProps),{breadcrumb:"string"==typeof Breadcrumb?(0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)("span",{key:componentProps.key},Breadcrumb):react__WEBPACK_IMPORTED_MODULE_0__.createElement(Breadcrumb,Object.assign({},componentProps))})},getBreadcrumbMatch=function getBreadcrumbMatch(_ref3){var breadcrumb,currentSection=_ref3.currentSection,disableDefaults=_ref3.disableDefaults,excludePaths=_ref3.excludePaths,location=_ref3.location,pathSection=_ref3.pathSection,routes=_ref3.routes;return excludePaths&&excludePaths.some((function getIsPathExcluded(path){return null!=(0,react_router__WEBPACK_IMPORTED_MODULE_1__.LX)(pathSection,{path,exact:!0,strict:!1})}))?"NO_BREADCRUMB":(routes.some((function(_a){var userProvidedBreadcrumb=_a.breadcrumb,matchOptions=_a.matchOptions,path=_a.path,rest=function __rest(s,e){var t={};for(var p in s)Object.prototype.hasOwnProperty.call(s,p)&&e.indexOf(p)<0&&(t[p]=s[p]);if(null!=s&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(p=Object.getOwnPropertySymbols(s);i<p.length;i++)e.indexOf(p[i])<0&&Object.prototype.propertyIsEnumerable.call(s,p[i])&&(t[p[i]]=s[p[i]])}return t}(_a,["breadcrumb","matchOptions","path"]);if(!path)throw new Error("useBreadcrumbs: `path` must be provided in every route object");var match=(0,react_router__WEBPACK_IMPORTED_MODULE_1__.LX)(pathSection,Object.assign(Object.assign({},matchOptions||DEFAULT_MATCH_OPTIONS),{path}));return match&&null===userProvidedBreadcrumb||!match&&matchOptions?(breadcrumb="NO_BREADCRUMB",!0):!!match&&(!userProvidedBreadcrumb&&disableDefaults?(breadcrumb="NO_BREADCRUMB",!0):(breadcrumb=render(Object.assign({breadcrumb:userProvidedBreadcrumb||humanize(currentSection),match,location},rest)),!0))})),breadcrumb||(disableDefaults?"NO_BREADCRUMB":function getDefaultBreadcrumb(_ref2){var currentSection=_ref2.currentSection,location=_ref2.location,pathSection=_ref2.pathSection,match=(0,react_router__WEBPACK_IMPORTED_MODULE_1__.LX)(pathSection,Object.assign(Object.assign({},DEFAULT_MATCH_OPTIONS),{path:pathSection}))||{url:"not-found"};return render({breadcrumb:humanize(currentSection),match,location})}({pathSection,currentSection:"/"===pathSection?"Home":currentSection,location})))},flattenRoutes=function flattenRoutes(routes){return routes.reduce((function(arr,route){return route.routes?arr.concat([route].concat((0,_babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_2__.Z)(flattenRoutes(route.routes)))):arr.concat(route)}),[])};const __WEBPACK_DEFAULT_EXPORT__=function useReactRouterBreadcrumbs(routes,options){return function getBreadcrumbs(_ref4){var routes=_ref4.routes,location=_ref4.location,_ref4$options=_ref4.options,options=void 0===_ref4$options?{}:_ref4$options,matches=[];return location.pathname.split("?")[0].split("/").reduce((function(previousSection,currentSection,index){var pathSection=currentSection?"".concat(previousSection,"/").concat(currentSection):"/";if("/"===pathSection&&0!==index)return"";var breadcrumb=getBreadcrumbMatch(Object.assign({currentSection,location,pathSection,routes},options));return"NO_BREADCRUMB"!==breadcrumb&&matches.push(breadcrumb),"/"===pathSection?"":pathSection}),""),matches}({routes:flattenRoutes(routes||[]),location:(0,react_router__WEBPACK_IMPORTED_MODULE_1__.TH)(),options})}}}]);