"use strict";(self.webpackChunk_midspace_frontend=self.webpackChunk_midspace_frontend||[]).push([[7044],{"./src/aspects/Conference/Manage/DashboardPage.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Y:()=>DashboardPage});__webpack_require__("../node_modules/.pnpm/core-js@3.21.0/node_modules/core-js/modules/es.array.includes.js"),__webpack_require__("../node_modules/.pnpm/core-js@3.21.0/node_modules/core-js/modules/es.string.includes.js");var chakra_ui_color_mode_esm=__webpack_require__("../node_modules/.pnpm/@chakra-ui+color-mode@1.4.3_react@17.0.2/node_modules/@chakra-ui/color-mode/dist/chakra-ui-color-mode.esm.js"),chakra_ui_layout_esm=__webpack_require__("../node_modules/.pnpm/@chakra-ui+layout@1.7.4_d5de66fc214059f645050e36d066c00a/node_modules/@chakra-ui/layout/dist/chakra-ui-layout.esm.js"),react=__webpack_require__("../node_modules/.pnpm/react@17.0.2/node_modules/react/index.js"),useTitle=__webpack_require__("./src/aspects/Hooks/useTitle.tsx"),useConference=__webpack_require__("./src/aspects/Conference/useConference.tsx"),chakra_ui_breadcrumb_esm=(__webpack_require__("../node_modules/.pnpm/core-js@3.21.0/node_modules/core-js/modules/es.array.find.js"),__webpack_require__("../node_modules/.pnpm/core-js@3.21.0/node_modules/core-js/modules/es.array.map.js"),__webpack_require__("../node_modules/.pnpm/@chakra-ui+breadcrumb@1.3.4_d5de66fc214059f645050e36d066c00a/node_modules/@chakra-ui/breadcrumb/dist/chakra-ui-breadcrumb.esm.js")),react_router_dom=__webpack_require__("../node_modules/.pnpm/react-router-dom@5.3.0_react@17.0.2/node_modules/react-router-dom/esm/react-router-dom.js"),es=__webpack_require__("../node_modules/.pnpm/use-react-router-breadcrumbs@2.0.2_react-router@5.2.1+react@17.0.2/node_modules/use-react-router-breadcrumbs/dist/es/index.js"),AuthParameters=__webpack_require__("./src/aspects/GQL/AuthParameters.tsx"),jsx_runtime=__webpack_require__("../node_modules/.pnpm/react@17.0.2/node_modules/react/jsx-runtime.js");function Breadcrumbs(){var conference=(0,useConference.fk)(),subconferenceId=(0,AuthParameters.h)().subconferenceId,confTitle=(0,react.useMemo)((function(){var _ref,_conference$subconfer;return null!==(_ref=subconferenceId?null===(_conference$subconfer=conference.subconferences.find((function(x){return x.id===subconferenceId})))||void 0===_conference$subconfer?void 0:_conference$subconfer.shortName:void 0)&&void 0!==_ref?_ref:conference.shortName}),[conference.shortName,conference.subconferences,subconferenceId]),routes=(0,react.useMemo)((function(){return[{path:"/conference/:slug/manage",breadcrumb:"Manage "+confTitle},{path:"/c/:slug/manage",breadcrumb:"Manage "+confTitle},{path:"/conference/:slug/manage/export/youtube",breadcrumb:"YouTube"},{path:"/c/:slug/manage/export/youtube",breadcrumb:"YouTube"},{path:"/conference/:slug/manage/export/download-videos",breadcrumb:"Download videos"},{path:"/c/:slug/manage/export/download-videos",breadcrumb:"Download videos"}]}),[confTitle]),breadcrumbs=(0,es.Z)(routes,{excludePaths:["/","/conference","/c","/conference/:slug","/c/:slug"]});return(0,jsx_runtime.jsx)(chakra_ui_breadcrumb_esm.aG,{separator:">",children:breadcrumbs.map((function(breadcrumb){return(0,jsx_runtime.jsx)(chakra_ui_breadcrumb_esm.gN,{isCurrentPage:breadcrumb.key===breadcrumb.location.key,children:(0,jsx_runtime.jsx)(chakra_ui_breadcrumb_esm.At,{as:react_router_dom.rU,to:breadcrumb.key,children:breadcrumb.breadcrumb})},breadcrumb.key)}))})}function DashboardHeaderControls(_ref){var children=_ref.children;return children?(0,jsx_runtime.jsx)(chakra_ui_layout_esm.Ug,{spacing:4,mb:4,children}):(0,jsx_runtime.jsx)(jsx_runtime.Fragment,{})}Breadcrumbs.displayName="Breadcrumbs";try{DashboardHeaderControls.displayName="DashboardHeaderControls",DashboardHeaderControls.__docgenInfo={description:"",displayName:"DashboardHeaderControls",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/aspects/Conference/Manage/DashboardHeaderControls.tsx#DashboardHeaderControls"]={docgenInfo:DashboardHeaderControls.__docgenInfo,name:"DashboardHeaderControls",path:"src/aspects/Conference/Manage/DashboardHeaderControls.tsx#DashboardHeaderControls"})}catch(__react_docgen_typescript_loader_error){}var SubconferenceSelector=__webpack_require__("./src/aspects/Conference/Manage/Subconferences/SubconferenceSelector.tsx");function DashboardPage(_ref){var title=_ref.title,children=_ref.children,controls=_ref.controls,_ref$stickyHeader=_ref.stickyHeader,stickyHeader=void 0===_ref$stickyHeader||_ref$stickyHeader,_ref$autoOverflow=_ref.autoOverflow,autoOverflow=void 0===_ref$autoOverflow||_ref$autoOverflow,conference=(0,useConference.fk)(),grayBg=(0,chakra_ui_color_mode_esm.ff)("gray.50","gray.900"),grayBorder=(0,chakra_ui_color_mode_esm.ff)("gray.300","gray.600"),titleEl=(0,useTitle.Z)(title.includes(conference.shortName)?title:title+" - "+conference.shortName);return(0,jsx_runtime.jsxs)(chakra_ui_layout_esm.kC,{flexDir:"column",w:{base:"100%",xl:"80%"},px:[2,2,4],children:[titleEl,(0,jsx_runtime.jsxs)(chakra_ui_layout_esm.xu,{position:stickyHeader?"sticky":void 0,top:0,left:0,zIndex:1e5,bgColor:grayBg,pt:4,borderBottom:"1px solid",borderBottomColor:grayBorder,children:[(0,jsx_runtime.jsx)(Breadcrumbs,{}),(0,jsx_runtime.jsxs)(chakra_ui_layout_esm.Ug,{children:[(0,jsx_runtime.jsx)(chakra_ui_layout_esm.X6,{id:"page-heading",as:"h1",size:"xl",textAlign:"left",mt:4,mb:4,children:title}),(0,jsx_runtime.jsx)(chakra_ui_layout_esm.LZ,{}),(0,jsx_runtime.jsx)(SubconferenceSelector.B,{})]}),(0,jsx_runtime.jsx)(DashboardHeaderControls,{children:controls})]}),(0,jsx_runtime.jsx)(chakra_ui_layout_esm.kC,{flexDir:"column",mt:4,w:"100%",overflow:autoOverflow?"auto":void 0,children})]})}DashboardPage.displayName="DashboardPage";try{DashboardPage.displayName="DashboardPage",DashboardPage.__docgenInfo={description:"",displayName:"DashboardPage",props:{title:{defaultValue:null,description:"",name:"title",required:!0,type:{name:"string"}},stickyHeader:{defaultValue:{value:"true"},description:"",name:"stickyHeader",required:!1,type:{name:"boolean"}},autoOverflow:{defaultValue:{value:"true"},description:"",name:"autoOverflow",required:!1,type:{name:"boolean"}},controls:{defaultValue:null,description:"",name:"controls",required:!1,type:{name:"ReactChild[]"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/aspects/Conference/Manage/DashboardPage.tsx#DashboardPage"]={docgenInfo:DashboardPage.__docgenInfo,name:"DashboardPage",path:"src/aspects/Conference/Manage/DashboardPage.tsx#DashboardPage"})}catch(__react_docgen_typescript_loader_error){}},"./src/aspects/Conference/Manage/Import/ManageImport.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{default:()=>ManageImport});var _templateObject,chakra_ui_layout_esm=__webpack_require__("../node_modules/.pnpm/@chakra-ui+layout@1.7.4_d5de66fc214059f645050e36d066c00a/node_modules/@chakra-ui/layout/dist/chakra-ui-layout.esm.js"),react=__webpack_require__("../node_modules/.pnpm/react@17.0.2/node_modules/react/index.js"),react_router=__webpack_require__("../node_modules/.pnpm/react-router@5.2.1_react@17.0.2/node_modules/react-router/esm/react-router.js"),PageNotFound=__webpack_require__("./src/aspects/Errors/PageNotFound.tsx"),AuthParameters=__webpack_require__("./src/aspects/GQL/AuthParameters.tsx"),RequireRole=__webpack_require__("./src/aspects/Conference/RequireRole.tsx"),DashboardPage=__webpack_require__("./src/aspects/Conference/Manage/DashboardPage.tsx"),RestrictedDashboardButton=__webpack_require__("./src/aspects/Conference/Manage/RestrictedDashboardButton.tsx"),auth=(__webpack_require__("../node_modules/.pnpm/core-js@3.21.0/node_modules/core-js/modules/es.array.slice.js"),__webpack_require__("../node_modules/.pnpm/core-js@3.21.0/node_modules/core-js/modules/es.array.is-array.js"),__webpack_require__("../node_modules/.pnpm/core-js@3.21.0/node_modules/core-js/modules/es.symbol.js"),__webpack_require__("../node_modules/.pnpm/core-js@3.21.0/node_modules/core-js/modules/es.symbol.description.js"),__webpack_require__("../node_modules/.pnpm/core-js@3.21.0/node_modules/core-js/modules/es.symbol.iterator.js"),__webpack_require__("../node_modules/.pnpm/core-js@3.21.0/node_modules/core-js/modules/es.string.iterator.js"),__webpack_require__("../node_modules/.pnpm/core-js@3.21.0/node_modules/core-js/modules/es.array.iterator.js"),__webpack_require__("../node_modules/.pnpm/core-js@3.21.0/node_modules/core-js/modules/web.dom-collections.iterator.js"),__webpack_require__("../node_modules/.pnpm/core-js@3.21.0/node_modules/core-js/modules/es.function.name.js"),__webpack_require__("../node_modules/.pnpm/core-js@3.21.0/node_modules/core-js/modules/es.array.from.js"),__webpack_require__("../node_modules/.pnpm/core-js@3.21.0/node_modules/core-js/modules/es.promise.js"),__webpack_require__("../node_modules/.pnpm/core-js@3.21.0/node_modules/core-js/modules/es.object.to-string.js"),__webpack_require__("../node_modules/.pnpm/core-js@3.21.0/node_modules/core-js/modules/web.timers.js"),__webpack_require__("../node_modules/.pnpm/core-js@3.21.0/node_modules/core-js/modules/es.array.includes.js"),__webpack_require__("../node_modules/.pnpm/core-js@3.21.0/node_modules/core-js/modules/es.string.includes.js"),__webpack_require__("../packages/shared/shared-types/build/esm/auth.js")),urql_es=__webpack_require__("../node_modules/.pnpm/urql@2.1.3_graphql@15.7.2+react@17.0.2/node_modules/urql/dist/urql.es.js"),urql_core=__webpack_require__("../node_modules/.pnpm/@urql+core@2.4.1_graphql@15.7.2/node_modules/@urql/core/dist/urql-core.mjs"),graphql=__webpack_require__("./src/generated/graphql.tsx"),make_context=__webpack_require__("./src/aspects/GQL/make-context.ts"),usePolling=__webpack_require__("./src/aspects/Hooks/usePolling.ts"),useConference=__webpack_require__("./src/aspects/Conference/useConference.tsx"),useCurrentRegistrant=__webpack_require__("./src/aspects/Conference/useCurrentRegistrant.tsx"),Tabs=__webpack_require__("./src/aspects/Conference/Manage/Import/Program/Tabs.tsx"),jsx_runtime=__webpack_require__("../node_modules/.pnpm/react@17.0.2/node_modules/react/jsx-runtime.js");function asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg),value=info.value}catch(error){return void reject(error)}info.done?resolve(value):Promise.resolve(value).then(_next,_throw)}function _slicedToArray(arr,i){return function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function _iterableToArrayLimit(arr,i){var _i=null==arr?null:"undefined"!=typeof Symbol&&arr[Symbol.iterator]||arr["@@iterator"];if(null==_i)return;var _s,_e,_arr=[],_n=!0,_d=!1;try{for(_i=_i.call(arr);!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function _unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}(arr,i)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function ImportProgramPage(){var _response$data3,conference=(0,useConference.fk)(),subconferenceId=(0,AuthParameters.h)().subconferenceId,registrant=(0,useCurrentRegistrant.ZP)(),context=(0,react.useMemo)((function(){var _makeContext;return(0,make_context.f)(((_makeContext={})[auth.k.Role]=subconferenceId?auth.Z.SubconferenceOrganizer:auth.Z.ConferenceOrganizer,_makeContext))}),[subconferenceId]),_useGetImportJobsQuer2=_slicedToArray((0,graphql.qU5)({variables:{conferenceId:conference.id,subconferenceCond:subconferenceId?{_eq:subconferenceId}:{_is_null:!0}},context,requestPolicy:"network-only"}),2),response=_useGetImportJobsQuer2[0],refetch=_useGetImportJobsQuer2[1],_useState2=_slicedToArray((0,react.useState)(!1),2),justStarted=_useState2[0],setJustStarted=_useState2[1];(0,usePolling.Z)((function(){var _response$data,_response$data2,_response$data2$job_q;(justStarted||null!==(_response$data=response.data)&&void 0!==_response$data&&_response$data.job_queues_ImportJob[0]&&(null===(_response$data2=response.data)||void 0===_response$data2||null===(_response$data2$job_q=_response$data2.job_queues_ImportJob[0])||void 0===_response$data2$job_q||!_response$data2$job_q.completed_at))&&refetch()}),5e3);var client=(0,urql_es.m8)();return(0,jsx_runtime.jsx)(RequireRole.Z,{organizerRole:!0,componentIfDenied:(0,jsx_runtime.jsx)(PageNotFound.default,{}),children:(0,jsx_runtime.jsx)(DashboardPage.Y,{title:"Import Program",stickyHeader:!1,autoOverflow:!1,children:(0,jsx_runtime.jsx)(Tabs.Z,{job:justStarted||null===(_response$data3=response.data)||void 0===_response$data3?void 0:_response$data3.job_queues_ImportJob[0],jobJustStarted:justStarted,onStartImport:function(){var _ref=function _asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise((function(resolve,reject){var gen=fn.apply(self,args);function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(void 0)}))}}(regeneratorRuntime.mark((function _callee(data,options){var response;return regeneratorRuntime.wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:return setJustStarted(!0),setTimeout((function(){setJustStarted(!1)}),6e3),_context.next=4,client.mutation(graphql.LnG,{object:{conferenceId:conference.id,subconferenceId,createdBy:registrant.id,data,options}},context).toPromise();case 4:if(!(response=_context.sent).error){_context.next=11;break}if(!response.error.message.includes("Uniqueness violation")||!response.error.message.includes("ImportJob_conferenceId_status_key")){_context.next=10;break}throw new Error("Another import is already in progress");case 10:throw response.error;case 11:case"end":return _context.stop()}}),_callee)})));return function(_x,_x2){return _ref.apply(this,arguments)}}()})})})}(0,urql_core.Ps)(_templateObject||(_templateObject=function _taggedTemplateLiteralLoose(strings,raw){return raw||(raw=strings.slice(0)),strings.raw=raw,strings}(["\n    fragment ImportJob on job_queues_ImportJob {\n        id\n        updated_at\n        completed_at\n        status\n        progress\n        progressMaximum\n        errors\n    }\n\n    query GetImportJobs($conferenceId: uuid!, $subconferenceCond: uuid_comparison_exp!) {\n        job_queues_ImportJob(\n            where: { conferenceId: { _eq: $conferenceId }, subconferenceId: $subconferenceCond }\n            order_by: [{ created_at: desc }]\n            limit: 1\n        ) {\n            ...ImportJob\n        }\n    }\n\n    mutation StartImportJob($object: job_queues_ImportJob_insert_input!) {\n        insert_job_queues_ImportJob_one(object: $object) {\n            id\n        }\n    }\n"]))),ImportProgramPage.displayName="ImportProgramPage";var chakra_ui_tabs_esm=__webpack_require__("../node_modules/.pnpm/@chakra-ui+tabs@1.6.5_d5de66fc214059f645050e36d066c00a/node_modules/@chakra-ui/tabs/dist/chakra-ui-tabs.esm.js"),jsonata=(__webpack_require__("../node_modules/.pnpm/core-js@3.21.0/node_modules/core-js/modules/es.array.join.js"),__webpack_require__("../node_modules/.pnpm/jsonata@1.8.6/node_modules/jsonata/jsonata.js")),jsonata_default=__webpack_require__.n(jsonata),typescript_is=__webpack_require__("../node_modules/.pnpm/typescript-is@0.19.0_typescript@4.5.5/node_modules/typescript-is/index.js");function JSONataToIntermediaryRegistrant(data,query){try{return function internalRegistrantConverter(data,query){var result=jsonata_default()(query).evaluate(data);return(0,typescript_is.assertType)(result,(function(object){var path=["result"];function _string(object){return"string"!=typeof object?{message:"validation failed at "+path.join(".")+": expected a string",path:path.slice(),reason:{type:"string"}}:null}function _2(object){if("object"!=typeof object||null===object||Array.isArray(object))return{message:"validation failed at "+path.join(".")+": expected an object",path:path.slice(),reason:{type:"object"}};if(!("name"in object))return{message:"validation failed at "+path.join(".")+": expected 'name' in object",path:path.slice(),reason:{type:"missing-property",property:"name"}};path.push("name");var error=_string(object.name);return path.pop(),error||("email"in object?(path.push("email"),error=_string(object.email),path.pop(),error||("group"in object&&(path.push("group"),error=_string(object.group),path.pop(),error)||"subconference"in object&&(path.push("subconference"),error=_string(object.subconference),path.pop(),error)?error:null)):{message:"validation failed at "+path.join(".")+": expected 'email' in object",path:path.slice(),reason:{type:"missing-property",property:"email"}})}return function sa__2_ea_2(object){if(!Array.isArray(object))return{message:"validation failed at "+path.join(".")+": expected an array",path:path.slice(),reason:{type:"array"}};for(var i=0;i<object.length;i++){path.push("["+i+"]");var error=_2(object[i]);if(path.pop(),error)return error}return null}(object)}))?result:"Unknown error"}(data,query)}catch(e){return e instanceof typescript_is.TypeGuardError?e.message:void 0}}__webpack_require__("../node_modules/.pnpm/core-js@3.21.0/node_modules/core-js/modules/es.map.js"),__webpack_require__("../node_modules/.pnpm/core-js@3.21.0/node_modules/core-js/modules/es.string.ends-with.js"),__webpack_require__("../node_modules/.pnpm/core-js@3.21.0/node_modules/core-js/modules/es.array.map.js");var chakra_ui_alert_esm=__webpack_require__("../node_modules/.pnpm/@chakra-ui+alert@1.3.5_d5de66fc214059f645050e36d066c00a/node_modules/@chakra-ui/alert/dist/chakra-ui-alert.esm.js"),chakra_ui_select_esm=__webpack_require__("../node_modules/.pnpm/@chakra-ui+select@1.2.6_d5de66fc214059f645050e36d066c00a/node_modules/@chakra-ui/select/dist/chakra-ui-select.esm.js"),chakra_ui_form_control_esm=__webpack_require__("../node_modules/.pnpm/@chakra-ui+form-control@1.5.6_d5de66fc214059f645050e36d066c00a/node_modules/@chakra-ui/form-control/dist/chakra-ui-form-control.esm.js"),chakra_ui_textarea_esm=__webpack_require__("../node_modules/.pnpm/@chakra-ui+textarea@1.2.6_d5de66fc214059f645050e36d066c00a/node_modules/@chakra-ui/textarea/dist/chakra-ui-textarea.esm.js");function _createForOfIteratorHelper(o,allowArrayLike){var it="undefined"!=typeof Symbol&&o[Symbol.iterator]||o["@@iterator"];if(!it){if(Array.isArray(o)||(it=ConfigPanel_unsupportedIterableToArray(o))||allowArrayLike&&o&&"number"==typeof o.length){it&&(o=it);var i=0,F=function F(){};return{s:F,n:function n(){return i>=o.length?{done:!0}:{done:!1,value:o[i++]}},e:function e(_e2){throw _e2},f:F}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var err,normalCompletion=!0,didErr=!1;return{s:function s(){it=it.call(o)},n:function n(){var step=it.next();return normalCompletion=step.done,step},e:function e(_e3){didErr=!0,err=_e3},f:function f(){try{normalCompletion||null==it.return||it.return()}finally{if(didErr)throw err}}}}function ConfigPanel_slicedToArray(arr,i){return function ConfigPanel_arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function ConfigPanel_iterableToArrayLimit(arr,i){var _i=null==arr?null:"undefined"!=typeof Symbol&&arr[Symbol.iterator]||arr["@@iterator"];if(null==_i)return;var _s,_e,_arr=[],_n=!0,_d=!1;try{for(_i=_i.call(arr);!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||ConfigPanel_unsupportedIterableToArray(arr,i)||function ConfigPanel_nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ConfigPanel_unsupportedIterableToArray(o,minLen){if(o){if("string"==typeof o)return ConfigPanel_arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);return"Object"===n&&o.constructor&&(n=o.constructor.name),"Map"===n||"Set"===n?Array.from(o):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ConfigPanel_arrayLikeToArray(o,minLen):void 0}}function ConfigPanel_arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function ConfigPanel(_ref){var data=_ref.data,onChange=_ref.onChange,JSONataFunction=_ref.JSONataFunction,presetJSONataXMLQuery=_ref.presetJSONataXMLQuery,presetJSONataJSONQuery=_ref.presetJSONataJSONQuery,presetJSONataCSVQuery=_ref.presetJSONataCSVQuery,presetJSONataUnknownFileTypeQuery=_ref.presetJSONataUnknownFileTypeQuery,_useState2=ConfigPanel_slicedToArray((0,react.useState)(-1),2),selectedFileIndex=_useState2[0],setSelectedFileIndex=_useState2[1];(0,react.useEffect)((function(){setSelectedFileIndex(-1)}),[data]);var _useState4=ConfigPanel_slicedToArray((0,react.useState)(new Map),2),templates=_useState4[0],setTemplates=_useState4[1];(0,react.useEffect)((function(){setTemplates((function(oldTemplates){var _step,newTemplates=new Map(oldTemplates),_iterator=_createForOfIteratorHelper(data);try{for(_iterator.s();!(_step=_iterator.n()).done;){var parsedData=_step.value;newTemplates.has(parsedData.fileName)||(presetJSONataXMLQuery&&parsedData.fileName.toLowerCase().endsWith(".xml")?"string"==typeof presetJSONataXMLQuery?newTemplates.set(parsedData.fileName,presetJSONataXMLQuery):newTemplates.set(parsedData.fileName,presetJSONataXMLQuery(parsedData.fileName)):presetJSONataJSONQuery&&parsedData.fileName.toLowerCase().endsWith(".json")?"string"==typeof presetJSONataJSONQuery?newTemplates.set(parsedData.fileName,presetJSONataJSONQuery):newTemplates.set(parsedData.fileName,presetJSONataJSONQuery(parsedData.fileName)):presetJSONataCSVQuery&&parsedData.fileName.toLowerCase().endsWith(".csv")?"string"==typeof presetJSONataCSVQuery?newTemplates.set(parsedData.fileName,presetJSONataCSVQuery):newTemplates.set(parsedData.fileName,presetJSONataCSVQuery(parsedData.fileName)):"string"==typeof presetJSONataUnknownFileTypeQuery?newTemplates.set(parsedData.fileName,presetJSONataUnknownFileTypeQuery):newTemplates.set(parsedData.fileName,presetJSONataUnknownFileTypeQuery(parsedData.fileName)))}}catch(err){_iterator.e(err)}finally{_iterator.f()}return newTemplates}))}),[data,presetJSONataCSVQuery,presetJSONataJSONQuery,presetJSONataUnknownFileTypeQuery,presetJSONataXMLQuery]);var _useState6=ConfigPanel_slicedToArray((0,react.useState)(new Map),2),errors=_useState6[0],setErrors=_useState6[1];(0,react.useEffect)((function(){var t=setTimeout((function(){var _step2,outputData={},outputErrors=new Map,_iterator2=_createForOfIteratorHelper(data);try{for(_iterator2.s();!(_step2=_iterator2.n()).done;){var parsedData=_step2.value;if("data"in parsedData){var template=templates.get(parsedData.fileName);if(template){var result=JSONataFunction(parsedData.data,template);"string"==typeof result?outputErrors.set(parsedData.fileName,"Query resulted in invalid data. "+result):result?outputData[parsedData.fileName]=result:outputErrors.set(parsedData.fileName,"Query is invalid.")}else outputErrors.set(parsedData.fileName,"No query found for this data.")}else outputErrors.set(parsedData.fileName,"Data was not imported properly.")}}catch(err){_iterator2.e(err)}finally{_iterator2.f()}setErrors(outputErrors),null==onChange||onChange(outputData)}),500);return function(){clearTimeout(t)}}),[JSONataFunction,data,onChange,templates]);var selectedData=data&&selectedFileIndex>=0&&selectedFileIndex<data.length?data[selectedFileIndex]:void 0,selectedTemplate=selectedData?templates.get(selectedData.fileName):void 0,selectedError=selectedData?errors.get(selectedData.fileName):void 0;return(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[errors.size>0?(0,jsx_runtime.jsxs)(chakra_ui_alert_esm.bZ,{status:"error",children:[(0,jsx_runtime.jsx)(chakra_ui_alert_esm.zM,{}),(0,jsx_runtime.jsxs)(chakra_ui_alert_esm.Cd,{mr:2,children:[errors.size," error",errors.size>1?"s":""," processing data"]}),(0,jsx_runtime.jsx)(chakra_ui_alert_esm.X,{children:"Please check each file below for errors."})]}):void 0,(0,jsx_runtime.jsx)(chakra_ui_layout_esm.xu,{children:(0,jsx_runtime.jsx)(chakra_ui_select_esm.Ph,{"aria-label":"Select a file to configure",placeholder:"Select a file",variant:"flushed",value:selectedFileIndex,onChange:function onChange(ev){return setSelectedFileIndex(ev.target.selectedIndex-1)},children:data.map((function(data,idx){return(0,jsx_runtime.jsx)("option",{value:idx,children:data.fileName},data.fileName)}))})}),selectedError?(0,jsx_runtime.jsxs)(chakra_ui_alert_esm.bZ,{status:"error",children:[(0,jsx_runtime.jsx)(chakra_ui_alert_esm.zM,{}),(0,jsx_runtime.jsx)(chakra_ui_alert_esm.Cd,{mr:2,children:"An error occurred processing this file"}),(0,jsx_runtime.jsx)(chakra_ui_alert_esm.X,{children:selectedError})]}):void 0,selectedData&&(0,jsx_runtime.jsx)(chakra_ui_layout_esm.xu,{children:(0,jsx_runtime.jsxs)(chakra_ui_form_control_esm.NI,{children:[(0,jsx_runtime.jsx)(chakra_ui_form_control_esm.lX,{children:"Parser script (JSONata)"}),(0,jsx_runtime.jsx)(chakra_ui_form_control_esm.Q6,{children:"Provide a JSONata script to interpret your imported data into Midspace's intermediary format. We currently provide template scripts for Researchr and HotCRP. (In future we hope to make this a proper configuration editor and provide an easier-to-use system for customising standard templates)."}),(0,jsx_runtime.jsx)(chakra_ui_textarea_esm.g,{transition:"none",fontFamily:'SFMono-Regular,Menlo,Monaco,Consolas,"Liberation Mono","Courier New",monospace',minH:"400px",value:null!=selectedTemplate?selectedTemplate:"",onChange:function onChange(ev){setTemplates((function(oldTemplates){var newTemplates=new Map(oldTemplates);return newTemplates.set(selectedData.fileName,ev.target.value),newTemplates}))}})]})})]})}try{ConfigPanel.displayName="ConfigPanel",ConfigPanel.__docgenInfo={description:"",displayName:"ConfigPanel",props:{data:{defaultValue:null,description:"",name:"data",required:!0,type:{name:"ParsedData<any[]>[]"}},onChange:{defaultValue:null,description:"",name:"onChange",required:!1,type:{name:"((data: Record<string, IntermediaryRegistrantData[]>) => void)"}},JSONataFunction:{defaultValue:null,description:"",name:"JSONataFunction",required:!0,type:{name:"(data: any, query: string) => string | IntermediaryRegistrantData[] | undefined"}},presetJSONataXMLQuery:{defaultValue:null,description:"",name:"presetJSONataXMLQuery",required:!1,type:{name:"string | ((name: string) => string)"}},presetJSONataJSONQuery:{defaultValue:null,description:"",name:"presetJSONataJSONQuery",required:!1,type:{name:"string | ((name: string) => string)"}},presetJSONataCSVQuery:{defaultValue:null,description:"",name:"presetJSONataCSVQuery",required:!1,type:{name:"string | ((name: string) => string)"}},presetJSONataUnknownFileTypeQuery:{defaultValue:null,description:"",name:"presetJSONataUnknownFileTypeQuery",required:!0,type:{name:"string | ((name: string) => string)"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/aspects/Conference/Manage/Import/Shared/ConfigPanel.tsx#ConfigPanel"]={docgenInfo:ConfigPanel.__docgenInfo,name:"ConfigPanel",path:"src/aspects/Conference/Manage/Import/Shared/ConfigPanel.tsx#ConfigPanel"})}catch(__react_docgen_typescript_loader_error){}__webpack_require__("../node_modules/.pnpm/core-js@3.21.0/node_modules/core-js/modules/es.object.assign.js"),__webpack_require__("../node_modules/.pnpm/core-js@3.21.0/node_modules/core-js/modules/es.array.find.js");var chakra_ui_spinner_esm=__webpack_require__("../node_modules/.pnpm/@chakra-ui+spinner@1.2.4_d5de66fc214059f645050e36d066c00a/node_modules/@chakra-ui/spinner/dist/chakra-ui-spinner.esm.js"),chakra_ui_button_esm=__webpack_require__("../node_modules/.pnpm/@chakra-ui+button@1.5.5_d5de66fc214059f645050e36d066c00a/node_modules/@chakra-ui/button/dist/chakra-ui-button.esm.js"),FAIcon=__webpack_require__("./src/aspects/Chakra/FAIcon.tsx"),LinkButton=__webpack_require__("./src/aspects/Chakra/LinkButton.tsx"),useCSVJSONXMLFileSelector=__webpack_require__("./src/aspects/Files/useCSVJSONXMLFileSelector.tsx"),useCSVJSONXMLImportOptions=__webpack_require__("./src/aspects/Files/useCSVJSONXMLImportOptions.tsx"),useCSVJSONXMLParser=__webpack_require__("./src/aspects/Files/useCSVJSONXMLParser.tsx");function DataPanel_slicedToArray(arr,i){return function DataPanel_arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function DataPanel_iterableToArrayLimit(arr,i){var _i=null==arr?null:"undefined"!=typeof Symbol&&arr[Symbol.iterator]||arr["@@iterator"];if(null==_i)return;var _s,_e,_arr=[],_n=!0,_d=!1;try{for(_i=_i.call(arr);!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||DataPanel_unsupportedIterableToArray(arr,i)||function DataPanel_nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function DataPanel_unsupportedIterableToArray(o,minLen){if(o){if("string"==typeof o)return DataPanel_arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);return"Object"===n&&o.constructor&&(n=o.constructor.name),"Map"===n||"Set"===n?Array.from(o):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?DataPanel_arrayLikeToArray(o,minLen):void 0}}function DataPanel_arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function parser(data){return data.subevent&&(data=data.subevent),{ok:!0,data}}function DataPanel(_ref){var onData=_ref.onData,_useCSVJSONXMLFileSel=(0,useCSVJSONXMLFileSelector.Z)(),acceptedFiles=_useCSVJSONXMLFileSel.acceptedFiles,fileImporterEl=_useCSVJSONXMLFileSel.component,_useCSVJSONXMLImportO=(0,useCSVJSONXMLImportOptions.Z)(acceptedFiles),importOptions=_useCSVJSONXMLImportO.importOptions,replaceImportOptions=_useCSVJSONXMLImportO.replaceImportOptions,openOptionsButton=_useCSVJSONXMLImportO.openOptionsButton,optionsComponent=_useCSVJSONXMLImportO.optionsComponent,data=(0,useCSVJSONXMLParser.Z)(importOptions,parser).data;(0,react.useEffect)((function(){var newOptionsChanged=!1;if(data){var _step,newOptions=importOptions.map((function(x){return Object.assign({},x)})),_loop=function _loop(aData){if("error"in aData&&"TextDecoder.decode: Decoding failed."===aData.error){var options=newOptions.find((function(x){return x.file.name===aData.fileName}));"utf-8"!==(null==options?void 0:options.encoding)&&"utf8"!==(null==options?void 0:options.encoding)||(options.encoding="ansi_x3.4-1968",newOptionsChanged=!0)}},_iterator=function DataPanel_createForOfIteratorHelper(o,allowArrayLike){var it="undefined"!=typeof Symbol&&o[Symbol.iterator]||o["@@iterator"];if(!it){if(Array.isArray(o)||(it=DataPanel_unsupportedIterableToArray(o))||allowArrayLike&&o&&"number"==typeof o.length){it&&(o=it);var i=0,F=function F(){};return{s:F,n:function n(){return i>=o.length?{done:!0}:{done:!1,value:o[i++]}},e:function e(_e2){throw _e2},f:F}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var err,normalCompletion=!0,didErr=!1;return{s:function s(){it=it.call(o)},n:function n(){var step=it.next();return normalCompletion=step.done,step},e:function e(_e3){didErr=!0,err=_e3},f:function f(){try{normalCompletion||null==it.return||it.return()}finally{if(didErr)throw err}}}}(data);try{for(_iterator.s();!(_step=_iterator.n()).done;){_loop(_step.value)}}catch(err){_iterator.e(err)}finally{_iterator.f()}newOptionsChanged&&replaceImportOptions(newOptions)}newOptionsChanged||null==onData||onData(data)}),[data,importOptions,onData,replaceImportOptions]);var _useState2=DataPanel_slicedToArray((0,react.useState)(-1),2),selectedFileIndex=_useState2[0],setSelectedFileIndex=_useState2[1],selectedData=data&&selectedFileIndex>=0&&selectedFileIndex<data.length?data[selectedFileIndex]:void 0;return(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[(0,jsx_runtime.jsxs)(chakra_ui_layout_esm.gC,{w:"100%",align:"flex-start",spacing:4,children:[(0,jsx_runtime.jsxs)(chakra_ui_layout_esm.xv,{children:["Get help"," ",(0,jsx_runtime.jsx)(chakra_ui_layout_esm.rU,{isExternal:!0,href:"https://resources.midspace.app/organizer-guides/getting-started/import-registrants/",children:"importing your registrants"})]}),(0,jsx_runtime.jsxs)(chakra_ui_layout_esm.Eq,{align:"center",spacing:4,children:[(0,jsx_runtime.jsx)(chakra_ui_layout_esm.Uc,{children:(0,jsx_runtime.jsx)(LinkButton.o6,{to:"https://docs.google.com/spreadsheets/d/1XtQJPts8h59LNdIsShKRLMj4QndP97aC/export?format=xlsx",isExternal:!0,children:"Download Template"})}),(0,jsx_runtime.jsx)(chakra_ui_layout_esm.Uc,{children:(0,jsx_runtime.jsx)(LinkButton.bd,{to:"https://docs.google.com/spreadsheets/d/1XtQJPts8h59LNdIsShKRLMj4QndP97aC/copy",leftIcon:(0,jsx_runtime.jsx)(FAIcon.Z,{iconStyle:"b",icon:"google-drive"}),children:"Copy Template"})})]}),fileImporterEl,openOptionsButton,(0,jsx_runtime.jsxs)(chakra_ui_layout_esm.xu,{w:"100%",children:[data?(0,jsx_runtime.jsx)(chakra_ui_select_esm.Ph,{"aria-label":"Select a file to preview imported data",placeholder:"Select a file",variant:"flushed",value:selectedFileIndex,onChange:function onChange(ev){return setSelectedFileIndex(ev.target.selectedIndex-1)},children:data.map((function(data,idx){return(0,jsx_runtime.jsx)("option",{value:idx,children:data.fileName},data.fileName)}))}):(0,jsx_runtime.jsx)(chakra_ui_spinner_esm.$,{}),(0,jsx_runtime.jsx)(chakra_ui_layout_esm.xu,{pt:2,children:selectedData&&(0,jsx_runtime.jsx)(jsx_runtime.Fragment,{children:"error"in selectedData?(0,jsx_runtime.jsxs)(chakra_ui_alert_esm.bZ,{status:"error",children:[(0,jsx_runtime.jsx)(chakra_ui_alert_esm.zM,{}),(0,jsx_runtime.jsx)(chakra_ui_alert_esm.Cd,{mr:2,children:"Error parsing data!"}),(0,jsx_runtime.jsx)(chakra_ui_alert_esm.X,{children:selectedData.error})]}):(0,jsx_runtime.jsxs)(chakra_ui_layout_esm.xv,{as:"pre",w:"100%",overflowWrap:"break-word",whiteSpace:"pre-wrap",position:"relative",children:[(0,jsx_runtime.jsx)(chakra_ui_button_esm.zx,{"aria-label":"Copy output data",position:"absolute",top:2,right:2,colorScheme:"purple",onClick:function onClick(){navigator.clipboard.writeText(JSON.stringify(selectedData,null,2))},children:(0,jsx_runtime.jsx)(FAIcon.Z,{iconStyle:"r",icon:"clipboard"})}),(0,jsx_runtime.jsx)(chakra_ui_layout_esm.EK,{w:"100%",p:2,children:JSON.stringify(selectedData.data,null,2)})]})})})]})]}),optionsComponent]})}try{DataPanel.displayName="DataPanel",DataPanel.__docgenInfo={description:"",displayName:"DataPanel",props:{onData:{defaultValue:null,description:"",name:"onData",required:!1,type:{name:"((data: ParsedData<any[]>[]) => void)"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/aspects/Conference/Manage/Import/Shared/DataPanel.tsx#DataPanel"]={docgenInfo:DataPanel.__docgenInfo,name:"DataPanel",path:"src/aspects/Conference/Manage/Import/Shared/DataPanel.tsx#DataPanel"})}catch(__react_docgen_typescript_loader_error){}__webpack_require__("../node_modules/.pnpm/core-js@3.21.0/node_modules/core-js/modules/es.set.js");var chakra_ui_hooks_esm=__webpack_require__("../node_modules/.pnpm/@chakra-ui+hooks@1.8.2_react@17.0.2/node_modules/@chakra-ui/hooks/dist/chakra-ui-hooks.esm.js"),chakra_ui_modal_esm=__webpack_require__("../node_modules/.pnpm/@chakra-ui+modal@1.10.7_d24435ba52f1f88b08cc54a1f1d4e56f/node_modules/@chakra-ui/modal/dist/chakra-ui-modal.esm.js");function JSONataQueryModal_slicedToArray(arr,i){return function JSONataQueryModal_arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function JSONataQueryModal_iterableToArrayLimit(arr,i){var _i=null==arr?null:"undefined"!=typeof Symbol&&arr[Symbol.iterator]||arr["@@iterator"];if(null==_i)return;var _s,_e,_arr=[],_n=!0,_d=!1;try{for(_i=_i.call(arr);!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||JSONataQueryModal_unsupportedIterableToArray(arr,i)||function JSONataQueryModal_nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _toConsumableArray(arr){return function _arrayWithoutHoles(arr){if(Array.isArray(arr))return JSONataQueryModal_arrayLikeToArray(arr)}(arr)||function _iterableToArray(iter){if("undefined"!=typeof Symbol&&null!=iter[Symbol.iterator]||null!=iter["@@iterator"])return Array.from(iter)}(arr)||JSONataQueryModal_unsupportedIterableToArray(arr)||function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function JSONataQueryModal_unsupportedIterableToArray(o,minLen){if(o){if("string"==typeof o)return JSONataQueryModal_arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);return"Object"===n&&o.constructor&&(n=o.constructor.name),"Map"===n||"Set"===n?Array.from(o):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?JSONataQueryModal_arrayLikeToArray(o,minLen):void 0}}function JSONataQueryModal_arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function Set_toJSON(_key,value){return"object"==typeof value&&value instanceof Set?_toConsumableArray(value):value}function JSONataQueryModal(_ref){var poisonData=_ref.data,buttonText=_ref.buttonText,defaultQuery=_ref.defaultQuery,_useDisclosure=(0,chakra_ui_hooks_esm.qY)(),isOpen=_useDisclosure.isOpen,onOpen=_useDisclosure.onOpen,onClose=_useDisclosure.onClose,_useState2=JSONataQueryModal_slicedToArray((0,react.useState)(defaultQuery),2),query=_useState2[0],setQuery=_useState2[1],_useState4=JSONataQueryModal_slicedToArray((0,react.useState)(null),2),error=_useState4[0],setError=_useState4[1],_useState6=JSONataQueryModal_slicedToArray((0,react.useState)(),2),result=_useState6[0],setResult=_useState6[1],_useState8=JSONataQueryModal_slicedToArray((0,react.useState)({}),2),data=_useState8[0],setData=_useState8[1];return(0,react.useEffect)((function(){setData(JSON.parse(JSON.stringify(poisonData,Set_toJSON)))}),[poisonData]),(0,react.useEffect)((function(){setResult(null);var t=setTimeout((function(){if(query)try{var _result=jsonata_default()(query).evaluate(data);setError(null),setResult(_result)}catch(e){setError("Query is invalid: "+e.message)}else setError("No query found for this data.")}),250);return function(){clearTimeout(t)}}),[data,query]),(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[(0,jsx_runtime.jsx)(chakra_ui_button_esm.zx,{onClick:onOpen,children:null!=buttonText?buttonText:"JSONata Query Tool"}),(0,jsx_runtime.jsxs)(chakra_ui_modal_esm.u_,{isOpen,onClose,size:"full",scrollBehavior:"inside",children:[(0,jsx_runtime.jsx)(chakra_ui_modal_esm.ZA,{}),(0,jsx_runtime.jsxs)(chakra_ui_modal_esm.hz,{pb:4,children:[(0,jsx_runtime.jsx)(chakra_ui_modal_esm.xB,{children:"JSONata Query Tool"}),(0,jsx_runtime.jsx)(chakra_ui_modal_esm.ol,{}),(0,jsx_runtime.jsx)(chakra_ui_modal_esm.fe,{children:(0,jsx_runtime.jsxs)(chakra_ui_layout_esm.gC,{children:[(0,jsx_runtime.jsxs)(chakra_ui_form_control_esm.NI,{pb:4,children:[(0,jsx_runtime.jsx)(chakra_ui_form_control_esm.lX,{children:"Query script (JSONata)"}),(0,jsx_runtime.jsx)(chakra_ui_form_control_esm.Q6,{children:"Provide a JSONata script to query the data."}),(0,jsx_runtime.jsx)(chakra_ui_textarea_esm.g,{transition:"none",fontFamily:'SFMono-Regular,Menlo,Monaco,Consolas,"Liberation Mono","Courier New",monospace',minH:"400px",value:null!=query?query:"",onChange:function onChange(ev){setQuery(ev.target.value)}})]}),error?(0,jsx_runtime.jsxs)(chakra_ui_alert_esm.bZ,{status:"error",children:[(0,jsx_runtime.jsx)(chakra_ui_alert_esm.zM,{}),(0,jsx_runtime.jsx)(chakra_ui_alert_esm.Cd,{mr:2,children:"An error occurred"}),(0,jsx_runtime.jsx)(chakra_ui_alert_esm.X,{children:error})]}):void 0,(0,jsx_runtime.jsxs)(chakra_ui_layout_esm.xv,{as:"pre",w:"100%",overflowWrap:"break-word",whiteSpace:"pre-wrap",position:"relative",children:[(0,jsx_runtime.jsx)(chakra_ui_button_esm.zx,{"aria-label":"Copy output data",position:"absolute",top:2,right:2,colorScheme:"purple",onClick:function onClick(){navigator.clipboard.writeText(JSON.stringify(result,Set_toJSON,2))},children:(0,jsx_runtime.jsx)(FAIcon.Z,{iconStyle:"r",icon:"clipboard"})}),(0,jsx_runtime.jsx)(chakra_ui_layout_esm.EK,{w:"100%",p:2,children:JSON.stringify(result,Set_toJSON,2)})]})]})})]})]})]})}try{JSONataQueryModal.displayName="JSONataQueryModal",JSONataQueryModal.__docgenInfo={description:"",displayName:"JSONataQueryModal",props:{data:{defaultValue:null,description:"",name:"data",required:!0,type:{name:"any"}},buttonText:{defaultValue:null,description:"",name:"buttonText",required:!1,type:{name:"string"}},defaultQuery:{defaultValue:null,description:"",name:"defaultQuery",required:!0,type:{name:"string"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/aspects/Files/JSONataQueryModal.tsx#JSONataQueryModal"]={docgenInfo:JSONataQueryModal.__docgenInfo,name:"JSONataQueryModal",path:"src/aspects/Files/JSONataQueryModal.tsx#JSONataQueryModal"})}catch(__react_docgen_typescript_loader_error){}function ReviewPanel(_ref){var data=_ref.data,defaultQuery=_ref.defaultQuery;return(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[(0,jsx_runtime.jsx)(JSONataQueryModal,{data,defaultQuery}),(0,jsx_runtime.jsxs)(chakra_ui_layout_esm.xu,{pt:2,position:"relative",children:[(0,jsx_runtime.jsx)(chakra_ui_button_esm.zx,{"aria-label":"Copy output data",position:"absolute",top:2,right:0,colorScheme:"purple",onClick:function onClick(){navigator.clipboard.writeText(JSON.stringify(data,null,2))},children:(0,jsx_runtime.jsx)(FAIcon.Z,{iconStyle:"r",icon:"clipboard"})}),(0,jsx_runtime.jsx)(chakra_ui_layout_esm.xv,{as:"pre",w:"100%",overflowWrap:"break-word",whiteSpace:"pre-wrap",children:(0,jsx_runtime.jsx)(chakra_ui_layout_esm.EK,{w:"100%",p:2,children:JSON.stringify(data,null,2)})})]})]})}try{ReviewPanel.displayName="ReviewPanel",ReviewPanel.__docgenInfo={description:"",displayName:"ReviewPanel",props:{data:{defaultValue:null,description:"",name:"data",required:!0,type:{name:"Record<string, IntermediaryRegistrantData[]>"}},defaultQuery:{defaultValue:null,description:"",name:"defaultQuery",required:!0,type:{name:"string"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/aspects/Conference/Manage/Import/Shared/ReviewPanel.tsx#ReviewPanel"]={docgenInfo:ReviewPanel.__docgenInfo,name:"ReviewPanel",path:"src/aspects/Conference/Manage/Import/Shared/ReviewPanel.tsx#ReviewPanel"})}catch(__react_docgen_typescript_loader_error){}__webpack_require__("../node_modules/.pnpm/core-js@3.21.0/node_modules/core-js/modules/es.array.reduce.js"),__webpack_require__("../node_modules/.pnpm/core-js@3.21.0/node_modules/core-js/modules/es.object.values.js"),__webpack_require__("../node_modules/.pnpm/core-js@3.21.0/node_modules/core-js/modules/es.string.trim.js"),__webpack_require__("../node_modules/.pnpm/core-js@3.21.0/node_modules/core-js/modules/es.array.some.js"),__webpack_require__("../node_modules/.pnpm/core-js@3.21.0/node_modules/core-js/modules/es.array.for-each.js"),__webpack_require__("../node_modules/.pnpm/core-js@3.21.0/node_modules/core-js/modules/web.dom-collections.for-each.js"),__webpack_require__("../node_modules/.pnpm/core-js@3.21.0/node_modules/core-js/modules/es.array.filter.js"),__webpack_require__("../node_modules/.pnpm/core-js@3.21.0/node_modules/core-js/modules/es.array.flat-map.js"),__webpack_require__("../node_modules/.pnpm/core-js@3.21.0/node_modules/core-js/modules/es.array.unscopables.flat-map.js"),__webpack_require__("../node_modules/.pnpm/core-js@3.21.0/node_modules/core-js/modules/es.array.sort.js");var ImportPanel_templateObject,chakra_ui_toast_esm=__webpack_require__("../node_modules/.pnpm/@chakra-ui+toast@1.5.4_3467197ee0b52af28e4f3b42a3c78b88/node_modules/@chakra-ui/toast/dist/chakra-ui-toast.esm.js"),chakra_ui_table_esm=__webpack_require__("../node_modules/.pnpm/@chakra-ui+table@1.3.4_d5de66fc214059f645050e36d066c00a/node_modules/@chakra-ui/table/dist/chakra-ui-table.esm.js"),es=__webpack_require__("../node_modules/.pnpm/ramda@0.28.0/node_modules/ramda/es/index.js"),v4=__webpack_require__("../node_modules/.pnpm/uuid@8.3.2/node_modules/uuid/dist/esm-browser/v4.js"),useQueryErrorToast=__webpack_require__("./src/aspects/GQL/useQueryErrorToast.tsx");function ImportPanel_toConsumableArray(arr){return function ImportPanel_arrayWithoutHoles(arr){if(Array.isArray(arr))return ImportPanel_arrayLikeToArray(arr)}(arr)||function ImportPanel_iterableToArray(iter){if("undefined"!=typeof Symbol&&null!=iter[Symbol.iterator]||null!=iter["@@iterator"])return Array.from(iter)}(arr)||ImportPanel_unsupportedIterableToArray(arr)||function ImportPanel_nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ImportPanel_slicedToArray(arr,i){return function ImportPanel_arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function ImportPanel_iterableToArrayLimit(arr,i){var _i=null==arr?null:"undefined"!=typeof Symbol&&arr[Symbol.iterator]||arr["@@iterator"];if(null==_i)return;var _s,_e,_arr=[],_n=!0,_d=!1;try{for(_i=_i.call(arr);!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||ImportPanel_unsupportedIterableToArray(arr,i)||function ImportPanel_nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ImportPanel_unsupportedIterableToArray(o,minLen){if(o){if("string"==typeof o)return ImportPanel_arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);return"Object"===n&&o.constructor&&(n=o.constructor.name),"Map"===n||"Set"===n?Array.from(o):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ImportPanel_arrayLikeToArray(o,minLen):void 0}}function ImportPanel_arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function ImportPanel(_ref){var inputData=_ref.data,conference=(0,useConference.fk)(),subconferenceId=(0,AuthParameters.h)().subconferenceId,_useState2=ImportPanel_slicedToArray((0,react.useState)(!1),2),hasImported=_useState2[0],setHasImported=_useState2[1],context=(0,react.useMemo)((function(){var _makeContext;return(0,make_context.f)(((_makeContext={})[auth.k.Role]=subconferenceId?auth.Z.SubconferenceOrganizer:auth.Z.ConferenceOrganizer,_makeContext))}),[subconferenceId]),_useSelectAllGroupsQu3=ImportPanel_slicedToArray((0,graphql.fkY)({requestPolicy:"network-only",variables:{conferenceId:conference.id,subconferenceCond:subconferenceId?{_eq:subconferenceId}:{_is_null:!0}},context}),1)[0],groupsLoading=_useSelectAllGroupsQu3.fetching,groupsData=_useSelectAllGroupsQu3.data,groupsError=_useSelectAllGroupsQu3.error;(0,useQueryErrorToast.Z)(groupsError,!1);var _useImportRegistrants3=ImportPanel_slicedToArray((0,graphql.nwX)({requestPolicy:"network-only",variables:{conferenceId:conference.id},context}),1)[0],subconferencesLoading=_useImportRegistrants3.fetching,subconferencesData=_useImportRegistrants3.data,subconferencesError=_useImportRegistrants3.error;(0,useQueryErrorToast.Z)(subconferencesError,!1);var _useSelectAllRegistra2=ImportPanel_slicedToArray((0,graphql.a5H)({requestPolicy:"network-only",variables:{conferenceId:conference.id},context}),2),_useSelectAllRegistra3=_useSelectAllRegistra2[0],registrantsLoading=_useSelectAllRegistra3.fetching,registrantsData=_useSelectAllRegistra3.data,registrantsError=_useSelectAllRegistra3.error,refetchRegistrants=_useSelectAllRegistra2[1];(0,useQueryErrorToast.Z)(registrantsError,!1);var _useImportRegistrants5=ImportPanel_slicedToArray((0,graphql.vFW)(),2),_useImportRegistrants6=_useImportRegistrants5[0],importLoading=_useImportRegistrants6.fetching,importError=_useImportRegistrants6.error,importData=_useImportRegistrants6.data,importMutation=_useImportRegistrants5[1];(0,useQueryErrorToast.Z)(importError,!1);var toast=(0,chakra_ui_toast_esm.pm)();(0,react.useEffect)((function(){null!=importData&&importData.insert_registrant_Registrant&&(toast({title:"Imported "+importData.insert_registrant_Registrant.affected_rows+" registrants. Added registrants to groups and subconferences.",status:"success",duration:3e3,position:"bottom"}),refetchRegistrants())}),[null==importData?void 0:importData.insert_registrant_Registrant,refetchRegistrants,toast]);var finalData=(0,react.useMemo)((function(){return Object.values(inputData).reduce((function(acc,input){var _step,_loop=function _loop(row){var _row$group,_row$subconference,email=row.email.trim().toLowerCase(),group=null!==(_row$group=row.group)&&void 0!==_row$group&&_row$group.length?null==groupsData?void 0:groupsData.registrant_Group.find((function(g){var _row$group2;return g.name.trim().toLowerCase()===(null===(_row$group2=row.group)||void 0===_row$group2?void 0:_row$group2.trim().toLowerCase())})):void 0,subconference=null!==(_row$subconference=row.subconference)&&void 0!==_row$subconference&&_row$subconference.length?null==subconferencesData?void 0:subconferencesData.conference_Subconference.find((function(g){var _row$subconference2;return g.shortName.trim().toLowerCase()===(null===(_row$subconference2=row.subconference)||void 0===_row$subconference2?void 0:_row$subconference2.trim().toLowerCase())})):void 0,existingFinal=acc.find((function(x){return x.email===email}));if(existingFinal){var _row$group3,_row$subconference3;if(group){var existingOriginal=!existingFinal.isNew&&(null==registrantsData?void 0:registrantsData.registrant_Registrant)&&registrantsData.registrant_Registrant.find((function(x){return x.id===existingFinal.id}));existingFinal.groups.some((function(x){return x.id===group.id}))||existingOriginal&&existingOriginal.groupRegistrants.some((function(x){return x.groupId===group.id}))||existingFinal.groups.push(group)}else null!==(_row$group3=row.group)&&void 0!==_row$group3&&_row$group3.length&&(existingFinal.missingGroups?existingFinal.missingGroups.some((function(x){var _row$group4;return x.toLowerCase()===(null===(_row$group4=row.group)||void 0===_row$group4?void 0:_row$group4.trim().toLowerCase())}))||existingFinal.missingGroups.push(row.group.trim()):existingFinal.missingGroups=[row.group.trim()]);if(subconference){var _existingOriginal=!existingFinal.isNew&&(null==registrantsData?void 0:registrantsData.registrant_Registrant)&&registrantsData.registrant_Registrant.find((function(x){return x.id===existingFinal.id}));existingFinal.subconferences.some((function(x){return x.id===subconference.id}))||_existingOriginal&&_existingOriginal.subconferenceMemberships.some((function(x){return x.subconferenceId===subconference.id}))||existingFinal.subconferences.push(subconference)}else null!==(_row$subconference3=row.subconference)&&void 0!==_row$subconference3&&_row$subconference3.length&&(existingFinal.missingSubconferences?existingFinal.missingSubconferences.some((function(x){var _row$subconference4;return x.toLowerCase()===(null===(_row$subconference4=row.subconference)||void 0===_row$subconference4?void 0:_row$subconference4.trim().toLowerCase())}))||existingFinal.missingSubconferences.push(row.subconference.trim()):existingFinal.missingSubconferences=[row.subconference.trim()])}else{var _existingOriginal2=(null==registrantsData?void 0:registrantsData.registrant_Registrant)&&registrantsData.registrant_Registrant.find((function(x){return x.invitation&&x.invitation.invitedEmailAddress.trim().toLowerCase()===email}));if(_existingOriginal2){var _row$group5,_row$subconference5;(!group&&null!==(_row$group5=row.group)&&void 0!==_row$group5&&_row$group5.length||!subconference&&null!==(_row$subconference5=row.subconference)&&void 0!==_row$subconference5&&_row$subconference5.length||!_existingOriginal2.groupRegistrants.some((function(x){return x.groupId===(null==group?void 0:group.id)}))||!_existingOriginal2.subconferenceMemberships.some((function(x){return x.subconferenceId===(null==subconference?void 0:subconference.id)})))&&acc.push({id:_existingOriginal2.id,isNew:!1,email,name:_existingOriginal2.displayName,groups:group?[group]:[],missingGroups:!group&&row.group?[row.group.trim()]:void 0,subconferences:subconference?[subconference]:[],missingSubconferences:!subconference&&row.subconference?[row.subconference.trim()]:void 0})}else{var name=row.name.trim();acc.push({id:(0,v4.Z)(),isNew:!0,email,name,groups:group?[group]:[],missingGroups:!group&&row.group?[row.group.trim()]:void 0,subconferences:subconference?[subconference]:[],missingSubconferences:!subconference&&row.subconference?[row.subconference.trim()]:void 0})}}},_iterator=function ImportPanel_createForOfIteratorHelper(o,allowArrayLike){var it="undefined"!=typeof Symbol&&o[Symbol.iterator]||o["@@iterator"];if(!it){if(Array.isArray(o)||(it=ImportPanel_unsupportedIterableToArray(o))||allowArrayLike&&o&&"number"==typeof o.length){it&&(o=it);var i=0,F=function F(){};return{s:F,n:function n(){return i>=o.length?{done:!0}:{done:!1,value:o[i++]}},e:function e(_e2){throw _e2},f:F}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var err,normalCompletion=!0,didErr=!1;return{s:function s(){it=it.call(o)},n:function n(){var step=it.next();return normalCompletion=step.done,step},e:function e(_e3){didErr=!0,err=_e3},f:function f(){try{normalCompletion||null==it.return||it.return()}finally{if(didErr)throw err}}}}(input);try{for(_iterator.s();!(_step=_iterator.n()).done;){_loop(_step.value)}}catch(err){_iterator.e(err)}finally{_iterator.f()}return acc}),[])}),[inputData,null==groupsData?void 0:groupsData.registrant_Group,null==subconferencesData?void 0:subconferencesData.conference_Subconference,null==registrantsData?void 0:registrantsData.registrant_Registrant]),missingGroups=(0,react.useMemo)((function(){var _finalData$reduce;return ImportPanel_toConsumableArray(null!==(_finalData$reduce=null==finalData?void 0:finalData.reduce((function(acc,x){return x.missingGroups&&x.missingGroups.forEach((function(y){return acc.add(y)})),acc}),new Set))&&void 0!==_finalData$reduce?_finalData$reduce:[])}),[finalData]),missingSubconferences=(0,react.useMemo)((function(){var _finalData$reduce2;return ImportPanel_toConsumableArray(null!==(_finalData$reduce2=null==finalData?void 0:finalData.reduce((function(acc,x){return x.missingSubconferences&&x.missingSubconferences.forEach((function(y){return acc.add(y)})),acc}),new Set))&&void 0!==_finalData$reduce2?_finalData$reduce2:[])}),[finalData]),noEmail=finalData.some((function(x){return 0===x.email.length})),noName=finalData.some((function(x){return 0===x.name.length})),totalInputLength=(0,react.useMemo)((function(){return Object.values(inputData).reduce((function(acc,rows){return acc+rows.length}),0)}),[inputData]),totalOutputLength=(0,react.useMemo)((function(){var _finalData$reduce3;return null!==(_finalData$reduce3=null==finalData?void 0:finalData.reduce((function(acc,x){return acc+1+x.groups.length+x.subconferences.length}),0))&&void 0!==_finalData$reduce3?_finalData$reduce3:0}),[finalData]),newRegistrantsCount=(0,react.useMemo)((function(){var _finalData$reduce4;return null!==(_finalData$reduce4=null==finalData?void 0:finalData.reduce((function(acc,x){return acc+(x.isNew?1:0)}),0))&&void 0!==_finalData$reduce4?_finalData$reduce4:0}),[finalData]),existingRegistrantsCount=(0,react.useMemo)((function(){var _finalData$reduce5;return null!==(_finalData$reduce5=null==finalData?void 0:finalData.reduce((function(acc,x){return acc+(!x.isNew&&(x.groups.length>0||x.subconferences.length>0)?1:0)}),0))&&void 0!==_finalData$reduce5?_finalData$reduce5:0}),[finalData]);return(0,jsx_runtime.jsxs)(chakra_ui_layout_esm.gC,{alignItems:"flex-start",spacing:8,children:[(0,jsx_runtime.jsxs)(chakra_ui_alert_esm.bZ,{status:"info",variant:"top-accent",flexDirection:"column",alignItems:"flex-start",justifyContent:"center",minH:"150px",children:[(0,jsx_runtime.jsxs)(chakra_ui_layout_esm.Ug,{children:[(0,jsx_runtime.jsx)(chakra_ui_alert_esm.zM,{boxSize:"40px",mr:0}),(0,jsx_runtime.jsx)(chakra_ui_alert_esm.Cd,{fontSize:"lg",children:"Please check over the data below, then click Import"})]}),(0,jsx_runtime.jsxs)(chakra_ui_alert_esm.X,{mt:4,mb:1,children:[(0,jsx_runtime.jsx)(chakra_ui_layout_esm.xv,{as:"b",children:"This does NOT send invitation emails to registrants."}),(0,jsx_runtime.jsx)(chakra_ui_layout_esm.xv,{children:"All this does is import the list into the system - after importing, you will need to go to Manage Registrants to send invitations."})]})]}),(0,jsx_runtime.jsxs)(chakra_ui_layout_esm.Ug,{children:[(0,jsx_runtime.jsx)(chakra_ui_button_esm.zx,{colorScheme:"purple",isDisabled:!!groupsError||!!registrantsError||!!subconferencesError||noName||noEmail||!!missingGroups.length||!!missingSubconferences.length,isLoading:groupsLoading||importLoading||registrantsLoading||subconferencesLoading,onClick:function onClick(){var _headers,newRegistrants=finalData.filter((function(x){return x.isNew})),newGroupRegistrants=finalData.filter((function(x){return!x.isNew})).flatMap((function(x){return x.groups.map((function(y){return{registrantId:x.id,groupId:y.id}}))})),newSubconferenceMemberships=finalData.filter((function(x){return!x.isNew})).flatMap((function(x){return x.subconferences.map((function(y){return{registrantId:x.id,subconferenceId:y.id,role:graphql.OiL.Attendee}}))}));importMutation({insertRegistrants:newRegistrants.map((function(x){return{id:x.id,conferenceId:conference.id,displayName:x.name,groupRegistrants:{data:x.groups.map((function(y){return{groupId:y.id}}))},subconferenceMemberships:{data:x.subconferences.map((function(y){return{subconferenceId:y.id,role:graphql.OiL.Attendee}}))}}})),insertInvitations:newRegistrants.map((function(x){return{registrantId:x.id,invitedEmailAddress:x.email}})),insertGroupRegistrants:newGroupRegistrants,insertSubconferenceMemberships:newSubconferenceMemberships},{fetchOptions:{headers:(_headers={},_headers[auth.k.Role]=subconferenceId?auth.Z.SubconferenceOrganizer:auth.Z.ConferenceOrganizer,_headers)}}),setHasImported(!0)},children:"Import"}),(0,jsx_runtime.jsx)(LinkButton.Qj,{to:"/conference/"+conference.slug+"/manage/registrants",colorScheme:"red",isDisabled:!!totalOutputLength&&(!hasImported||importLoading),children:"Go to Manage Registrants"})]}),noName?(0,jsx_runtime.jsxs)(chakra_ui_alert_esm.bZ,{status:"error",variant:"top-accent",flexDirection:"column",alignItems:"flex-start",justifyContent:"center",children:[(0,jsx_runtime.jsx)(chakra_ui_alert_esm.zM,{}),(0,jsx_runtime.jsx)(chakra_ui_alert_esm.Cd,{children:"Error: One or more rows has no &lsquot;name&rsquot; value"})]}):void 0,noEmail?(0,jsx_runtime.jsxs)(chakra_ui_alert_esm.bZ,{status:"error",variant:"top-accent",flexDirection:"column",alignItems:"flex-start",justifyContent:"center",children:[(0,jsx_runtime.jsx)(chakra_ui_alert_esm.zM,{}),(0,jsx_runtime.jsx)(chakra_ui_alert_esm.Cd,{children:"Error: One or more rows has no &lsquot;email&rsquot; value"})]}):void 0,missingGroups.length&&!groupsLoading?(0,jsx_runtime.jsxs)(chakra_ui_alert_esm.bZ,{status:"error",variant:"top-accent",flexDirection:"column",alignItems:"flex-start",justifyContent:"center",children:[(0,jsx_runtime.jsxs)(chakra_ui_layout_esm.Ug,{children:[(0,jsx_runtime.jsx)(chakra_ui_alert_esm.zM,{}),(0,jsx_runtime.jsx)(chakra_ui_alert_esm.Cd,{children:"Error: One or more rows has an invalid group"})]}),(0,jsx_runtime.jsx)(chakra_ui_alert_esm.X,{children:(0,jsx_runtime.jsxs)(chakra_ui_layout_esm.gC,{alignItems:"flex-start",spacing:2,my:2,children:[(0,jsx_runtime.jsx)(chakra_ui_layout_esm.xv,{overflowWrap:"normal",children:"Make sure you created any groups before importing registrants."}),(0,jsx_runtime.jsxs)(chakra_ui_layout_esm.xv,{overflowWrap:"normal",children:["Missing groups are:"," ",es.MRu((function(x){return x}),missingGroups).reduce((function(acc,x){return acc+", "+x}),"").substring(2)]}),(0,jsx_runtime.jsx)(chakra_ui_layout_esm.xv,{overflowWrap:"normal",children:groupsData?"Currently available groups are: "+es.MRu((function(x){return x.name}),groupsData.registrant_Group).reduce((function(acc,x){return acc+", "+x.name}),"").substring(2):"Unable to load the list of groups - please refresh to try again."}),(0,jsx_runtime.jsx)(LinkButton.Qj,{to:"/conference/"+conference.slug+"/manage/groups",colorScheme:"red",mt:2,children:"Go to Manage Groups"})]})})]}):void 0,missingSubconferences.length&&!subconferencesLoading?(0,jsx_runtime.jsxs)(chakra_ui_alert_esm.bZ,{status:"error",variant:"top-accent",flexDirection:"column",alignItems:"flex-start",justifyContent:"center",children:[(0,jsx_runtime.jsxs)(chakra_ui_layout_esm.Ug,{children:[(0,jsx_runtime.jsx)(chakra_ui_alert_esm.zM,{}),(0,jsx_runtime.jsx)(chakra_ui_alert_esm.Cd,{children:"Error: One or more rows has an invalid subconference"})]}),(0,jsx_runtime.jsx)(chakra_ui_alert_esm.X,{children:(0,jsx_runtime.jsxs)(chakra_ui_layout_esm.gC,{alignItems:"flex-start",spacing:2,my:2,children:[(0,jsx_runtime.jsx)(chakra_ui_layout_esm.xv,{overflowWrap:"normal",children:"Make sure you created any subconferences before importing registrants."}),(0,jsx_runtime.jsxs)(chakra_ui_layout_esm.xv,{overflowWrap:"normal",children:["Missing subconferences are:"," ",es.MRu((function(x){return x}),missingSubconferences).reduce((function(acc,x){return acc+", "+x}),"").substring(2)]}),(0,jsx_runtime.jsx)(chakra_ui_layout_esm.xv,{overflowWrap:"normal",children:subconferencesData?"Currently available subconferences are: "+es.MRu((function(x){return x.shortName}),subconferencesData.conference_Subconference).reduce((function(acc,x){return acc+", "+x.shortName}),"").substring(2):"Unable to load the list of subconferences - please refresh to try again."}),(0,jsx_runtime.jsx)(LinkButton.Qj,{to:"/conference/"+conference.slug+"/manage/subconferences",colorScheme:"red",mt:2,children:"Go to Manage Subconferences"})]})})]}):void 0,noName||noEmail||missingGroups.length||groupsLoading||missingSubconferences.length||subconferencesLoading||!(totalOutputLength<totalInputLength)?void 0:(0,jsx_runtime.jsxs)(chakra_ui_alert_esm.bZ,{children:[(0,jsx_runtime.jsx)(chakra_ui_alert_esm.zM,{}),(0,jsx_runtime.jsx)(chakra_ui_alert_esm.Cd,{children:"Your selected data has been de-duplicated against existing Midspace data based on email address."})]}),noName||noEmail||missingGroups.length||groupsLoading||missingSubconferences.length||subconferencesLoading?void 0:(0,jsx_runtime.jsxs)(chakra_ui_alert_esm.bZ,{children:[(0,jsx_runtime.jsx)(chakra_ui_alert_esm.zM,{}),(0,jsx_runtime.jsxs)(chakra_ui_alert_esm.Cd,{children:[newRegistrantsCount," new registrants will be imported.",(0,jsx_runtime.jsx)("br",{}),existingRegistrantsCount," existing registrants will be added to more groups and subconferences."]}),totalOutputLength<totalInputLength?(0,jsx_runtime.jsxs)(chakra_ui_alert_esm.X,{children:["(",totalInputLength-totalOutputLength," group and subconference assignments were de-duplicated)"]}):void 0]}),(0,jsx_runtime.jsx)(chakra_ui_layout_esm.xu,{overflowX:"auto",maxW:"100%",w:"100%",children:(0,jsx_runtime.jsxs)(chakra_ui_table_esm.iA,{colorScheme:"pink",variant:"striped",children:[(0,jsx_runtime.jsxs)(chakra_ui_table_esm.hr,{children:[(0,jsx_runtime.jsx)(chakra_ui_table_esm.Th,{children:"Name"}),(0,jsx_runtime.jsx)(chakra_ui_table_esm.Th,{children:"Email"}),(0,jsx_runtime.jsx)(chakra_ui_table_esm.Th,{children:"Groups"}),(0,jsx_runtime.jsx)(chakra_ui_table_esm.Th,{children:"Subconferences"})]}),(0,jsx_runtime.jsxs)(chakra_ui_table_esm.p3,{children:[finalData.sort((function(x,y){return x.name.localeCompare(y.name)})).map((function(x){return(0,jsx_runtime.jsxs)(chakra_ui_table_esm.Tr,{children:[(0,jsx_runtime.jsx)(chakra_ui_table_esm.Td,{children:x.name}),(0,jsx_runtime.jsx)(chakra_ui_table_esm.Td,{children:x.email}),(0,jsx_runtime.jsx)(chakra_ui_table_esm.Td,{children:x.groups.map((function(y){return y.name})).join(", ")}),(0,jsx_runtime.jsx)(chakra_ui_table_esm.Td,{children:x.subconferences.map((function(y){return y.shortName})).join(", ")})]},x.id)})),0===totalOutputLength?(0,jsx_runtime.jsxs)(chakra_ui_table_esm.Tr,{children:[(0,jsx_runtime.jsx)(chakra_ui_table_esm.Td,{children:"No new data to import"}),(0,jsx_runtime.jsx)(chakra_ui_table_esm.Td,{}),(0,jsx_runtime.jsx)(chakra_ui_table_esm.Td,{}),(0,jsx_runtime.jsx)(chakra_ui_table_esm.Td,{})]}):void 0]})]})})]})}(0,urql_core.Ps)(ImportPanel_templateObject||(ImportPanel_templateObject=function ImportPanel_taggedTemplateLiteralLoose(strings,raw){return raw||(raw=strings.slice(0)),strings.raw=raw,strings}(["\n    mutation ImportRegistrants(\n        $insertRegistrants: [registrant_Registrant_insert_input!]!\n        $insertInvitations: [registrant_Invitation_insert_input!]!\n        $insertGroupRegistrants: [registrant_GroupRegistrant_insert_input!]!\n        $insertSubconferenceMemberships: [registrant_SubconferenceMembership_insert_input!]!\n    ) {\n        insert_registrant_Registrant(objects: $insertRegistrants) {\n            affected_rows\n        }\n        insert_registrant_Invitation(objects: $insertInvitations) {\n            affected_rows\n        }\n        insert_registrant_GroupRegistrant(\n            objects: $insertGroupRegistrants\n            on_conflict: { constraint: GroupRegistrant_groupId_registrantId_key, update_columns: [] }\n        ) {\n            affected_rows\n        }\n        insert_registrant_SubconferenceMembership(\n            objects: $insertSubconferenceMemberships\n            on_conflict: { constraint: SubconferenceMembership_subconferenceId_registrantId_key, update_columns: [] }\n        ) {\n            affected_rows\n        }\n    }\n\n    fragment ImportRegistrants_Subconference on conference_Subconference {\n        id\n        shortName\n    }\n\n    query ImportRegistrants_SelectAllSubconferences($conferenceId: uuid!) {\n        conference_Subconference(where: { conferenceId: { _eq: $conferenceId } }) {\n            ...ImportRegistrants_Subconference\n        }\n    }\n"]))),ImportPanel.displayName="ImportPanel";try{ImportPanel.displayName="ImportPanel",ImportPanel.__docgenInfo={description:"",displayName:"ImportPanel",props:{data:{defaultValue:null,description:"",name:"data",required:!0,type:{name:"Record<string, IntermediaryRegistrantData[]>"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/aspects/Conference/Manage/Import/Registrants/ImportPanel.tsx#ImportPanel"]={docgenInfo:ImportPanel.__docgenInfo,name:"ImportPanel",path:"src/aspects/Conference/Manage/Import/Registrants/ImportPanel.tsx#ImportPanel"})}catch(__react_docgen_typescript_loader_error){}function ImportRegistrantsPage_slicedToArray(arr,i){return function ImportRegistrantsPage_arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function ImportRegistrantsPage_iterableToArrayLimit(arr,i){var _i=null==arr?null:"undefined"!=typeof Symbol&&arr[Symbol.iterator]||arr["@@iterator"];if(null==_i)return;var _s,_e,_arr=[],_n=!0,_d=!1;try{for(_i=_i.call(arr);!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function ImportRegistrantsPage_unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return ImportRegistrantsPage_arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ImportRegistrantsPage_arrayLikeToArray(o,minLen)}(arr,i)||function ImportRegistrantsPage_nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ImportRegistrantsPage_arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function ImportRegistrantsPage(){var _useState2=ImportRegistrantsPage_slicedToArray((0,react.useState)(),2),data=_useState2[0],setData=_useState2[1],_useState4=ImportRegistrantsPage_slicedToArray((0,react.useState)({}),2),intermediaryData=_useState4[0],setIntermediaryData=_useState4[1],dataPanel=(0,react.useMemo)((function(){return(0,jsx_runtime.jsx)(DataPanel,{onData:setData})}),[]),configPanel=(0,react.useMemo)((function(){return data&&(0,jsx_runtime.jsx)(ConfigPanel,{data,onChange:setIntermediaryData,JSONataFunction:JSONataToIntermediaryRegistrant,presetJSONataXMLQuery:'\n[$[$trim(Name) != ""].{\n    "name": $exists(name) ? $trim(name) : $trim(Name),\n    "email": $exists(email) ? $trim(email) : $trim(Email),\n    "group": $exists(group) and $trim(group) != "" ? $trim(group) : $exists(Group) and $trim(Group) != "" ? $trim(Group) : undefined,\n    "subconference": $exists(subconference) and $trim(subconference) != "" ? $trim(subconference) : $exists(Subconference) and $trim(Subconference) != "" ? $trim(Subconference) : undefined\n}]\n',presetJSONataJSONQuery:'\n[$[$trim(Name) != ""].{\n    "name": $exists(name) ? $trim(name) : $trim(Name),\n    "email": $exists(email) ? $trim(email) : $trim(Email),\n    "group": $exists(group) and $trim(group) != "" ? $trim(group) : $exists(Group) and $trim(Group) != "" ? $trim(Group) : undefined,\n    "subconference": $exists(subconference) and $trim(subconference) != "" ? $trim(subconference) : $exists(Subconference) and $trim(Subconference) != "" ? $trim(Subconference) : undefined\n}]\n',presetJSONataCSVQuery:'\n[$[$trim(Name) != ""].{\n    "name": $exists(name) ? $trim(name) : $trim(Name),\n    "email": $exists(email) ? $trim(email) : $trim(Email),\n    "group": $exists(group) and $trim(group) != "" ? $trim(group) : $exists(Group) and $trim(Group) != "" ? $trim(Group) : undefined,\n    "subconference": $exists(subconference) and $trim(subconference) != "" ? $trim(subconference) : $exists(Subconference) and $trim(Subconference) != "" ? $trim(Subconference) : undefined\n}]\n',presetJSONataUnknownFileTypeQuery:"\n"})}),[data]),reviewPanel=(0,react.useMemo)((function(){return(0,jsx_runtime.jsx)(ReviewPanel,{data:intermediaryData,defaultQuery:"\n$\n"})}),[intermediaryData]),importPanel=(0,react.useMemo)((function(){return(0,jsx_runtime.jsx)(ImportPanel,{data:intermediaryData})}),[intermediaryData]);return(0,jsx_runtime.jsx)(RequireRole.Z,{organizerRole:!0,componentIfDenied:(0,jsx_runtime.jsx)(PageNotFound.default,{}),children:(0,jsx_runtime.jsx)(DashboardPage.Y,{title:"Import Registrants",stickyHeader:!1,autoOverflow:!1,children:(0,jsx_runtime.jsx)(chakra_ui_layout_esm.xu,{mb:"auto",w:"100%",minH:"100vh",children:(0,jsx_runtime.jsxs)(chakra_ui_tabs_esm.mQ,{defaultIndex:0,w:"100%",mt:4,children:[(0,jsx_runtime.jsxs)(chakra_ui_tabs_esm.td,{children:[(0,jsx_runtime.jsx)(chakra_ui_tabs_esm.OK,{children:"Data"}),(0,jsx_runtime.jsx)(chakra_ui_tabs_esm.OK,{isDisabled:!data||0===data.length,children:"Configure"}),(0,jsx_runtime.jsx)(chakra_ui_tabs_esm.OK,{isDisabled:!data||0===data.length,children:"Review"}),(0,jsx_runtime.jsx)(chakra_ui_tabs_esm.OK,{isDisabled:!data||0===data.length,children:"Import"})]}),(0,jsx_runtime.jsxs)(chakra_ui_tabs_esm.nP,{children:[(0,jsx_runtime.jsx)(chakra_ui_tabs_esm.x4,{children:dataPanel}),(0,jsx_runtime.jsx)(chakra_ui_tabs_esm.x4,{children:configPanel}),(0,jsx_runtime.jsx)(chakra_ui_tabs_esm.x4,{children:reviewPanel}),(0,jsx_runtime.jsx)(chakra_ui_tabs_esm.x4,{children:importPanel})]})]})})})})}function ManageImport(){var path=(0,react_router.$B)().path,subconferenceId=(0,AuthParameters.h)().subconferenceId;return(0,jsx_runtime.jsxs)(react_router.rs,{children:[(0,jsx_runtime.jsx)(react_router.AW,{path:path+"/program",children:(0,jsx_runtime.jsx)(ImportProgramPage,{})}),subconferenceId?void 0:(0,jsx_runtime.jsx)(react_router.AW,{path:path+"/registrants",children:(0,jsx_runtime.jsx)(ImportRegistrantsPage,{})}),(0,jsx_runtime.jsx)(react_router.AW,{path:path+"/",children:(0,jsx_runtime.jsx)(InnerManageImport,{})})]})}function InnerManageImport(){var subconferenceId=(0,AuthParameters.h)().subconferenceId;return(0,jsx_runtime.jsx)(RequireRole.Z,{organizerRole:!0,componentIfDenied:(0,jsx_runtime.jsx)(PageNotFound.default,{}),children:(0,jsx_runtime.jsx)(DashboardPage.Y,{title:"Import",children:(0,jsx_runtime.jsxs)(chakra_ui_layout_esm.kC,{flexDirection:"row",flexWrap:"wrap",gridGap:["0.3rem","0.3rem","1rem"],alignItems:"stretch",justifyContent:"center",children:[(0,jsx_runtime.jsx)(RestrictedDashboardButton.Z,{to:"import/program",name:"Program",icon:"calendar",description:"Import your program.",organizerRole:!0,colorScheme:"purple"}),subconferenceId?void 0:(0,jsx_runtime.jsx)(RestrictedDashboardButton.Z,{to:"import/registrants",name:"Registrants",icon:"users",description:"Import your registrants, organisers and other users.",organizerRole:!0,colorScheme:"pink"})]})})})}ImportRegistrantsPage.displayName="ImportRegistrantsPage",ManageImport.displayName="ManageImport",InnerManageImport.displayName="InnerManageImport"},"./src/aspects/Conference/Manage/RestrictedDashboardButton.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>RestrictedDashboardButton});__webpack_require__("../node_modules/.pnpm/core-js@3.21.0/node_modules/core-js/modules/es.object.keys.js"),__webpack_require__("../node_modules/.pnpm/core-js@3.21.0/node_modules/core-js/modules/es.array.index-of.js"),__webpack_require__("../node_modules/.pnpm/core-js@3.21.0/node_modules/core-js/modules/es.function.name.js"),__webpack_require__("../node_modules/.pnpm/core-js@3.21.0/node_modules/core-js/modules/es.symbol.js"),__webpack_require__("../node_modules/.pnpm/core-js@3.21.0/node_modules/core-js/modules/es.symbol.description.js"),__webpack_require__("../node_modules/.pnpm/core-js@3.21.0/node_modules/core-js/modules/es.object.assign.js");var _chakra_ui_react__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__("../node_modules/.pnpm/@chakra-ui+layout@1.7.4_d5de66fc214059f645050e36d066c00a/node_modules/@chakra-ui/layout/dist/chakra-ui-layout.esm.js"),_Chakra_FAIcon__WEBPACK_IMPORTED_MODULE_7__=(__webpack_require__("../node_modules/.pnpm/react@17.0.2/node_modules/react/index.js"),__webpack_require__("./src/aspects/Chakra/FAIcon.tsx")),_Chakra_LinkButton__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("./src/aspects/Chakra/LinkButton.tsx"),_GQL_AuthParameters__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("./src/aspects/GQL/AuthParameters.tsx"),_RequireRole__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__("./src/aspects/Conference/RequireRole.tsx"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__("../node_modules/.pnpm/react@17.0.2/node_modules/react/jsx-runtime.js"),_excluded=["to","name","icon","iconStyle","description","organizerRole","moderatorRole","attendeeRole","colorScheme"];function _objectWithoutProperties(source,excluded){if(null==source)return{};var key,i,target=function _objectWithoutPropertiesLoose(source,excluded){if(null==source)return{};var key,i,target={},sourceKeys=Object.keys(source);for(i=0;i<sourceKeys.length;i++)key=sourceKeys[i],excluded.indexOf(key)>=0||(target[key]=source[key]);return target}(source,excluded);if(Object.getOwnPropertySymbols){var sourceSymbolKeys=Object.getOwnPropertySymbols(source);for(i=0;i<sourceSymbolKeys.length;i++)key=sourceSymbolKeys[i],excluded.indexOf(key)>=0||Object.prototype.propertyIsEnumerable.call(source,key)&&(target[key]=source[key])}return target}function RestrictedDashboardButton(_ref){var to=_ref.to,name=_ref.name,icon=_ref.icon,iconStyle=_ref.iconStyle,description=_ref.description,organizerRole=_ref.organizerRole,moderatorRole=_ref.moderatorRole,attendeeRole=_ref.attendeeRole,colorScheme=_ref.colorScheme,rest=_objectWithoutProperties(_ref,_excluded),conferencePath=(0,_GQL_AuthParameters__WEBPACK_IMPORTED_MODULE_9__.h)().conferencePath;return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_11__.jsx)(_RequireRole__WEBPACK_IMPORTED_MODULE_10__.Z,{organizerRole,moderatorRole,attendeeRole,children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_11__.jsxs)(_Chakra_LinkButton__WEBPACK_IMPORTED_MODULE_8__.Qj,Object.assign({to:conferencePath+"/manage/"+to,padding:4,overflow:"hidden",whiteSpace:"normal",linkProps:{maxWidth:"290px",width:"100%"},colorScheme:null!=colorScheme?colorScheme:"dark-purple",flexDirection:"column",justifyContent:"flex-start",alignItems:"center",display:"inline-flex",width:"100%",height:"100%",shadow:"lg",borderRadius:"xl",margin:0},rest,{children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_11__.jsxs)(_chakra_ui_react__WEBPACK_IMPORTED_MODULE_12__.X6,{as:"h2",fontSize:"2xl",marginBottom:"0.5rem",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_11__.jsx)(_Chakra_FAIcon__WEBPACK_IMPORTED_MODULE_7__.Z,{iconStyle:null!=iconStyle?iconStyle:"s",icon}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_11__.jsx)("br",{}),name]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_11__.jsx)(_chakra_ui_react__WEBPACK_IMPORTED_MODULE_12__.xv,{fontSize:"sm",children:description})]}))})}RestrictedDashboardButton.displayName="RestrictedDashboardButton";try{RestrictedDashboardButton.displayName="RestrictedDashboardButton",RestrictedDashboardButton.__docgenInfo={description:"",displayName:"RestrictedDashboardButton",props:{as:{defaultValue:null,description:"",name:"as",required:!1,type:{name:"As<any>"}},_hover:{defaultValue:null,description:"Styles for CSS selector `&:hover`",name:"_hover",required:!1,type:{name:"CSSObject"}},_active:{defaultValue:null,description:"Styles for CSS Selector `&:active`",name:"_active",required:!1,type:{name:"CSSObject"}},_focus:{defaultValue:null,description:"Styles for CSS selector `&:focus`",name:"_focus",required:!1,type:{name:"CSSObject"}},_highlighted:{defaultValue:null,description:"Styles for the highlighted state.",name:"_highlighted",required:!1,type:{name:"CSSObject"}},_focusWithin:{defaultValue:null,description:"Styles to apply when a child of this element has received focus\n- CSS Selector `&:focus-within`",name:"_focusWithin",required:!1,type:{name:"CSSObject"}},_focusVisible:{defaultValue:null,description:"Styles to apply when this element has received focus via tabbing\n- CSS Selector `&:focus-visible`",name:"_focusVisible",required:!1,type:{name:"CSSObject"}},_disabled:{defaultValue:null,description:"Styles to apply when this element is disabled. The passed styles are applied to these CSS selectors:\n- `&[aria-disabled=true]`\n- `&:disabled`\n- `&[data-disabled]`",name:"_disabled",required:!1,type:{name:"CSSObject"}},_readOnly:{defaultValue:null,description:"Styles for CSS Selector `&:readonly`",name:"_readOnly",required:!1,type:{name:"CSSObject"}},_before:{defaultValue:null,description:'Styles for CSS selector `&::before`\n\nNOTE:When using this, ensure the `content` is wrapped in a backtick.\n@example ```jsx\n<Box _before={{content:`""` }}/>\n```',name:"_before",required:!1,type:{name:"CSSObject"}},_after:{defaultValue:null,description:'Styles for CSS selector `&::after`\n\nNOTE:When using this, ensure the `content` is wrapped in a backtick.\n@example ```jsx\n<Box _after={{content:`""` }}/>\n```',name:"_after",required:!1,type:{name:"CSSObject"}},_empty:{defaultValue:null,description:"Styles for CSS selector `&:empty`",name:"_empty",required:!1,type:{name:"CSSObject"}},_expanded:{defaultValue:null,description:"Styles to apply when the ARIA attribute `aria-expanded` is `true`\n- CSS selector `&[aria-expanded=true]`",name:"_expanded",required:!1,type:{name:"CSSObject"}},_checked:{defaultValue:null,description:"Styles to apply when the ARIA attribute `aria-checked` is `true`\n- CSS selector `&[aria-checked=true]`",name:"_checked",required:!1,type:{name:"CSSObject"}},_grabbed:{defaultValue:null,description:"Styles to apply when the ARIA attribute `aria-grabbed` is `true`\n- CSS selector `&[aria-grabbed=true]`",name:"_grabbed",required:!1,type:{name:"CSSObject"}},_pressed:{defaultValue:null,description:'Styles for CSS Selector `&[aria-pressed=true]`\nTypically used to style the current "pressed" state of toggle buttons',name:"_pressed",required:!1,type:{name:"CSSObject"}},_invalid:{defaultValue:null,description:"Styles to apply when the ARIA attribute `aria-invalid` is `true`\n- CSS selector `&[aria-invalid=true]`",name:"_invalid",required:!1,type:{name:"CSSObject"}},_valid:{defaultValue:null,description:"Styles for the valid state\n- CSS selector `&[data-valid], &[data-state=valid]`",name:"_valid",required:!1,type:{name:"CSSObject"}},_loading:{defaultValue:null,description:"Styles for CSS Selector `&[aria-busy=true]` or `&[data-loading=true]`.\nUseful for styling loading states",name:"_loading",required:!1,type:{name:"CSSObject"}},_selected:{defaultValue:null,description:"Styles to apply when the ARIA attribute `aria-selected` is `true`\n\n- CSS selector `&[aria-selected=true]`",name:"_selected",required:!1,type:{name:"CSSObject"}},_hidden:{defaultValue:null,description:"Styles for CSS Selector `[hidden=true]`",name:"_hidden",required:!1,type:{name:"CSSObject"}},_autofill:{defaultValue:null,description:"Styles for CSS Selector `&:-webkit-autofill`",name:"_autofill",required:!1,type:{name:"CSSObject"}},_even:{defaultValue:null,description:"Styles for CSS Selector `&:nth-child(even)`",name:"_even",required:!1,type:{name:"CSSObject"}},_odd:{defaultValue:null,description:"Styles for CSS Selector `&:nth-child(odd)`",name:"_odd",required:!1,type:{name:"CSSObject"}},_first:{defaultValue:null,description:"Styles for CSS Selector `&:first-of-type`",name:"_first",required:!1,type:{name:"CSSObject"}},_last:{defaultValue:null,description:"Styles for CSS Selector `&:last-of-type`",name:"_last",required:!1,type:{name:"CSSObject"}},_notFirst:{defaultValue:null,description:"Styles for CSS Selector `&:not(:first-of-type)`",name:"_notFirst",required:!1,type:{name:"CSSObject"}},_notLast:{defaultValue:null,description:"Styles for CSS Selector `&:not(:last-of-type)`",name:"_notLast",required:!1,type:{name:"CSSObject"}},_visited:{defaultValue:null,description:"Styles for CSS Selector `&:visited`",name:"_visited",required:!1,type:{name:"CSSObject"}},_activeLink:{defaultValue:null,description:"Used to style the active link in a navigation\nStyles for CSS Selector `&[aria-current=page]`",name:"_activeLink",required:!1,type:{name:"CSSObject"}},_activeStep:{defaultValue:null,description:"Used to style the current step within a process\nStyles for CSS Selector `&[aria-current=step]`",name:"_activeStep",required:!1,type:{name:"CSSObject"}},_indeterminate:{defaultValue:null,description:"Styles to apply when the ARIA attribute `aria-checked` is `mixed`\n- CSS selector `&[aria-checked=mixed]`",name:"_indeterminate",required:!1,type:{name:"CSSObject"}},_groupHover:{defaultValue:null,description:"Styles to apply when a parent element with `.group`, `data-group` or `role=group` is hovered",name:"_groupHover",required:!1,type:{name:"CSSObject"}},_peerHover:{defaultValue:null,description:"Styles to apply when a sibling element with `.peer` or `data-peer` is hovered",name:"_peerHover",required:!1,type:{name:"CSSObject"}},_groupFocus:{defaultValue:null,description:"Styles to apply when a parent element with `.group`, `data-group` or `role=group` is focused",name:"_groupFocus",required:!1,type:{name:"CSSObject"}},_peerFocus:{defaultValue:null,description:"Styles to apply when a sibling element with `.peer` or `data-peer` is focused",name:"_peerFocus",required:!1,type:{name:"CSSObject"}},_groupFocusVisible:{defaultValue:null,description:"Styles to apply when a parent element with `.group`, `data-group` or `role=group` has visible focus",name:"_groupFocusVisible",required:!1,type:{name:"CSSObject"}},_peerFocusVisible:{defaultValue:null,description:"Styles to apply when a sibling element with `.peer`or `data-peer` has visible focus",name:"_peerFocusVisible",required:!1,type:{name:"CSSObject"}},_groupActive:{defaultValue:null,description:"Styles to apply when a parent element with `.group`, `data-group` or `role=group` is active",name:"_groupActive",required:!1,type:{name:"CSSObject"}},_peerActive:{defaultValue:null,description:"Styles to apply when a sibling element with `.peer` or `data-peer` is active",name:"_peerActive",required:!1,type:{name:"CSSObject"}},_groupDisabled:{defaultValue:null,description:"Styles to apply when a parent element with `.group`, `data-group` or `role=group` is disabled",name:"_groupDisabled",required:!1,type:{name:"CSSObject"}},_peerDisabled:{defaultValue:null,description:"Styles to apply when a sibling element with `.peer` or `data-peer` is disabled",name:"_peerDisabled",required:!1,type:{name:"CSSObject"}},_groupInvalid:{defaultValue:null,description:"Styles to apply when a parent element with `.group`, `data-group` or `role=group` is invalid",name:"_groupInvalid",required:!1,type:{name:"CSSObject"}},_peerInvalid:{defaultValue:null,description:"Styles to apply when a sibling element with `.peer` or `data-peer` is invalid",name:"_peerInvalid",required:!1,type:{name:"CSSObject"}},_groupChecked:{defaultValue:null,description:"Styles to apply when a parent element with `.group`, `data-group` or `role=group` is checked",name:"_groupChecked",required:!1,type:{name:"CSSObject"}},_peerChecked:{defaultValue:null,description:"Styles to apply when a sibling element with `.peer` or `data-peer` is checked",name:"_peerChecked",required:!1,type:{name:"CSSObject"}},_groupFocusWithin:{defaultValue:null,description:"Styles to apply when a parent element with `.group`, `data-group` or `role=group` has focus within",name:"_groupFocusWithin",required:!1,type:{name:"CSSObject"}},_peerFocusWithin:{defaultValue:null,description:"Styles to apply when a sibling element with `.peer` or `data-peer` has focus within",name:"_peerFocusWithin",required:!1,type:{name:"CSSObject"}},_peerPlaceholderShown:{defaultValue:null,description:"Styles to apply when a sibling element with `.peer` or `data-peer` has placeholder shown",name:"_peerPlaceholderShown",required:!1,type:{name:"CSSObject"}},_placeholder:{defaultValue:null,description:"Styles for CSS Selector `&::placeholder`.",name:"_placeholder",required:!1,type:{name:"CSSObject"}},_placeholderShown:{defaultValue:null,description:"Styles for CSS Selector `&:placeholder-shown`.",name:"_placeholderShown",required:!1,type:{name:"CSSObject"}},_fullScreen:{defaultValue:null,description:"Styles for CSS Selector `&:fullscreen`.",name:"_fullScreen",required:!1,type:{name:"CSSObject"}},_selection:{defaultValue:null,description:"Styles for CSS Selector `&::selection`",name:"_selection",required:!1,type:{name:"CSSObject"}},_rtl:{defaultValue:null,description:'Styles for CSS Selector `[dir=rtl] &`\nIt is applied when a parent element or this element has `dir="rtl"`',name:"_rtl",required:!1,type:{name:"CSSObject"}},_ltr:{defaultValue:null,description:'Styles for CSS Selector `[dir=ltr] &`\nIt is applied when a parent element or this element has `dir="ltr"`',name:"_ltr",required:!1,type:{name:"CSSObject"}},_mediaDark:{defaultValue:null,description:"Styles for CSS Selector `@media (prefers-color-scheme: dark)`\nIt is used when the user has requested the system use a light or dark color theme.",name:"_mediaDark",required:!1,type:{name:"CSSObject"}},_mediaReduceMotion:{defaultValue:null,description:"Styles for CSS Selector `@media (prefers-reduced-motion: reduce)`\nIt is used when the user has requested the system to reduce the amount of animations.",name:"_mediaReduceMotion",required:!1,type:{name:"CSSObject"}},_dark:{defaultValue:null,description:"Styles for when `data-theme` is applied to any parent of\nthis component or element.",name:"_dark",required:!1,type:{name:"CSSObject"}},_light:{defaultValue:null,description:"Styles for when `data-theme` is applied to any parent of\nthis component or element.",name:"_light",required:!1,type:{name:"CSSObject"}},to:{defaultValue:null,description:"",name:"to",required:!0,type:{name:"string"}},icon:{defaultValue:null,description:"",name:"icon",required:!0,type:{name:"string"}},iconStyle:{defaultValue:null,description:"",name:"iconStyle",required:!1,type:{name:"enum",value:[{value:'"b"'},{value:'"s"'},{value:'"r"'}]}},description:{defaultValue:null,description:"",name:"description",required:!0,type:{name:"string"}},organizerRole:{defaultValue:null,description:"",name:"organizerRole",required:!1,type:{name:"boolean"}},moderatorRole:{defaultValue:null,description:"",name:"moderatorRole",required:!1,type:{name:"boolean"}},attendeeRole:{defaultValue:null,description:"",name:"attendeeRole",required:!1,type:{name:"boolean"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/aspects/Conference/Manage/RestrictedDashboardButton.tsx#RestrictedDashboardButton"]={docgenInfo:RestrictedDashboardButton.__docgenInfo,name:"RestrictedDashboardButton",path:"src/aspects/Conference/Manage/RestrictedDashboardButton.tsx#RestrictedDashboardButton"})}catch(__react_docgen_typescript_loader_error){}}}]);