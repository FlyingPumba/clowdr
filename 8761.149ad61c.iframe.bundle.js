/*! For license information please see 8761.149ad61c.iframe.bundle.js.LICENSE.txt */
"use strict";(self.webpackChunk_midspace_frontend=self.webpackChunk_midspace_frontend||[]).push([[8761],{"./src/aspects/Conference/Manage/DashboardPage.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Y:()=>DashboardPage});__webpack_require__("../node_modules/.pnpm/core-js@3.21.0/node_modules/core-js/modules/es.array.includes.js"),__webpack_require__("../node_modules/.pnpm/core-js@3.21.0/node_modules/core-js/modules/es.string.includes.js");var chakra_ui_color_mode_esm=__webpack_require__("../node_modules/.pnpm/@chakra-ui+color-mode@1.4.3_react@17.0.2/node_modules/@chakra-ui/color-mode/dist/chakra-ui-color-mode.esm.js"),chakra_ui_layout_esm=__webpack_require__("../node_modules/.pnpm/@chakra-ui+layout@1.7.4_d5de66fc214059f645050e36d066c00a/node_modules/@chakra-ui/layout/dist/chakra-ui-layout.esm.js"),react=__webpack_require__("../node_modules/.pnpm/react@17.0.2/node_modules/react/index.js"),useTitle=__webpack_require__("./src/aspects/Hooks/useTitle.tsx"),useConference=__webpack_require__("./src/aspects/Conference/useConference.tsx"),chakra_ui_breadcrumb_esm=(__webpack_require__("../node_modules/.pnpm/core-js@3.21.0/node_modules/core-js/modules/es.array.find.js"),__webpack_require__("../node_modules/.pnpm/core-js@3.21.0/node_modules/core-js/modules/es.array.map.js"),__webpack_require__("../node_modules/.pnpm/@chakra-ui+breadcrumb@1.3.4_d5de66fc214059f645050e36d066c00a/node_modules/@chakra-ui/breadcrumb/dist/chakra-ui-breadcrumb.esm.js")),react_router_dom=__webpack_require__("../node_modules/.pnpm/react-router-dom@5.3.0_react@17.0.2/node_modules/react-router-dom/esm/react-router-dom.js"),es=__webpack_require__("../node_modules/.pnpm/use-react-router-breadcrumbs@2.0.2_react-router@5.2.1+react@17.0.2/node_modules/use-react-router-breadcrumbs/dist/es/index.js"),AuthParameters=__webpack_require__("./src/aspects/GQL/AuthParameters.tsx"),jsx_runtime=__webpack_require__("../node_modules/.pnpm/react@17.0.2/node_modules/react/jsx-runtime.js");function Breadcrumbs(){var conference=(0,useConference.fk)(),subconferenceId=(0,AuthParameters.h)().subconferenceId,confTitle=(0,react.useMemo)((function(){var _ref,_conference$subconfer;return null!==(_ref=subconferenceId?null===(_conference$subconfer=conference.subconferences.find((function(x){return x.id===subconferenceId})))||void 0===_conference$subconfer?void 0:_conference$subconfer.shortName:void 0)&&void 0!==_ref?_ref:conference.shortName}),[conference.shortName,conference.subconferences,subconferenceId]),routes=(0,react.useMemo)((function(){return[{path:"/conference/:slug/manage",breadcrumb:"Manage "+confTitle},{path:"/c/:slug/manage",breadcrumb:"Manage "+confTitle},{path:"/conference/:slug/manage/export/youtube",breadcrumb:"YouTube"},{path:"/c/:slug/manage/export/youtube",breadcrumb:"YouTube"},{path:"/conference/:slug/manage/export/download-videos",breadcrumb:"Download videos"},{path:"/c/:slug/manage/export/download-videos",breadcrumb:"Download videos"}]}),[confTitle]),breadcrumbs=(0,es.Z)(routes,{excludePaths:["/","/conference","/c","/conference/:slug","/c/:slug"]});return(0,jsx_runtime.jsx)(chakra_ui_breadcrumb_esm.aG,{separator:">",children:breadcrumbs.map((function(breadcrumb){return(0,jsx_runtime.jsx)(chakra_ui_breadcrumb_esm.gN,{isCurrentPage:breadcrumb.key===breadcrumb.location.key,children:(0,jsx_runtime.jsx)(chakra_ui_breadcrumb_esm.At,{as:react_router_dom.rU,to:breadcrumb.key,children:breadcrumb.breadcrumb})},breadcrumb.key)}))})}function DashboardHeaderControls(_ref){var children=_ref.children;return children?(0,jsx_runtime.jsx)(chakra_ui_layout_esm.Ug,{spacing:4,mb:4,children}):(0,jsx_runtime.jsx)(jsx_runtime.Fragment,{})}Breadcrumbs.displayName="Breadcrumbs";try{DashboardHeaderControls.displayName="DashboardHeaderControls",DashboardHeaderControls.__docgenInfo={description:"",displayName:"DashboardHeaderControls",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/aspects/Conference/Manage/DashboardHeaderControls.tsx#DashboardHeaderControls"]={docgenInfo:DashboardHeaderControls.__docgenInfo,name:"DashboardHeaderControls",path:"src/aspects/Conference/Manage/DashboardHeaderControls.tsx#DashboardHeaderControls"})}catch(__react_docgen_typescript_loader_error){}var SubconferenceSelector=__webpack_require__("./src/aspects/Conference/Manage/Subconferences/SubconferenceSelector.tsx");function DashboardPage(_ref){var title=_ref.title,children=_ref.children,controls=_ref.controls,_ref$stickyHeader=_ref.stickyHeader,stickyHeader=void 0===_ref$stickyHeader||_ref$stickyHeader,_ref$autoOverflow=_ref.autoOverflow,autoOverflow=void 0===_ref$autoOverflow||_ref$autoOverflow,conference=(0,useConference.fk)(),grayBg=(0,chakra_ui_color_mode_esm.ff)("gray.50","gray.900"),grayBorder=(0,chakra_ui_color_mode_esm.ff)("gray.300","gray.600"),titleEl=(0,useTitle.Z)(title.includes(conference.shortName)?title:title+" - "+conference.shortName);return(0,jsx_runtime.jsxs)(chakra_ui_layout_esm.kC,{flexDir:"column",w:{base:"100%",xl:"80%"},px:[2,2,4],children:[titleEl,(0,jsx_runtime.jsxs)(chakra_ui_layout_esm.xu,{position:stickyHeader?"sticky":void 0,top:0,left:0,zIndex:1e5,bgColor:grayBg,pt:4,borderBottom:"1px solid",borderBottomColor:grayBorder,children:[(0,jsx_runtime.jsx)(Breadcrumbs,{}),(0,jsx_runtime.jsxs)(chakra_ui_layout_esm.Ug,{children:[(0,jsx_runtime.jsx)(chakra_ui_layout_esm.X6,{id:"page-heading",as:"h1",size:"xl",textAlign:"left",mt:4,mb:4,children:title}),(0,jsx_runtime.jsx)(chakra_ui_layout_esm.LZ,{}),(0,jsx_runtime.jsx)(SubconferenceSelector.B,{})]}),(0,jsx_runtime.jsx)(DashboardHeaderControls,{children:controls})]}),(0,jsx_runtime.jsx)(chakra_ui_layout_esm.kC,{flexDir:"column",mt:4,w:"100%",overflow:autoOverflow?"auto":void 0,children})]})}DashboardPage.displayName="DashboardPage";try{DashboardPage.displayName="DashboardPage",DashboardPage.__docgenInfo={description:"",displayName:"DashboardPage",props:{title:{defaultValue:null,description:"",name:"title",required:!0,type:{name:"string"}},stickyHeader:{defaultValue:{value:"true"},description:"",name:"stickyHeader",required:!1,type:{name:"boolean"}},autoOverflow:{defaultValue:{value:"true"},description:"",name:"autoOverflow",required:!1,type:{name:"boolean"}},controls:{defaultValue:null,description:"",name:"controls",required:!1,type:{name:"ReactChild[]"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/aspects/Conference/Manage/DashboardPage.tsx#DashboardPage"]={docgenInfo:DashboardPage.__docgenInfo,name:"DashboardPage",path:"src/aspects/Conference/Manage/DashboardPage.tsx#DashboardPage"})}catch(__react_docgen_typescript_loader_error){}},"./src/aspects/Conference/Manage/ManageRooms.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{default:()=>ManageRooms});__webpack_require__("../node_modules/.pnpm/core-js@3.21.0/node_modules/core-js/modules/es.array.slice.js"),__webpack_require__("../node_modules/.pnpm/core-js@3.21.0/node_modules/core-js/modules/es.array.is-array.js"),__webpack_require__("../node_modules/.pnpm/core-js@3.21.0/node_modules/core-js/modules/es.symbol.js"),__webpack_require__("../node_modules/.pnpm/core-js@3.21.0/node_modules/core-js/modules/es.symbol.description.js"),__webpack_require__("../node_modules/.pnpm/core-js@3.21.0/node_modules/core-js/modules/es.symbol.iterator.js"),__webpack_require__("../node_modules/.pnpm/core-js@3.21.0/node_modules/core-js/modules/es.array.from.js"),__webpack_require__("../node_modules/.pnpm/core-js@3.21.0/node_modules/core-js/modules/es.promise.js"),__webpack_require__("../node_modules/.pnpm/core-js@3.21.0/node_modules/core-js/modules/es.object.to-string.js"),__webpack_require__("../node_modules/.pnpm/core-js@3.21.0/node_modules/core-js/modules/es.array.map.js"),__webpack_require__("../node_modules/.pnpm/core-js@3.21.0/node_modules/core-js/modules/es.date.to-string.js"),__webpack_require__("../node_modules/.pnpm/core-js@3.21.0/node_modules/core-js/modules/es.function.name.js"),__webpack_require__("../node_modules/.pnpm/core-js@3.21.0/node_modules/core-js/modules/es.object.assign.js"),__webpack_require__("../node_modules/.pnpm/core-js@3.21.0/node_modules/core-js/modules/es.array.sort.js"),__webpack_require__("../node_modules/.pnpm/core-js@3.21.0/node_modules/core-js/modules/es.array.filter.js"),__webpack_require__("../node_modules/.pnpm/core-js@3.21.0/node_modules/core-js/modules/es.array.includes.js"),__webpack_require__("../node_modules/.pnpm/core-js@3.21.0/node_modules/core-js/modules/es.string.includes.js"),__webpack_require__("../node_modules/.pnpm/core-js@3.21.0/node_modules/core-js/modules/es.array.find.js"),__webpack_require__("../node_modules/.pnpm/core-js@3.21.0/node_modules/core-js/modules/es.string.pad-start.js"),__webpack_require__("../node_modules/.pnpm/core-js@3.21.0/node_modules/core-js/modules/es.regexp.to-string.js"),__webpack_require__("../node_modules/.pnpm/core-js@3.21.0/node_modules/core-js/modules/web.url.js"),__webpack_require__("../node_modules/.pnpm/core-js@3.21.0/node_modules/core-js/modules/es.string.iterator.js"),__webpack_require__("../node_modules/.pnpm/core-js@3.21.0/node_modules/core-js/modules/es.array.iterator.js"),__webpack_require__("../node_modules/.pnpm/core-js@3.21.0/node_modules/core-js/modules/web.dom-collections.iterator.js");var _templateObject,chakra_ui_icons_esm=__webpack_require__("../node_modules/.pnpm/@chakra-ui+icons@1.1.5_d5de66fc214059f645050e36d066c00a/node_modules/@chakra-ui/icons/dist/chakra-ui-icons.esm.js"),chakra_ui_hooks_esm=__webpack_require__("../node_modules/.pnpm/@chakra-ui+hooks@1.8.2_react@17.0.2/node_modules/@chakra-ui/hooks/dist/chakra-ui-hooks.esm.js"),chakra_ui_modal_esm=__webpack_require__("../node_modules/.pnpm/@chakra-ui+modal@1.10.7_d24435ba52f1f88b08cc54a1f1d4e56f/node_modules/@chakra-ui/modal/dist/chakra-ui-modal.esm.js"),chakra_ui_layout_esm=__webpack_require__("../node_modules/.pnpm/@chakra-ui+layout@1.7.4_d5de66fc214059f645050e36d066c00a/node_modules/@chakra-ui/layout/dist/chakra-ui-layout.esm.js"),chakra_ui_button_esm=__webpack_require__("../node_modules/.pnpm/@chakra-ui+button@1.5.5_d5de66fc214059f645050e36d066c00a/node_modules/@chakra-ui/button/dist/chakra-ui-button.esm.js"),chakra_ui_menu_esm=__webpack_require__("../node_modules/.pnpm/@chakra-ui+menu@1.8.6_381b254eb05ba0b21fa13fc526cde82c/node_modules/@chakra-ui/menu/dist/chakra-ui-menu.esm.js"),chakra_ui_accordion_esm=__webpack_require__("../node_modules/.pnpm/@chakra-ui+accordion@1.4.6_381b254eb05ba0b21fa13fc526cde82c/node_modules/@chakra-ui/accordion/dist/chakra-ui-accordion.esm.js"),chakra_ui_form_control_esm=__webpack_require__("../node_modules/.pnpm/@chakra-ui+form-control@1.5.6_d5de66fc214059f645050e36d066c00a/node_modules/@chakra-ui/form-control/dist/chakra-ui-form-control.esm.js"),chakra_ui_input_esm=__webpack_require__("../node_modules/.pnpm/@chakra-ui+input@1.4.1_d5de66fc214059f645050e36d066c00a/node_modules/@chakra-ui/input/dist/chakra-ui-input.esm.js"),chakra_ui_number_input_esm=__webpack_require__("../node_modules/.pnpm/@chakra-ui+number-input@1.4.2_d5de66fc214059f645050e36d066c00a/node_modules/@chakra-ui/number-input/dist/chakra-ui-number-input.esm.js"),chakra_ui_select_esm=__webpack_require__("../node_modules/.pnpm/@chakra-ui+select@1.2.6_d5de66fc214059f645050e36d066c00a/node_modules/@chakra-ui/select/dist/chakra-ui-select.esm.js"),chakra_ui_system_esm=__webpack_require__("../node_modules/.pnpm/@chakra-ui+system@1.10.3_922a85da57e3646a57465b7970b0de85/node_modules/@chakra-ui/system/dist/chakra-ui-system.esm.js"),chakra_ui_checkbox_esm=__webpack_require__("../node_modules/.pnpm/@chakra-ui+checkbox@1.6.5_381b254eb05ba0b21fa13fc526cde82c/node_modules/@chakra-ui/checkbox/dist/chakra-ui-checkbox.esm.js"),chakra_ui_tooltip_esm=__webpack_require__("../node_modules/.pnpm/@chakra-ui+tooltip@1.4.6_3467197ee0b52af28e4f3b42a3c78b88/node_modules/@chakra-ui/tooltip/dist/chakra-ui-tooltip.esm.js"),auth=__webpack_require__("../packages/shared/shared-types/build/esm/auth.js"),urql_core=__webpack_require__("../node_modules/.pnpm/@urql+core@2.4.1_graphql@15.7.2/node_modules/@urql/core/dist/urql-core.mjs"),papaparse_min=__webpack_require__("../node_modules/.pnpm/papaparse@5.3.1/node_modules/papaparse/papaparse.min.js"),papaparse_min_default=__webpack_require__.n(papaparse_min),es=__webpack_require__("../node_modules/.pnpm/ramda@0.28.0/node_modules/ramda/es/index.js"),react=__webpack_require__("../node_modules/.pnpm/react@17.0.2/node_modules/react/index.js"),urql_es=__webpack_require__("../node_modules/.pnpm/urql@2.1.3_graphql@15.7.2+react@17.0.2/node_modules/urql/dist/urql.es.js"),v4=__webpack_require__("../node_modules/.pnpm/uuid@8.3.2/node_modules/uuid/dist/esm-browser/v4.js"),graphql=__webpack_require__("./src/generated/graphql.tsx"),FAIcon=__webpack_require__("./src/aspects/Chakra/FAIcon.tsx"),LinkButton=__webpack_require__("./src/aspects/Chakra/LinkButton.tsx"),CRUDComponents=__webpack_require__("./src/aspects/CRUDTable2/CRUDComponents.tsx"),CRUDTable2=__webpack_require__("./src/aspects/CRUDTable2/CRUDTable2.tsx"),AuthParameters=__webpack_require__("./src/aspects/GQL/AuthParameters.tsx"),ExtractActualError=__webpack_require__("./src/aspects/GQL/ExtractActualError.ts"),make_context=__webpack_require__("./src/aspects/GQL/make-context.ts"),useQueryErrorToast=__webpack_require__("./src/aspects/GQL/useQueryErrorToast.tsx"),useRoomParticipants=__webpack_require__("./src/aspects/Room/useRoomParticipants.tsx"),RegistrantsContext=__webpack_require__("./src/aspects/Conference/RegistrantsContext.tsx"),useConference=__webpack_require__("./src/aspects/Conference/useConference.tsx"),DashboardPage=__webpack_require__("./src/aspects/Conference/Manage/DashboardPage.tsx"),chakra_ui_toast_esm=__webpack_require__("../node_modules/.pnpm/@chakra-ui+toast@1.5.4_3467197ee0b52af28e4f3b42a3c78b88/node_modules/@chakra-ui/toast/dist/chakra-ui-toast.esm.js"),CenteredSpinner=__webpack_require__("./src/aspects/Chakra/CenteredSpinner.tsx"),jsx_runtime=__webpack_require__("../node_modules/.pnpm/react@17.0.2/node_modules/react/jsx-runtime.js");function asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg),value=info.value}catch(error){return void reject(error)}info.done?resolve(value):Promise.resolve(value).then(_next,_throw)}function _slicedToArray(arr,i){return function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function _iterableToArrayLimit(arr,i){var _i=null==arr?null:"undefined"!=typeof Symbol&&arr[Symbol.iterator]||arr["@@iterator"];if(null==_i)return;var _s,_e,_arr=[],_n=!0,_d=!1;try{for(_i=_i.call(arr);!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function _unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}(arr,i)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function ExternalRtmpBroadcastEditor(_ref){var _rtmpOutputResponse$d,_rtmpOutputResponse$d2,_rtmpOutputResponse$d3,_rtmpOutputResponse$d4,_ref3,_ref4,_channelStatus$state,_channelStack$rtmpOut,_channelStack$rtmpOut2,roomId=_ref.roomId,subconferenceId=(0,AuthParameters.h)().subconferenceId,context=(0,react.useMemo)((function(){var _makeContext;return(0,make_context.f)(((_makeContext={})[auth.k.Role]=subconferenceId?auth.Z.SubconferenceOrganizer:auth.Z.ConferenceOrganizer,_makeContext[auth.k.RoomId]=roomId,_makeContext))}),[roomId,subconferenceId]),_useGetRoomRtmpOutput2=_slicedToArray((0,graphql.pM2)({variables:{roomId},requestPolicy:"network-only",context}),2),rtmpOutputResponse=_useGetRoomRtmpOutput2[0],refetchRtmpOutputResponse=_useGetRoomRtmpOutput2[1],_useInsertRoomRtmpOut2=_slicedToArray((0,graphql.yNu)(),2),insertResponse=_useInsertRoomRtmpOut2[0],doInsert=_useInsertRoomRtmpOut2[1],_useUpdateRoomRtmpOut2=_slicedToArray((0,graphql.Lin)(),2),updateResponse=_useUpdateRoomRtmpOut2[0],doUpdate=_useUpdateRoomRtmpOut2[1],_useDeleteRoomRtmpOut2=_slicedToArray((0,graphql.eTp)(),2),deleteResponse=_useDeleteRoomRtmpOut2[0],doDelete=_useDeleteRoomRtmpOut2[1],_useState2=_slicedToArray((0,react.useState)(null),2),url=_useState2[0],setUrl=_useState2[1],_useState4=_slicedToArray((0,react.useState)(null),2),key=_useState4[0],setKey=_useState4[1],toast=(0,chakra_ui_toast_esm.pm)(),rtmpOutput=null===(_rtmpOutputResponse$d=rtmpOutputResponse.data)||void 0===_rtmpOutputResponse$d||null===(_rtmpOutputResponse$d2=_rtmpOutputResponse$d.room_Room_by_pk)||void 0===_rtmpOutputResponse$d2?void 0:_rtmpOutputResponse$d2.rtmpOutput,channelStack=null===(_rtmpOutputResponse$d3=rtmpOutputResponse.data)||void 0===_rtmpOutputResponse$d3||null===(_rtmpOutputResponse$d4=_rtmpOutputResponse$d3.room_Room_by_pk)||void 0===_rtmpOutputResponse$d4?void 0:_rtmpOutputResponse$d4.channelStack,rtmpOutputUpdateRequired=(null==channelStack?void 0:channelStack.rtmpOutputUri)!=(null==rtmpOutput?void 0:rtmpOutput.url)||(null==channelStack?void 0:channelStack.rtmpOutputStreamKey)!=(null==rtmpOutput?void 0:rtmpOutput.streamKey),channelStatus=null==channelStack?void 0:channelStack.mediaLiveChannelStatus,updateJobs=null==channelStack?void 0:channelStack.updateJobs[0],isUpdating=(null==updateJobs?void 0:updateJobs.jobStatusName)===graphql.FLV.New||(null==updateJobs?void 0:updateJobs.jobStatusName)===graphql.FLV.InProgress,doSave=(0,react.useCallback)(function(){var _ref2=function _asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise((function(resolve,reject){var gen=fn.apply(self,args);function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(void 0)}))}}(regeneratorRuntime.mark((function _callee(url,key){var _headers,_headers2,_headers3;return regeneratorRuntime.wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:if(_context.prev=0,channelStack&&"IDLE"!==(null==channelStatus?void 0:channelStatus.state)&&!confirm("This will stop the ongoing live-stream in this room. Are you sure you wish to continue?")){_context.next=17;break}if(null===url||null===key){_context.next=17;break}if(!rtmpOutput){_context.next=13;break}if(""!==url&&""!==key){_context.next=9;break}return _context.next=7,doDelete({id:rtmpOutput.id},{fetchOptions:{headers:(_headers={},_headers[auth.k.Role]=subconferenceId?auth.Z.SubconferenceOrganizer:auth.Z.ConferenceOrganizer,_headers)}});case 7:_context.next=11;break;case 9:return _context.next=11,doUpdate({id:rtmpOutput.id,url,key},{fetchOptions:{headers:(_headers2={},_headers2[auth.k.Role]=subconferenceId?auth.Z.SubconferenceOrganizer:auth.Z.ConferenceOrganizer,_headers2)}});case 11:_context.next=16;break;case 13:if(""===url||""===key){_context.next=16;break}return _context.next=16,doInsert({roomId,url,key},{fetchOptions:{headers:(_headers3={},_headers3[auth.k.Role]=subconferenceId?auth.Z.SubconferenceOrganizer:auth.Z.ConferenceOrganizer,_headers3)}});case 16:refetchRtmpOutputResponse();case 17:setUrl(null),setKey(null),_context.next=24;break;case 21:_context.prev=21,_context.t0=_context.catch(0),toast({status:"error",title:"Error saving RTMP Output configuration",description:_context.t0.message,isClosable:!0,duration:6e4,position:"top"});case 24:case"end":return _context.stop()}}),_callee,null,[[0,21]])})));return function(_x,_x2){return _ref2.apply(this,arguments)}}(),[channelStack,null==channelStatus?void 0:channelStatus.state,rtmpOutput,refetchRtmpOutputResponse,doDelete,subconferenceId,doUpdate,doInsert,roomId,toast]);return rtmpOutputResponse.fetching&&!rtmpOutputResponse.data?(0,jsx_runtime.jsx)(CenteredSpinner.Z,{caller:"ExternalRtmpBroadcastEditor:214"}):(0,jsx_runtime.jsxs)(chakra_ui_layout_esm.gC,{spacing:4,justifyContent:"flex-start",alignItems:"flex-start",children:[(0,jsx_runtime.jsx)(chakra_ui_layout_esm.xv,{children:"Entering a URL and Stream Key below will enable RTMP Output broadcast of your live-stream. This can be used, for example, to stream your event directly to YouTube."}),(0,jsx_runtime.jsx)(chakra_ui_layout_esm.xv,{children:"Please ensure your stream details are correct. If they are incorrect, the live-stream for this room may be unable to start."}),(0,jsx_runtime.jsx)(chakra_ui_layout_esm.xv,{children:"Please note that RTMP output details can only be changed when the live-stream channel is stopped. If you change these settings while your stream is running, the stream will be stopped, updated then restarted. This process can take up to 20 minutes and will interrupt any ongoing live-stream events in this room."}),(0,jsx_runtime.jsx)(chakra_ui_layout_esm.iz,{}),(0,jsx_runtime.jsxs)(chakra_ui_form_control_esm.NI,{children:[(0,jsx_runtime.jsx)(chakra_ui_form_control_esm.lX,{children:"URL"}),(0,jsx_runtime.jsx)(chakra_ui_input_esm.II,{value:null!==(_ref3=null!=url?url:null==rtmpOutput?void 0:rtmpOutput.url)&&void 0!==_ref3?_ref3:"",onChange:function onChange(ev){setUrl(ev.target.value)},isDisabled:isUpdating}),(0,jsx_runtime.jsx)(chakra_ui_form_control_esm.Q6,{children:"RTMP URL for your destination service. Leave blank to remove your RTMP Output configuration."})]}),(0,jsx_runtime.jsxs)(chakra_ui_form_control_esm.NI,{children:[(0,jsx_runtime.jsx)(chakra_ui_form_control_esm.lX,{children:"Stream Key"}),(0,jsx_runtime.jsx)(chakra_ui_input_esm.II,{value:null!==(_ref4=null!=key?key:null==rtmpOutput?void 0:rtmpOutput.streamKey)&&void 0!==_ref4?_ref4:"",onChange:function onChange(ev){setKey(ev.target.value)},isDisabled:isUpdating}),(0,jsx_runtime.jsx)(chakra_ui_form_control_esm.Q6,{children:"Stream Key for your destination service (sometimes called Stream Name)."})]}),rtmpOutput?(0,jsx_runtime.jsxs)(chakra_ui_layout_esm.xv,{fontSize:"sm",children:["Last updated: ",new Date(rtmpOutput.updated_at).toLocaleString()," (local time)"]}):void 0,(0,jsx_runtime.jsxs)(chakra_ui_layout_esm.kC,{w:"100%",children:[(0,jsx_runtime.jsxs)(chakra_ui_layout_esm.gC,{mr:"auto",alignItems:"flex-start",children:[(0,jsx_runtime.jsx)(chakra_ui_layout_esm.xv,{fontWeight:"bold",children:"Stream information:"}),(0,jsx_runtime.jsxs)(chakra_ui_layout_esm.xv,{pl:4,fontSize:"sm",children:[(0,jsx_runtime.jsx)(chakra_ui_system_esm.m$.span,{fontStyle:"italic",children:"Status:  "}),(0,jsx_runtime.jsx)(chakra_ui_system_esm.m$.span,{children:channelStack?null!==(_channelStatus$state=null==channelStatus?void 0:channelStatus.state)&&void 0!==_channelStatus$state?_channelStatus$state:"UNKNOWN":"STOPPED"})]}),channelStatus?(0,jsx_runtime.jsxs)(chakra_ui_layout_esm.xv,{pl:4,fontSize:"sm",children:[(0,jsx_runtime.jsx)(chakra_ui_system_esm.m$.span,{fontStyle:"italic",children:"Status updated at:  "}),(0,jsx_runtime.jsx)(chakra_ui_system_esm.m$.span,{children:null!=channelStatus&&channelStatus.updatedAt?new Date(channelStatus.updatedAt).toLocaleString()+" (local time)":"UNKNOWN"})]}):void 0,channelStack?(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[(0,jsx_runtime.jsx)(chakra_ui_layout_esm.iz,{}),(0,jsx_runtime.jsxs)(chakra_ui_layout_esm.xv,{pl:4,fontSize:"sm",children:[(0,jsx_runtime.jsx)(chakra_ui_system_esm.m$.span,{fontStyle:"italic",children:"Current URL:  "}),(0,jsx_runtime.jsx)(chakra_ui_system_esm.m$.span,{children:null!==(_channelStack$rtmpOut=channelStack.rtmpOutputUri)&&void 0!==_channelStack$rtmpOut?_channelStack$rtmpOut:"<None>"})]}),(0,jsx_runtime.jsxs)(chakra_ui_layout_esm.xv,{pl:4,fontSize:"sm",children:[(0,jsx_runtime.jsx)(chakra_ui_system_esm.m$.span,{fontStyle:"italic",children:"Current Stream Key:  "}),(0,jsx_runtime.jsx)(chakra_ui_system_esm.m$.span,{children:null!==(_channelStack$rtmpOut2=channelStack.rtmpOutputStreamKey)&&void 0!==_channelStack$rtmpOut2?_channelStack$rtmpOut2:"<None>"})]})]}):void 0]}),(0,jsx_runtime.jsxs)(chakra_ui_layout_esm.gC,{alignItems:"flex-start",children:[isUpdating?(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[(0,jsx_runtime.jsx)(chakra_ui_layout_esm.xv,{fontWeight:"bold",children:"Update in progress"}),(0,jsx_runtime.jsx)(chakra_ui_layout_esm.xv,{children:"Please check again in 15 minutes."})]}):rtmpOutputUpdateRequired?(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[(0,jsx_runtime.jsx)(chakra_ui_layout_esm.xv,{fontWeight:"bold",children:"Update queued"}),(0,jsx_runtime.jsx)(chakra_ui_layout_esm.xv,{children:"Please check again in 15 minutes."})]}):void 0,(0,jsx_runtime.jsxs)(chakra_ui_button_esm.hE,{spacing:4,alignSelf:"flex-end",children:[(0,jsx_runtime.jsx)(chakra_ui_button_esm.zx,{onClick:function onClick(){setUrl(""),setKey(""),doSave("","")},isDisabled:!rtmpOutput||isUpdating,colorScheme:"pink",children:"Clear"}),(0,jsx_runtime.jsx)(chakra_ui_button_esm.zx,{onClick:function onClick(){setUrl(null),setKey(null)},isDisabled:null===url&&null===key||isUpdating,children:"Reset"}),(0,jsx_runtime.jsx)(chakra_ui_button_esm.zx,{colorScheme:"purple",onClick:function onClick(){var _ref5,_ref6;null===url&&null===key||doSave(null!==(_ref5=null!=url?url:null==rtmpOutput?void 0:rtmpOutput.url)&&void 0!==_ref5?_ref5:"",null!==(_ref6=null!=key?key:null==rtmpOutput?void 0:rtmpOutput.streamKey)&&void 0!==_ref6?_ref6:"")},isLoading:rtmpOutputResponse.fetching||insertResponse.fetching||updateResponse.fetching||deleteResponse.fetching,isDisabled:null===url&&null===key||isUpdating,children:"Save"})]})]})]})]})}(0,urql_core.Ps)(_templateObject||(_templateObject=function _taggedTemplateLiteralLoose(strings,raw){return raw||(raw=strings.slice(0)),strings.raw=raw,strings}(["\n    query GetRoomRtmpOutput($roomId: uuid!) {\n        room_Room_by_pk(id: $roomId) {\n            id\n            rtmpOutput {\n                id\n                created_at\n                updated_at\n                url\n                streamKey\n                roomId\n            }\n            channelStack {\n                id\n                roomId\n                rtmpOutputUri\n                rtmpOutputStreamKey\n                updateJobs: channelStackUpdateJobs(where: { jobStatusName: { _in: [NEW, IN_PROGRESS] } }) {\n                    id\n                    created_at\n                    updated_at\n                    jobStatusName\n                    message\n                    channelStackId\n                }\n                mediaLiveChannelStatus {\n                    id\n                    createdAt\n                    updatedAt\n                    state\n                    channelStackId\n                }\n            }\n        }\n    }\n\n    mutation InsertRoomRtmpOutput($roomId: uuid!, $url: String!, $key: String!) {\n        insert_video_RoomRtmpOutput_one(object: { roomId: $roomId, url: $url, streamKey: $key }) {\n            id\n            roomId\n            created_at\n            updated_at\n            url\n            streamKey\n        }\n    }\n\n    mutation UpdateRoomRtmpOutput($id: uuid!, $url: String!, $key: String!) {\n        update_video_RoomRtmpOutput_by_pk(pk_columns: { id: $id }, _set: { url: $url, streamKey: $key }) {\n            id\n            roomId\n            created_at\n            updated_at\n            url\n            streamKey\n        }\n    }\n\n    mutation DeleteRoomRtmpOutput($id: uuid!) {\n        delete_video_RoomRtmpOutput_by_pk(id: $id) {\n            id\n        }\n    }\n"])));try{ExternalRtmpBroadcastEditor.displayName="ExternalRtmpBroadcastEditor",ExternalRtmpBroadcastEditor.__docgenInfo={description:"",displayName:"ExternalRtmpBroadcastEditor",props:{roomId:{defaultValue:null,description:"",name:"roomId",required:!0,type:{name:"string"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/aspects/Conference/Manage/Room/ExternalRtmpBroadcastEditor.tsx#ExternalRtmpBroadcastEditor"]={docgenInfo:ExternalRtmpBroadcastEditor.__docgenInfo,name:"ExternalRtmpBroadcastEditor",path:"src/aspects/Conference/Manage/Room/ExternalRtmpBroadcastEditor.tsx#ExternalRtmpBroadcastEditor"})}catch(__react_docgen_typescript_loader_error){}var ExternalRtmpInputEditor_templateObject,ManageRooms_templateObject,chakra_ui_table_esm=__webpack_require__("../node_modules/.pnpm/@chakra-ui+table@1.3.4_d5de66fc214059f645050e36d066c00a/node_modules/@chakra-ui/table/dist/chakra-ui-table.esm.js");function ExternalRtmpInputEditor_slicedToArray(arr,i){return function ExternalRtmpInputEditor_arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function ExternalRtmpInputEditor_iterableToArrayLimit(arr,i){var _i=null==arr?null:"undefined"!=typeof Symbol&&arr[Symbol.iterator]||arr["@@iterator"];if(null==_i)return;var _s,_e,_arr=[],_n=!0,_d=!1;try{for(_i=_i.call(arr);!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function ExternalRtmpInputEditor_unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return ExternalRtmpInputEditor_arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ExternalRtmpInputEditor_arrayLikeToArray(o,minLen)}(arr,i)||function ExternalRtmpInputEditor_nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ExternalRtmpInputEditor_arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function ExternalRtmpInputEditor(_ref){var _rtmpInputResponse$da,_rtmpInputResponse$da2,_input$applicationIns,roomId=_ref.roomId,_useAuthParameters=(0,AuthParameters.h)(),conferencePath=_useAuthParameters.conferencePath,subconferenceId=_useAuthParameters.subconferenceId,context=(0,react.useMemo)((function(){var _makeContext;return(0,make_context.f)(((_makeContext={})[auth.k.Role]=subconferenceId?auth.Z.SubconferenceOrganizer:auth.Z.ConferenceOrganizer,_makeContext[auth.k.RoomId]=roomId,_makeContext))}),[roomId,subconferenceId]),input=null===(_rtmpInputResponse$da=ExternalRtmpInputEditor_slicedToArray((0,graphql.b03)({variables:{roomId},requestPolicy:"network-only",context}),1)[0].data)||void 0===_rtmpInputResponse$da||null===(_rtmpInputResponse$da2=_rtmpInputResponse$da.room_Room_by_pk)||void 0===_rtmpInputResponse$da2?void 0:_rtmpInputResponse$da2.rtmpInput,fullUrl=input?"rtmp://"+input.address+"/"+input.applicationName+"/"+input.applicationInstance:void 0,streamUrl=input?"rtmp://"+input.address+"/"+input.applicationName:void 0,watchPageUrl=input?""+window.location.origin+conferencePath+"/room/"+roomId:void 0,_useClipboard=(0,chakra_ui_hooks_esm.VP)(null!=fullUrl?fullUrl:""),onCopyFullUrl=_useClipboard.onCopy,hasCopiedFullUrl=_useClipboard.hasCopied,_useClipboard2=(0,chakra_ui_hooks_esm.VP)(null!=streamUrl?streamUrl:""),onCopyStreamUrl=_useClipboard2.onCopy,hasCopiedStreamUrl=_useClipboard2.hasCopied,_useClipboard3=(0,chakra_ui_hooks_esm.VP)(null!=watchPageUrl?watchPageUrl:""),onCopyWatchPageUrl=_useClipboard3.onCopy,hasCopiedWatchPageUrl=_useClipboard3.hasCopied,_useClipboard4=(0,chakra_ui_hooks_esm.VP)(null!==(_input$applicationIns=null==input?void 0:input.applicationInstance)&&void 0!==_input$applicationIns?_input$applicationIns:""),onCopyAppInstance=_useClipboard4.onCopy,hasCopiedAppInstance=_useClipboard4.hasCopied;return null!=input&&input.address?(0,jsx_runtime.jsxs)(chakra_ui_layout_esm.gC,{alignItems:"flex-start",spacing:4,children:[(0,jsx_runtime.jsx)(chakra_ui_layout_esm.xv,{children:"The following input details support RTMP Push up to 1080p@30fps. The input becomes active in the 5 minutes before the scheduled time of a livestream event scheduled in this room. When the input is inactive you will not be able to connect a stream to it."}),(0,jsx_runtime.jsx)(chakra_ui_table_esm.iA,{size:"sm",children:(0,jsx_runtime.jsxs)(chakra_ui_table_esm.p3,{children:[(0,jsx_runtime.jsxs)(chakra_ui_table_esm.Tr,{children:[(0,jsx_runtime.jsx)(chakra_ui_table_esm.Td,{fontWeight:"bold",children:"Full URL"}),(0,jsx_runtime.jsx)(chakra_ui_table_esm.Td,{children:fullUrl}),(0,jsx_runtime.jsx)(chakra_ui_table_esm.Td,{children:(0,jsx_runtime.jsx)(chakra_ui_button_esm.zx,{onClick:onCopyFullUrl,size:"xs",ml:"auto",minW:"2.5em",children:(0,jsx_runtime.jsx)(FAIcon.Z,{iconStyle:"s",icon:hasCopiedFullUrl?"check-circle":"clipboard"})})})]}),(0,jsx_runtime.jsxs)(chakra_ui_table_esm.Tr,{children:[(0,jsx_runtime.jsx)(chakra_ui_table_esm.Td,{fontWeight:"bold",children:"Stream URL"}),(0,jsx_runtime.jsx)(chakra_ui_table_esm.Td,{children:streamUrl}),(0,jsx_runtime.jsx)(chakra_ui_table_esm.Td,{children:(0,jsx_runtime.jsx)(chakra_ui_button_esm.zx,{onClick:onCopyStreamUrl,size:"xs",ml:"auto",minW:"2.5em",children:(0,jsx_runtime.jsx)(FAIcon.Z,{iconStyle:"s",icon:hasCopiedStreamUrl?"check-circle":"clipboard"})})})]}),(0,jsx_runtime.jsxs)(chakra_ui_table_esm.Tr,{children:[(0,jsx_runtime.jsx)(chakra_ui_table_esm.Td,{fontWeight:"bold",children:"Stream Key"}),(0,jsx_runtime.jsx)(chakra_ui_table_esm.Td,{children:input.applicationInstance}),(0,jsx_runtime.jsx)(chakra_ui_table_esm.Td,{children:(0,jsx_runtime.jsx)(chakra_ui_button_esm.zx,{onClick:onCopyAppInstance,size:"xs",ml:"auto",minW:"2.5em",children:(0,jsx_runtime.jsx)(FAIcon.Z,{iconStyle:"s",icon:hasCopiedAppInstance?"check-circle":"clipboard"})})})]}),(0,jsx_runtime.jsxs)(chakra_ui_table_esm.Tr,{children:[(0,jsx_runtime.jsx)(chakra_ui_table_esm.Td,{fontWeight:"bold",children:"Watch Page URL"}),(0,jsx_runtime.jsx)(chakra_ui_table_esm.Td,{children:watchPageUrl}),(0,jsx_runtime.jsx)(chakra_ui_table_esm.Td,{children:(0,jsx_runtime.jsx)(chakra_ui_button_esm.zx,{onClick:onCopyWatchPageUrl,size:"xs",ml:"auto",minW:"2.5em",children:(0,jsx_runtime.jsx)(FAIcon.Z,{iconStyle:"s",icon:hasCopiedWatchPageUrl?"check-circle":"clipboard"})})})]})]})})]}):(0,jsx_runtime.jsxs)(chakra_ui_layout_esm.gC,{alignItems:"flex-start",spacing:4,children:[(0,jsx_runtime.jsx)(chakra_ui_layout_esm.xv,{children:"Please contact support to request configuration of a hybrid room (external RTMP input) quoting your conference name and the following room identifer."}),(0,jsx_runtime.jsx)(chakra_ui_layout_esm.EK,{children:roomId}),(0,jsx_runtime.jsx)(chakra_ui_layout_esm.xv,{children:"Please submit your request at least 48 hours prior to the start of your first hybrid session (though we recommend allowing additional time to organize a test stream)."})]})}(0,urql_core.Ps)(ExternalRtmpInputEditor_templateObject||(ExternalRtmpInputEditor_templateObject=function ExternalRtmpInputEditor_taggedTemplateLiteralLoose(strings,raw){return raw||(raw=strings.slice(0)),strings.raw=raw,strings}(["\n    query GetRoomRtmpInput($roomId: uuid!) {\n        room_Room_by_pk(id: $roomId) {\n            id\n            rtmpInput {\n                id\n                address\n                applicationName\n                applicationInstance\n            }\n        }\n    }\n"])));try{ExternalRtmpInputEditor.displayName="ExternalRtmpInputEditor",ExternalRtmpInputEditor.__docgenInfo={description:"",displayName:"ExternalRtmpInputEditor",props:{roomId:{defaultValue:null,description:"",name:"roomId",required:!0,type:{name:"string"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/aspects/Conference/Manage/Room/ExternalRtmpInputEditor.tsx#ExternalRtmpInputEditor"]={docgenInfo:ExternalRtmpInputEditor.__docgenInfo,name:"ExternalRtmpInputEditor",path:"src/aspects/Conference/Manage/Room/ExternalRtmpInputEditor.tsx#ExternalRtmpInputEditor"})}catch(__react_docgen_typescript_loader_error){}function _toConsumableArray(arr){return function _arrayWithoutHoles(arr){if(Array.isArray(arr))return ManageRooms_arrayLikeToArray(arr)}(arr)||function _iterableToArray(iter){if("undefined"!=typeof Symbol&&null!=iter[Symbol.iterator]||null!=iter["@@iterator"])return Array.from(iter)}(arr)||ManageRooms_unsupportedIterableToArray(arr)||function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ManageRooms_asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg),value=info.value}catch(error){return void reject(error)}info.done?resolve(value):Promise.resolve(value).then(_next,_throw)}function ManageRooms_asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise((function(resolve,reject){var gen=fn.apply(self,args);function _next(value){ManageRooms_asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){ManageRooms_asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(void 0)}))}}function ManageRooms_slicedToArray(arr,i){return function ManageRooms_arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function ManageRooms_iterableToArrayLimit(arr,i){var _i=null==arr?null:"undefined"!=typeof Symbol&&arr[Symbol.iterator]||arr["@@iterator"];if(null==_i)return;var _s,_e,_arr=[],_n=!0,_d=!1;try{for(_i=_i.call(arr);!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||ManageRooms_unsupportedIterableToArray(arr,i)||function ManageRooms_nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ManageRooms_unsupportedIterableToArray(o,minLen){if(o){if("string"==typeof o)return ManageRooms_arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);return"Object"===n&&o.constructor&&(n=o.constructor.name),"Map"===n||"Set"===n?Array.from(o):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ManageRooms_arrayLikeToArray(o,minLen):void 0}}function ManageRooms_arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function RoomSecondaryEditor(_ref){var _room$id,_people$data2,_room$name,_room$id2,_groups$data,room=_ref.room,isSecondaryPanelOpen=_ref.isSecondaryPanelOpen,onSecondaryPanelClose=_ref.onSecondaryPanelClose,externalRtmpBroadcastEnabled=_ref.externalRtmpBroadcastEnabled,externalRtmpInputEnabled=_ref.externalRtmpInputEnabled,conference=(0,useConference.fk)(),_useAuthParameters=(0,AuthParameters.h)(),conferencePath=_useAuthParameters.conferencePath,subconferenceId=_useAuthParameters.subconferenceId,context=(0,react.useMemo)((function(){var _makeContext;return(0,make_context.f)(((_makeContext={})[auth.k.Role]=subconferenceId?auth.Z.SubconferenceOrganizer:auth.Z.ConferenceOrganizer,_makeContext),["registrant_Group","room_Room"])}),[subconferenceId]),groups=ManageRooms_slicedToArray((0,graphql.S6c)({variables:{conferenceId:conference.id,subconferenceCond:subconferenceId?{_eq:subconferenceId}:{_is_null:!0}},context}),1)[0],_useManageRooms_Selec4=ManageRooms_slicedToArray((0,graphql.BMD)({variables:{roomId:null==room?void 0:room.id},pause:!room,requestPolicy:"network-only",context}),2),people=_useManageRooms_Selec4[0],refetchPeople=_useManageRooms_Selec4[1],_useInsertRoomPeopleM2=ManageRooms_slicedToArray((0,graphql.YUZ)(),2),insertRoomPeopleResponse=_useInsertRoomPeopleM2[0],insertRoomPeople=_useInsertRoomPeopleM2[1],_useDeleteRoomPersonM2=ManageRooms_slicedToArray((0,graphql.urq)(),2),deleteRoomPersonResponse=_useDeleteRoomPersonM2[0],deleteRoomPerson=_useDeleteRoomPersonM2[1];(0,useQueryErrorToast.Z)(insertRoomPeopleResponse.error,!1,"ManageConferenceRoomsPage: InsertRoomPeople (mutation)"),(0,useQueryErrorToast.Z)(deleteRoomPersonResponse.error,!1,"ManageConferenceRoomsPage: DeleteRoomPerson (mutation)");var _useState2=ManageRooms_slicedToArray((0,react.useState)(!1),2),groupRegistrantsQFetching=_useState2[0],setGroupRegistrantsQFetching=_useState2[1],client=(0,urql_es.m8)(),addUsersFromGroup=(0,react.useCallback)(function(){var _ref2=ManageRooms_asyncToGenerator(regeneratorRuntime.mark((function _callee(groupId){var _headers,result,_headers2;return regeneratorRuntime.wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:if(!room){_context.next=17;break}return _context.prev=1,setGroupRegistrantsQFetching(!0),_context.next=5,client.query(graphql.YhD,{groupId},{fetchOptions:{headers:(_headers={},_headers[auth.k.Role]=subconferenceId?auth.Z.SubconferenceOrganizer:auth.Z.ConferenceOrganizer,_headers)}}).toPromise();case 5:if(result=_context.sent,setGroupRegistrantsQFetching(!1),result.error||!result.data){_context.next=11;break}return _context.next=10,insertRoomPeople({people:result.data.registrant_GroupRegistrant.map((function(x){return{registrantId:x.registrantId,roomId:room.id,personRoleName:graphql.FZ1.Participant}}))},{fetchOptions:{headers:(_headers2={},_headers2[auth.k.Role]=subconferenceId?auth.Z.SubconferenceOrganizer:auth.Z.ConferenceOrganizer,_headers2)}});case 10:refetchPeople();case 11:_context.next=17;break;case 13:_context.prev=13,_context.t0=_context.catch(1),setGroupRegistrantsQFetching(!1),console.error("Error inserting room people",_context.t0);case 17:case"end":return _context.stop()}}),_callee,null,[[1,13]])})));return function(_x){return _ref2.apply(this,arguments)}}(),[client,insertRoomPeople,refetchPeople,room,subconferenceId]),_useClipboard=(0,chakra_ui_hooks_esm.VP)(null!==(_room$id=null==room?void 0:room.id)&&void 0!==_room$id?_room$id:""),onCopyRoomId=_useClipboard.onCopy,hasCopiedRoomId=_useClipboard.hasCopied,createdAt=(0,react.useMemo)((function(){return room?new Date(room.created_at):new Date}),[room]),roomParticipants=(0,useRoomParticipants.Z)(null==room?void 0:room.id)[null==room?void 0:room.id],roomParticipantRegistrants=(0,RegistrantsContext.CW)(roomParticipants),sortedParticipants=(0,react.useMemo)((function(){return roomParticipantRegistrants?es.MRu((function(x){return x.displayName}),roomParticipantRegistrants):[]}),[roomParticipantRegistrants]),sortedMembers=(0,react.useMemo)((function(){var _people$data;return null!==(_people$data=people.data)&&void 0!==_people$data&&_people$data.room_RoomMembership?es.MRu((function(x){var _x$registrant;return null===(_x$registrant=x.registrant)||void 0===_x$registrant?void 0:_x$registrant.displayName}),people.data.room_RoomMembership):[]}),[null===(_people$data2=people.data)||void 0===_people$data2?void 0:_people$data2.room_RoomMembership]);return(0,jsx_runtime.jsx)(chakra_ui_modal_esm.dy,{isOpen:isSecondaryPanelOpen,placement:"right",onClose:onSecondaryPanelClose,size:"lg",children:(0,jsx_runtime.jsx)(chakra_ui_modal_esm.P1,{children:(0,jsx_runtime.jsxs)(chakra_ui_modal_esm.sc,{children:[(0,jsx_runtime.jsxs)(chakra_ui_modal_esm.OX,{pb:1,pr:"3em",children:[(0,jsx_runtime.jsxs)(chakra_ui_layout_esm.xv,{fontSize:"lg",overflow:"wrap",children:["Edit: ",null!==(_room$name=null==room?void 0:room.name)&&void 0!==_room$name?_room$name:""]}),(0,jsx_runtime.jsxs)(chakra_ui_layout_esm.xv,{fontSize:"xs",fontWeight:"normal",mt:2,mb:1,children:["Id: ",(0,jsx_runtime.jsx)(chakra_ui_layout_esm.EK,{fontSize:"xs",children:null!==(_room$id2=null==room?void 0:room.id)&&void 0!==_room$id2?_room$id2:""}),(0,jsx_runtime.jsx)(chakra_ui_button_esm.zx,{onClick:onCopyRoomId,size:"xs",ml:"auto",variant:"ghost",p:0,h:"auto",minH:0,"aria-label":"Copy room id",children:(0,jsx_runtime.jsx)(FAIcon.Z,{iconStyle:"s",icon:hasCopiedRoomId?"check-circle":"clipboard",m:0,p:0})})]}),(0,jsx_runtime.jsxs)(chakra_ui_layout_esm.xv,{fontSize:"xs",fontWeight:"normal",children:["Created at: ",createdAt.toLocaleString()]})]}),(0,jsx_runtime.jsx)(chakra_ui_modal_esm.cC,{}),(0,jsx_runtime.jsx)(chakra_ui_modal_esm.Ng,{children:room?(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[(0,jsx_runtime.jsxs)(chakra_ui_button_esm.hE,{children:[(0,jsx_runtime.jsxs)(LinkButton.Qj,{to:conferencePath+"/room/"+room.id,colorScheme:"purple",mb:4,isExternal:!0,"aria-label":"View "+room.name+" as an registrant",title:"View "+room.name+" as an registrant",children:[(0,jsx_runtime.jsx)(FAIcon.Z,{icon:"external-link-alt",iconStyle:"s",mr:3}),"View room"]}),room.managementModeName===graphql.ZvF.Private?(0,jsx_runtime.jsxs)(chakra_ui_menu_esm.v2,{children:[(0,jsx_runtime.jsxs)(chakra_ui_menu_esm.j2,{as:chakra_ui_button_esm.zx,isLoading:groupRegistrantsQFetching||insertRoomPeopleResponse.fetching,children:[(0,jsx_runtime.jsx)(FAIcon.Z,{iconStyle:"s",icon:"user-plus",mr:2}),"Add people from group"]}),(0,jsx_runtime.jsx)(chakra_ui_menu_esm.qy,{maxH:"max(250px, min(400px, 100vh - 25ex))",overflow:"auto",children:null===(_groups$data=groups.data)||void 0===_groups$data?void 0:_groups$data.registrant_Group.map((function(group){return(0,jsx_runtime.jsx)(chakra_ui_menu_esm.sN,{onClick:function onClick(){return addUsersFromGroup(group.id)},children:group.name},group.id)}))})]}):void 0]}),(0,jsx_runtime.jsxs)(chakra_ui_accordion_esm.UQ,{children:[(0,jsx_runtime.jsxs)(chakra_ui_accordion_esm.Qd,{children:[(0,jsx_runtime.jsxs)(chakra_ui_accordion_esm.KF,{children:[(0,jsx_runtime.jsx)(chakra_ui_layout_esm.xu,{flex:"1",textAlign:"left",children:"Participants"}),(0,jsx_runtime.jsx)(chakra_ui_accordion_esm.XE,{})]}),(0,jsx_runtime.jsx)(chakra_ui_accordion_esm.Hk,{pt:4,pb:4,children:0===sortedParticipants.length?"Room is currently empty.":(0,jsx_runtime.jsx)(chakra_ui_layout_esm.QI,{children:sortedParticipants.map((function(participant){return(0,jsx_runtime.jsx)(chakra_ui_layout_esm.HC,{children:participant.displayName},participant.id)}))})})]}),sortedMembers&&room.managementModeName!==graphql.ZvF.Public?(0,jsx_runtime.jsxs)(chakra_ui_accordion_esm.Qd,{children:[(0,jsx_runtime.jsxs)(chakra_ui_accordion_esm.KF,{children:[(0,jsx_runtime.jsx)(chakra_ui_layout_esm.xu,{flex:"1",textAlign:"left",children:"Members"}),(0,jsx_runtime.jsx)(chakra_ui_accordion_esm.XE,{})]}),(0,jsx_runtime.jsx)(chakra_ui_accordion_esm.Hk,{pt:4,pb:4,children:0===sortedMembers.length?"Room has no members.":(0,jsx_runtime.jsx)(chakra_ui_layout_esm.QI,{spacing:1,children:sortedMembers.map((function(member){return(0,jsx_runtime.jsx)(chakra_ui_layout_esm.HC,{_hover:{bgColor:"rgba(0, 0, 0, 0.25)"},p:1,children:(0,jsx_runtime.jsxs)(chakra_ui_layout_esm.kC,{children:[member.registrant.displayName,(0,jsx_runtime.jsx)(chakra_ui_button_esm.zx,{ml:"auto",size:"xs",colorScheme:"DestructiveActionButton","aria-label":"Remove room member",isDisabled:deleteRoomPersonResponse.fetching,onClick:ManageRooms_asyncToGenerator(regeneratorRuntime.mark((function _callee2(){return regeneratorRuntime.wrap((function _callee2$(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:return _context2.prev=0,_context2.next=3,deleteRoomPerson({id:member.id});case 3:refetchPeople(),_context2.next=9;break;case 6:_context2.prev=6,_context2.t0=_context2.catch(0),console.error("Unable to delete room person",_context2.t0);case 9:case"end":return _context2.stop()}}),_callee2,null,[[0,6]])}))),children:(0,jsx_runtime.jsx)(FAIcon.Z,{iconStyle:"s",icon:"trash-alt"})})]})},member.id)}))})})]}):void 0,externalRtmpBroadcastEnabled?(0,jsx_runtime.jsx)(chakra_ui_accordion_esm.Qd,{children:function children(_ref4){var isExpanded=_ref4.isExpanded;return(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[(0,jsx_runtime.jsxs)(chakra_ui_accordion_esm.KF,{children:[(0,jsx_runtime.jsx)(chakra_ui_layout_esm.xu,{flex:"1",textAlign:"left",children:"External broadcast (RTMP output)"}),(0,jsx_runtime.jsx)(chakra_ui_accordion_esm.XE,{})]}),(0,jsx_runtime.jsx)(chakra_ui_accordion_esm.Hk,{children:isExpanded?(0,jsx_runtime.jsx)(ExternalRtmpBroadcastEditor,{roomId:room.id}):void 0})]})}}):void 0,externalRtmpInputEnabled?(0,jsx_runtime.jsx)(chakra_ui_accordion_esm.Qd,{children:function children(_ref5){var isExpanded=_ref5.isExpanded;return(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[(0,jsx_runtime.jsxs)(chakra_ui_accordion_esm.KF,{children:[(0,jsx_runtime.jsx)(chakra_ui_layout_esm.xu,{flex:"1",textAlign:"left",children:"Hybrid room (RTMP input)"}),(0,jsx_runtime.jsx)(chakra_ui_accordion_esm.XE,{})]}),(0,jsx_runtime.jsx)(chakra_ui_accordion_esm.Hk,{children:isExpanded?(0,jsx_runtime.jsx)(ExternalRtmpInputEditor,{roomId:room.id}):void 0})]})}}):void 0]})]}):(0,jsx_runtime.jsx)(jsx_runtime.Fragment,{children:"No room found."})})]})})})}function EditableRoomsCRUDTable(){var _externalRtmpEnabledR,_externalRtmpEnabledR2,_externalRtmpEnabledR3,_externalRtmpEnabledR4,_selectAllRoomsResult3,_items$data2,_selectAllRoomsResult9,_ref30,_insertRoomResponse$e,_selectAllRoomsResult10,_ref31,conference=(0,useConference.fk)(),subconferenceId=(0,AuthParameters.h)().subconferenceId,_useCreateRoomMutatio2=ManageRooms_slicedToArray((0,graphql.$1J)(),2),insertRoomResponse=_useCreateRoomMutatio2[0],insertRoom=_useCreateRoomMutatio2[1],_useDeleteRoomsMutati2=ManageRooms_slicedToArray((0,graphql.taT)(),2),deleteRoomsResponse=_useDeleteRoomsMutati2[0],deleteRooms=_useDeleteRoomsMutati2[1],_useUpdateRoomsWithPa2=ManageRooms_slicedToArray((0,graphql.s8Q)(),2),updateRoomResponse=_useUpdateRoomsWithPa2[0],updateRoom=_useUpdateRoomsWithPa2[1],context=(0,react.useMemo)((function(){var _makeContext2;return(0,make_context.f)(((_makeContext2={})[auth.k.Role]=subconferenceId?auth.Z.SubconferenceOrganizer:auth.Z.ConferenceOrganizer,_makeContext2),["room_Room","conference_Configuration","room_RoomMembership"])}),[subconferenceId]),externalRtmpEnabledResponse=ManageRooms_slicedToArray((0,graphql.n9H)({variables:{conferenceId:conference.id},context}),1)[0],externalRtmpBroadcastEnabled=!0===(null===(_externalRtmpEnabledR=externalRtmpEnabledResponse.data)||void 0===_externalRtmpEnabledR||null===(_externalRtmpEnabledR2=_externalRtmpEnabledR.broadcast)||void 0===_externalRtmpEnabledR2?void 0:_externalRtmpEnabledR2.value),externalRtmpInputEnabled=!0===(null===(_externalRtmpEnabledR3=externalRtmpEnabledResponse.data)||void 0===_externalRtmpEnabledR3||null===(_externalRtmpEnabledR4=_externalRtmpEnabledR3.input)||void 0===_externalRtmpEnabledR4?void 0:_externalRtmpEnabledR4.value),items=ManageRooms_slicedToArray((0,graphql.dQe)({variables:{conferenceId:conference.id,subconferenceCond:subconferenceId?{_eq:subconferenceId}:{_is_null:!0}},context}),1)[0],selectAllRoomsResult=ManageRooms_slicedToArray((0,graphql.kB7)({variables:{conferenceId:conference.id,subconferenceCond:subconferenceId?{_eq:subconferenceId}:{_is_null:!0}},context}),1)[0],data=(0,react.useMemo)((function(){var _selectAllRoomsResult,_selectAllRoomsResult2;return(null!==(_selectAllRoomsResult=null===(_selectAllRoomsResult2=selectAllRoomsResult.data)||void 0===_selectAllRoomsResult2?void 0:_selectAllRoomsResult2.room_Room)&&void 0!==_selectAllRoomsResult?_selectAllRoomsResult:[]).map((function(x){return Object.assign({},x,{chat:x.chat?Object.assign({},x.chat):void 0})}))}),[null===(_selectAllRoomsResult3=selectAllRoomsResult.data)||void 0===_selectAllRoomsResult3?void 0:_selectAllRoomsResult3.room_Room]),_useDisclosure=(0,chakra_ui_hooks_esm.qY)(),isSecondaryPanelOpen=_useDisclosure.isOpen,onSecondaryPanelOpen=_useDisclosure.onOpen,onSecondaryPanelClose=_useDisclosure.onClose,_useState4=ManageRooms_slicedToArray((0,react.useState)(null),2),editingRoom=_useState4[0],setEditingRoom=_useState4[1],itemOptions=(0,react.useMemo)((function(){var _items$data;return null!==(_items$data=items.data)&&void 0!==_items$data&&_items$data.content_Item?_toConsumableArray(items.data.content_Item).sort((function(x,y){return x.title.localeCompare(y.title)})).map((function(content){return(0,jsx_runtime.jsx)("option",{value:content.id,children:content.title},content.id)})):void 0}),[null===(_items$data2=items.data)||void 0===_items$data2?void 0:_items$data2.content_Item]),row=(0,react.useMemo)((function(){return{getKey:function getKey(record){return record.id},canSelect:function canSelect(_record){return!0},pages:{defaultToLast:!1}}}),[]),columns=(0,react.useMemo)((function(){return[{id:"name",defaultSortDirection:CRUDTable2.S.Asc,header:function NameHeader(_ref6){var isInCreate=_ref6.isInCreate,onClick=_ref6.onClick,sortDir=_ref6.sortDir;return isInCreate?(0,jsx_runtime.jsx)(chakra_ui_form_control_esm.lX,{children:"Name"}):(0,jsx_runtime.jsxs)(chakra_ui_button_esm.zx,{size:"xs",onClick,children:["Name",null!==sortDir?" "+sortDir:void 0]})},get:function get(data){return data.name},set:function set(record,value){record.name=value},sort:function sort(x,y){return x.localeCompare(y)},filterFn:function filterFn(rows,filterValue){return""===filterValue?rows.filter((function(row){var _row$name;return""===(null!==(_row$name=row.name)&&void 0!==_row$name?_row$name:"")})):rows.filter((function(row){return row.name.toLowerCase().includes(filterValue.toLowerCase())}))},filterEl:CRUDComponents.Oe,cell:function EventNameCell(_ref7){var value=_ref7.value,_onChange=_ref7.onChange,onBlur=_ref7.onBlur,ref=_ref7.ref;return(0,jsx_runtime.jsx)(chakra_ui_input_esm.II,{type:"text",value:null!=value?value:"",onChange:function onChange(ev){return null==_onChange?void 0:_onChange(ev.target.value)},onBlur,border:"1px solid",borderColor:"rgba(255, 255, 255, 0.16)",ref})}},{id:"isProgramRoom",header:function IsProgramRoomHeader(_ref8){var isInCreate=_ref8.isInCreate,onClick=_ref8.onClick,sortDir=_ref8.sortDir;return isInCreate?void 0:(0,jsx_runtime.jsxs)(chakra_ui_button_esm.zx,{size:"xs",onClick,children:["Is program room?",null!==sortDir?" "+sortDir:void 0]})},get:function get(data){return data.isProgramRoom},sort:function sort(x,y){return x&&y?0:x?-1:y?1:0},filterFn:function filterFn(rows,filterValue){return rows.filter((function(row){return row.isProgramRoom===filterValue}))},filterEl:CRUDComponents.DV,cell:function InviteSentCell(_ref9){var isInCreate=_ref9.isInCreate,value=_ref9.value;return isInCreate?void 0:(0,jsx_runtime.jsx)(chakra_ui_layout_esm.M5,{children:(0,jsx_runtime.jsx)(FAIcon.Z,{iconStyle:"s",icon:value?"check":"times"})})}},{id:"isStreamingProgramRoom",header:function IsStreamingProgramRoomHeader(_ref10){var isInCreate=_ref10.isInCreate,onClick=_ref10.onClick,sortDir=_ref10.sortDir;return isInCreate?void 0:(0,jsx_runtime.jsxs)(chakra_ui_button_esm.zx,{size:"xs",onClick,children:["Live-streaming?",null!==sortDir?" "+sortDir:void 0]})},get:function get(data){return data.isStreamingProgramRoom},sort:function sort(x,y){return x&&y?0:x?-1:y?1:0},filterFn:function filterFn(rows,filterValue){return rows.filter((function(row){return row.isStreamingProgramRoom===filterValue}))},filterEl:CRUDComponents.DV,cell:function InviteSentCell(_ref11){var isInCreate=_ref11.isInCreate,value=_ref11.value;return isInCreate?void 0:(0,jsx_runtime.jsx)(chakra_ui_layout_esm.M5,{children:(0,jsx_runtime.jsx)(FAIcon.Z,{iconStyle:"s",icon:value?"check":"times"})})}},{id:"capacity",header:function CapacityHeader(_ref12){var isInCreate=_ref12.isInCreate,onClick=_ref12.onClick,sortDir=_ref12.sortDir;return isInCreate?(0,jsx_runtime.jsx)(chakra_ui_form_control_esm.lX,{children:"Capacity"}):(0,jsx_runtime.jsxs)(chakra_ui_button_esm.zx,{size:"xs",onClick,children:["Capacity",null!==sortDir?" "+sortDir:void 0]})},get:function get(data){return data.capacity},set:function set(record,value){record.capacity=value},sort:function sort(x,y){return x-y},filterFn:function filterFn(rows,filterValue){return rows.filter((function(row){return void 0===filterValue.min&&void 0===filterValue.max||row.capacity&&(void 0===filterValue.min||filterValue.min<=row.capacity)&&(void 0===filterValue.max||filterValue.max>=row.capacity)}))},filterEl:(0,CRUDComponents.pV)(0,3e3),cell:function EventNameCell(_ref13){var value=_ref13.value,_onChange2=_ref13.onChange,onBlur=_ref13.onBlur,ref=_ref13.ref;return(0,jsx_runtime.jsxs)(chakra_ui_number_input_esm.Y2,{border:"1px solid",borderColor:"rgba(255, 255, 255, 0.16)",value:null!=value?value:3e3,min:0,max:3e3,onChange:function onChange(vStr,v){return null==_onChange2?void 0:_onChange2(""===vStr?void 0:v)},onBlur,children:[(0,jsx_runtime.jsx)(chakra_ui_number_input_esm.zu,{ref}),(0,jsx_runtime.jsxs)(chakra_ui_number_input_esm.Fi,{children:[(0,jsx_runtime.jsx)(chakra_ui_number_input_esm.WQ,{"aria-label":"Increment"}),(0,jsx_runtime.jsx)(chakra_ui_number_input_esm.Y_,{"aria-label":"Decrement"})]})]})}},{id:"priority",header:function PriorityHeader(_ref14){var isInCreate=_ref14.isInCreate,onClick=_ref14.onClick,sortDir=_ref14.sortDir;return isInCreate?(0,jsx_runtime.jsx)(chakra_ui_form_control_esm.lX,{children:"Priority"}):(0,jsx_runtime.jsxs)(chakra_ui_button_esm.zx,{size:"xs",onClick,children:["Priority",null!==sortDir?" "+sortDir:void 0]})},get:function get(data){return data.priority},set:function set(record,value){record.priority=value},sort:function sort(x,y){return x-y},filterFn:function filterFn(rows,filterValue){return rows.filter((function(row){return void 0===filterValue.min&&void 0===filterValue.max||row.priority&&(void 0===filterValue.min||filterValue.min<=row.priority)&&(void 0===filterValue.max||filterValue.max>=row.priority)}))},filterEl:(0,CRUDComponents.pV)(0,3e3),cell:function EventNameCell(_ref15){var value=_ref15.value,_onChange3=_ref15.onChange,onBlur=_ref15.onBlur,ref=_ref15.ref;return(0,jsx_runtime.jsxs)(chakra_ui_number_input_esm.Y2,{border:"1px solid",borderColor:"rgba(255, 255, 255, 0.16)",value:null!=value?value:3e3,min:0,max:3e3,onChange:function onChange(vStr,v){return null==_onChange3?void 0:_onChange3(""===vStr?10:v)},onBlur,children:[(0,jsx_runtime.jsx)(chakra_ui_number_input_esm.zu,{ref}),(0,jsx_runtime.jsxs)(chakra_ui_number_input_esm.Fi,{children:[(0,jsx_runtime.jsx)(chakra_ui_number_input_esm.WQ,{"aria-label":"Increment"}),(0,jsx_runtime.jsx)(chakra_ui_number_input_esm.Y_,{"aria-label":"Decrement"})]})]})}},{id:"privacy",header:function ModeHeader(_ref16){var isInCreate=_ref16.isInCreate,onClick=_ref16.onClick,sortDir=_ref16.sortDir;return isInCreate?(0,jsx_runtime.jsx)(chakra_ui_form_control_esm.lX,{children:"Privacy"}):(0,jsx_runtime.jsxs)(chakra_ui_button_esm.zx,{size:"xs",onClick,children:["Privacy",null!==sortDir?" "+sortDir:void 0]})},get:function get(data){return data.managementModeName},set:function set(row,value){row.managementModeName=value},sort:function sort(x,y){return x.localeCompare(y)},filterFn:function filterFn(rows,v){return rows.filter((function(r){return r.managementModeName===v}))},filterEl:(0,CRUDComponents.fD)([graphql.ZvF.Private,graphql.ZvF.Public]),cell:function EventNameCell(_ref17){var value=_ref17.value,_onChange4=_ref17.onChange,onBlur=_ref17.onBlur,ref=_ref17.ref;if(value!==graphql.ZvF.Private&&value!==graphql.ZvF.Public)return(0,jsx_runtime.jsx)(chakra_ui_layout_esm.xv,{children:value});var v=null!=value?value:"";return(0,jsx_runtime.jsxs)(chakra_ui_select_esm.Ph,{value:v,onChange:function onChange(ev){return null==_onChange4?void 0:_onChange4(ev.target.value)},onBlur,ref,children:[""===v||v!==graphql.ZvF.Public&&v!==graphql.ZvF.Private?(0,jsx_runtime.jsx)("option",{value:"",children:"<Error>"}):void 0,(0,jsx_runtime.jsx)("option",{value:graphql.ZvF.Public,children:"Public"}),(0,jsx_runtime.jsx)("option",{value:graphql.ZvF.Private,children:"Private"})]})}},{id:"itemId",header:function ContentHeader(_ref18){var isInCreate=_ref18.isInCreate,onClick=_ref18.onClick,sortDir=_ref18.sortDir;return isInCreate?(0,jsx_runtime.jsx)(chakra_ui_form_control_esm.lX,{children:"Associated content to discuss (optional)"}):(0,jsx_runtime.jsxs)(chakra_ui_button_esm.zx,{size:"xs",onClick,children:["Content for discussion",null!==sortDir?" "+sortDir:void 0]})},get:function get(data){var _items$data3;return null===(_items$data3=items.data)||void 0===_items$data3?void 0:_items$data3.content_Item.find((function(group){return group.id===data.itemId}))},set:function set(record,value){record.itemId=null==value?void 0:value.id},sortType:function sortType(rowA,rowB){return rowA&&rowB?rowA.title.localeCompare(rowB.title):rowA?1:rowB?-1:0},filterFn:function filterFn(rows,filterValue){return""===filterValue?rows.filter((function(row){return!row.itemId})):rows.filter((function(row){var _ref19,_items$data4,_items$data4$content_;return null!==(_ref19=row.itemId&&(null===(_items$data4=items.data)||void 0===_items$data4||null===(_items$data4$content_=_items$data4.content_Item.find((function(group){return group.id===row.itemId})))||void 0===_items$data4$content_?void 0:_items$data4$content_.title.toLowerCase().includes(filterValue.toLowerCase())))&&void 0!==_ref19&&_ref19}))},filterEl:CRUDComponents.Oe,cell:function ContentCell(_ref20){var _value$id,value=_ref20.value,_onChange5=_ref20.onChange,onBlur=_ref20.onBlur,ref=_ref20.ref;return(0,jsx_runtime.jsxs)(chakra_ui_select_esm.Ph,{value:null!==(_value$id=null==value?void 0:value.id)&&void 0!==_value$id?_value$id:"",onChange:function onChange(ev){var _items$data5;return null==_onChange5?void 0:_onChange5(null===(_items$data5=items.data)||void 0===_items$data5?void 0:_items$data5.content_Item.find((function(group){return group.id===ev.target.value})))},onBlur,ref,maxW:400,children:[(0,jsx_runtime.jsx)("option",{value:"",children:"<None selected>"}),itemOptions]})}},{id:"auto-pin",header:function AutoPinHeader(_ref21){var isInCreate=_ref21.isInCreate,onClick=_ref21.onClick,sortDir=_ref21.sortDir;return isInCreate?void 0:(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[(0,jsx_runtime.jsx)(chakra_ui_system_esm.m$.span,{fontSize:"80%",textAlign:"center",children:"Chat"}),(0,jsx_runtime.jsxs)(chakra_ui_button_esm.zx,{size:"xs",onClick,h:"auto",py:1,children:["Auto",(0,jsx_runtime.jsx)("br",{}),"pin?",null!==sortDir?" "+sortDir:void 0]})]})},get:function get(data){return data.chat&&!data.chat.enableMandatoryPin?data.chat.enableAutoPin:void 0},set:function set(data,value){data.chat&&(data.chat.enableAutoPin=value)},sort:function sort(x,y){return x&&y?0:x?-1:y?1:0},filterFn:function filterFn(rows,filterValue){return rows.filter((function(row){var _row$chat;return!(null===(_row$chat=row.chat)||void 0===_row$chat||!_row$chat.enableAutoPin)===filterValue}))},filterEl:CRUDComponents.DV,cell:function AutoPinCell(_ref22){var isInCreate=_ref22.isInCreate,value=_ref22.value,_onChange6=_ref22.onChange,onBlur=_ref22.onBlur,ref=_ref22.ref;return isInCreate?void 0:void 0!==value?(0,jsx_runtime.jsx)(chakra_ui_layout_esm.M5,{children:(0,jsx_runtime.jsx)(chakra_ui_checkbox_esm.XZ,{isChecked:null!=value&&value,onChange:function onChange(ev){return null==_onChange6?void 0:_onChange6(ev.target.checked)},onBlur,ref})}):(0,jsx_runtime.jsx)("div",{})}},{id:"mandatory-pin",header:function MandatoryPinHeader(_ref23){var isInCreate=_ref23.isInCreate,onClick=_ref23.onClick,sortDir=_ref23.sortDir;return isInCreate?void 0:(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[(0,jsx_runtime.jsx)(chakra_ui_system_esm.m$.span,{fontSize:"80%",textAlign:"center",children:"Chat"}),(0,jsx_runtime.jsxs)(chakra_ui_button_esm.zx,{size:"xs",onClick,h:"auto",py:1,children:["Mandatory",(0,jsx_runtime.jsx)("br",{}),"pin?",null!==sortDir?" "+sortDir:void 0]})]})},get:function get(data){return data.chat&&data.chat.enableMandatoryPin},set:function set(data,value){data.chat&&(data.chat.enableMandatoryPin=value)},sort:function sort(x,y){return x&&y?0:x?-1:y?1:0},filterFn:function filterFn(rows,filterValue){return rows.filter((function(row){var _row$chat2;return!(null===(_row$chat2=row.chat)||void 0===_row$chat2||!_row$chat2.enableMandatoryPin)===filterValue}))},filterEl:CRUDComponents.DV,cell:function MandatoryPinCell(_ref24){var isInCreate=_ref24.isInCreate,value=_ref24.value,_onChange7=_ref24.onChange,onBlur=_ref24.onBlur,ref=_ref24.ref;return isInCreate?void 0:void 0!==value?(0,jsx_runtime.jsx)(chakra_ui_layout_esm.M5,{children:(0,jsx_runtime.jsx)(chakra_ui_checkbox_esm.XZ,{isChecked:null!=value&&value,onChange:function onChange(ev){return null==_onChange7?void 0:_onChange7(ev.target.checked)},onBlur,ref})}):(0,jsx_runtime.jsx)("div",{})}},{id:"auto-subscribe",header:function AutoSubscribeHeader(_ref25){var isInCreate=_ref25.isInCreate,onClick=_ref25.onClick,sortDir=_ref25.sortDir;return isInCreate?void 0:(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[(0,jsx_runtime.jsx)(chakra_ui_system_esm.m$.span,{fontSize:"80%",textAlign:"center",children:"Chat"}),(0,jsx_runtime.jsxs)(chakra_ui_button_esm.zx,{size:"xs",onClick,h:"auto",py:1,children:["Auto",(0,jsx_runtime.jsx)("br",{}),"subscribe?",null!==sortDir?" "+sortDir:void 0]})]})},get:function get(data){return data.chat&&!data.chat.enableMandatorySubscribe?data.chat.enableAutoSubscribe:void 0},set:function set(data,value){data.chat&&(data.chat.enableAutoSubscribe=value)},sort:function sort(x,y){return x&&y?0:x?-1:y?1:0},filterFn:function filterFn(rows,filterValue){return rows.filter((function(row){var _row$chat3;return!(null===(_row$chat3=row.chat)||void 0===_row$chat3||!_row$chat3.enableAutoSubscribe)===filterValue}))},filterEl:CRUDComponents.DV,cell:function AutoSubscribeCell(_ref26){var isInCreate=_ref26.isInCreate,value=_ref26.value,_onChange8=_ref26.onChange,onBlur=_ref26.onBlur,ref=_ref26.ref;return isInCreate?void 0:void 0!==value?(0,jsx_runtime.jsx)(chakra_ui_layout_esm.M5,{children:(0,jsx_runtime.jsx)(chakra_ui_checkbox_esm.XZ,{isChecked:null!=value&&value,onChange:function onChange(ev){return null==_onChange8?void 0:_onChange8(ev.target.checked)},onBlur,ref})}):(0,jsx_runtime.jsx)("div",{})}},{id:"mandatory-subscribe",header:function MandatorySubscribeHeader(_ref27){var isInCreate=_ref27.isInCreate,onClick=_ref27.onClick,sortDir=_ref27.sortDir;return isInCreate?void 0:(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[(0,jsx_runtime.jsx)(chakra_ui_system_esm.m$.span,{fontSize:"80%",textAlign:"center",children:"Chat"}),(0,jsx_runtime.jsxs)(chakra_ui_button_esm.zx,{size:"xs",onClick,h:"auto",py:1,children:["Mandatory",(0,jsx_runtime.jsx)("br",{}),"subscribe?",null!==sortDir?" "+sortDir:void 0]})]})},get:function get(data){return data.chat&&data.chat.enableMandatorySubscribe},set:function set(data,value){data.chat&&(data.chat.enableMandatorySubscribe=value)},sort:function sort(x,y){return x&&y?0:x?-1:y?1:0},filterFn:function filterFn(rows,filterValue){return rows.filter((function(row){var _row$chat4;return!(null===(_row$chat4=row.chat)||void 0===_row$chat4||!_row$chat4.enableMandatorySubscribe)===filterValue}))},filterEl:CRUDComponents.DV,cell:function MandatorySubscribeCell(_ref28){var isInCreate=_ref28.isInCreate,value=_ref28.value,_onChange9=_ref28.onChange,onBlur=_ref28.onBlur,ref=_ref28.ref;return isInCreate?void 0:void 0!==value?(0,jsx_runtime.jsx)(chakra_ui_layout_esm.M5,{children:(0,jsx_runtime.jsx)(chakra_ui_checkbox_esm.XZ,{isChecked:null!=value&&value,onChange:function onChange(ev){return null==_onChange9?void 0:_onChange9(ev.target.checked)},onBlur,ref})}):(0,jsx_runtime.jsx)("div",{})}}]}),[items,itemOptions]),forceReloadRef=(0,react.useRef)((function(){}));(0,react.useEffect)((function(){var _forceReloadRef$curre;(insertRoomResponse.error||updateRoomResponse.error||deleteRoomsResponse.error)&&(null===(_forceReloadRef$curre=forceReloadRef.current)||void 0===_forceReloadRef$curre||_forceReloadRef$curre.call(forceReloadRef))}),[deleteRoomsResponse.error,insertRoomResponse.error,updateRoomResponse.error]);var buttons=(0,react.useMemo)((function(){return[{render:function render(_ref29){var selectedData=_ref29.selectedData;function doExport(dataToExport){var _csvURL,csvURL,csvText=papaparse_min_default().unparse(dataToExport.map((function(room){var _room$itemId,_room$capacity,_room$chat$id,_room$chat;return{"Conference Id":room.conferenceId,"Subconference Id":room.subconferenceId,"Room Id":room.id,Name:room.name,"Is program room?":room.isProgramRoom?"Yes":"No",Priority:room.priority,Privacy:room.managementModeName,"Associated Content Id":null!==(_room$itemId=room.itemId)&&void 0!==_room$itemId?_room$itemId:"","Created At":room.created_at,Capacity:null!==(_room$capacity=room.capacity)&&void 0!==_room$capacity?_room$capacity:"Not set","Chat - Id":null!==(_room$chat$id=null===(_room$chat=room.chat)||void 0===_room$chat?void 0:_room$chat.id)&&void 0!==_room$chat$id?_room$chat$id:"","Chat - Enable Auto Pin":room.chat?room.chat.enableAutoPin?"Yes":"No":"","Chat - Enable Mandatory Pin":room.chat?room.chat.enableMandatoryPin?"Yes":"No":"","Chat - Enable Auto Subscribe":room.chat?room.chat.enableAutoSubscribe?"Yes":"No":"","Chat - Enable Mandatory Subscribe":room.chat?room.chat.enableMandatorySubscribe?"Yes":"No":""}})),{columns:["Conference Id","Subconference Id","Room Id","Name","Is program room?","Priority","Privacy","Associated Content Id","Associated Event Id","Created At","Current Mode Name","Capacity","Chat - Id","Chat - Enable Auto Pin","Chat - Enable Mandatory Pin","Chat - Enable Auto Subscribe","Chat - Enable Mandatory Subscribe"]}),csvData=new Blob([csvText],{type:"text/csv;charset=utf-8;"}),now=new Date,fileName=now.getFullYear()+"-"+(now.getMonth()+1).toString().padStart(2,"0")+"-"+now.getDate().toString().padStart(2,"0")+"T"+now.getHours().toString().padStart(2,"0")+"-"+now.getMinutes().toString().padStart(2,"0")+" - Midspace Rooms.csv";csvURL=window.URL.createObjectURL(csvData);var tempLink=document.createElement("a");tempLink.href=null!==(_csvURL=csvURL)&&void 0!==_csvURL?_csvURL:"",tempLink.setAttribute("download",fileName),tempLink.click()}var tooltip=function tooltip(filler){return"Exports "+filler+"."};return 0===selectedData.length?(0,jsx_runtime.jsxs)(chakra_ui_menu_esm.v2,{children:[(0,jsx_runtime.jsx)(chakra_ui_tooltip_esm.u,{label:tooltip("all rooms"),children:(0,jsx_runtime.jsx)(chakra_ui_menu_esm.j2,{as:chakra_ui_button_esm.zx,colorScheme:"purple",rightIcon:(0,jsx_runtime.jsx)(chakra_ui_icons_esm.ChevronDownIcon,{}),children:"Export"})}),(0,jsx_runtime.jsxs)(chakra_ui_menu_esm.qy,{maxH:"400px",overflowY:"auto",children:[(0,jsx_runtime.jsx)(chakra_ui_menu_esm.sN,{onClick:function onClick(){var _selectAllRoomsResult4;null!==(_selectAllRoomsResult4=selectAllRoomsResult.data)&&void 0!==_selectAllRoomsResult4&&_selectAllRoomsResult4.room_Room&&doExport(selectAllRoomsResult.data.room_Room)},children:"All rooms"}),(0,jsx_runtime.jsx)(chakra_ui_menu_esm.sN,{onClick:function onClick(){var _selectAllRoomsResult5;null!==(_selectAllRoomsResult5=selectAllRoomsResult.data)&&void 0!==_selectAllRoomsResult5&&_selectAllRoomsResult5.room_Room&&doExport(selectAllRoomsResult.data.room_Room.filter((function(room){return!!room.isProgramRoom})))},children:"Program rooms"}),(0,jsx_runtime.jsx)(chakra_ui_menu_esm.sN,{onClick:function onClick(){var _selectAllRoomsResult6;null!==(_selectAllRoomsResult6=selectAllRoomsResult.data)&&void 0!==_selectAllRoomsResult6&&_selectAllRoomsResult6.room_Room&&doExport(selectAllRoomsResult.data.room_Room.filter((function(room){return!room.isProgramRoom})))},children:"Non-program rooms"}),(0,jsx_runtime.jsx)(chakra_ui_menu_esm.sN,{onClick:function onClick(){var _selectAllRoomsResult7;null!==(_selectAllRoomsResult7=selectAllRoomsResult.data)&&void 0!==_selectAllRoomsResult7&&_selectAllRoomsResult7.room_Room&&doExport(selectAllRoomsResult.data.room_Room.filter((function(room){return room.managementModeName===graphql.ZvF.Public})))},children:"Public rooms"}),(0,jsx_runtime.jsx)(chakra_ui_menu_esm.sN,{onClick:function onClick(){var _selectAllRoomsResult8;null!==(_selectAllRoomsResult8=selectAllRoomsResult.data)&&void 0!==_selectAllRoomsResult8&&_selectAllRoomsResult8.room_Room&&doExport(selectAllRoomsResult.data.room_Room.filter((function(room){return room.managementModeName===graphql.ZvF.Private})))},children:"Private rooms"})]})]}):(0,jsx_runtime.jsx)(chakra_ui_tooltip_esm.u,{label:tooltip("selected rooms"),children:(0,jsx_runtime.jsx)(chakra_ui_layout_esm.xu,{children:(0,jsx_runtime.jsx)(chakra_ui_button_esm.zx,{colorScheme:"purple",isDisabled:0===selectedData.length,onClick:function onClick(){return doExport(selectedData)},children:"Export"})})})}}]}),[null===(_selectAllRoomsResult9=selectAllRoomsResult.data)||void 0===_selectAllRoomsResult9?void 0:_selectAllRoomsResult9.room_Room]),actualError=(0,ExtractActualError.Z)(null!==(_ref30=null!==(_insertRoomResponse$e=insertRoomResponse.error)&&void 0!==_insertRoomResponse$e?_insertRoomResponse$e:updateRoomResponse.error)&&void 0!==_ref30?_ref30:deleteRoomsResponse.error);return(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[(0,jsx_runtime.jsx)(CRUDTable2.Z,{data:!selectAllRoomsResult.fetching&&(null!==(_selectAllRoomsResult10=selectAllRoomsResult.data)&&void 0!==_selectAllRoomsResult10&&_selectAllRoomsResult10.room_Room?data:null),tableUniqueName:"ManageConferenceRooms",row,columns,edit:{open:function open(key){var _data$find;setEditingRoom(null!==(_data$find=data.find((function(x){return x.id===key})))&&void 0!==_data$find?_data$find:null),onSecondaryPanelOpen()}},insert:{ongoing:insertRoomResponse.fetching,generateDefaults:function generateDefaults(){return{id:(0,v4.Z)(),conferenceId:conference.id,subconferenceId,capacity:350,priority:10,name:"New room "+(data.length+1),participants:[],managementModeName:graphql.ZvF.Public}},makeWhole:function makeWhole(d){return d},start:function start(record){var _headers3;insertRoom({room:{id:record.id,conferenceId:record.conferenceId,subconferenceId,capacity:record.capacity,priority:record.priority,name:record.name,managementModeName:record.managementModeName,itemId:record.itemId}},{fetchOptions:{headers:(_headers3={},_headers3[auth.k.Role]=subconferenceId?auth.Z.SubconferenceOrganizer:auth.Z.ConferenceOrganizer,_headers3)}})}},update:{ongoing:updateRoomResponse.fetching,start:function start(record){var _record$chat$id,_record$chat,_record$chat2,_record$chat3,_record$chat4,_record$chat5,_headers4;updateRoom({id:record.id,name:record.name,priority:record.priority,capacity:record.capacity,managementModeName:record.managementModeName,itemId:record.itemId,chatId:null!==(_record$chat$id=null===(_record$chat=record.chat)||void 0===_record$chat?void 0:_record$chat.id)&&void 0!==_record$chat$id?_record$chat$id:"00000000-00000000-00000000-00000000",enableMandatoryPin:!(null===(_record$chat2=record.chat)||void 0===_record$chat2||!_record$chat2.enableMandatoryPin),enableAutoPin:!(null===(_record$chat3=record.chat)||void 0===_record$chat3||!_record$chat3.enableAutoPin),enableMandatorySubscribe:!(null===(_record$chat4=record.chat)||void 0===_record$chat4||!_record$chat4.enableMandatorySubscribe),enableAutoSubscribe:!(null===(_record$chat5=record.chat)||void 0===_record$chat5||!_record$chat5.enableAutoSubscribe)},{fetchOptions:{headers:(_headers4={},_headers4[auth.k.Role]=subconferenceId?auth.Z.SubconferenceOrganizer:auth.Z.ConferenceOrganizer,_headers4)}})}},delete:{ongoing:deleteRoomsResponse.fetching,start:function start(keys){deleteRooms({deleteRoomIds:keys},context)}},alert:insertRoomResponse.error||updateRoomResponse.error||deleteRoomsResponse.error?{status:"error",title:"Error saving changes",description:null!==(_ref31=null!=actualError&&actualError.includes('Foreign key violation. update or delete on table "Room" violates foreign key constraint "Event_roomId_fkey" on table "Event"')?"Events are scheduled in this room. Please delete them before deleting this room.":actualError)&&void 0!==_ref31?_ref31:"Unknown error"}:void 0,buttons,forceReload:forceReloadRef}),(0,jsx_runtime.jsx)(RoomSecondaryEditor,{room:editingRoom,isSecondaryPanelOpen,onSecondaryPanelClose,externalRtmpBroadcastEnabled,externalRtmpInputEnabled})]})}function ManageRooms(){return(0,jsx_runtime.jsx)(DashboardPage.Y,{title:"Rooms",children:(0,jsx_runtime.jsx)(EditableRoomsCRUDTable,{})})}(0,urql_core.Ps)(ManageRooms_templateObject||(ManageRooms_templateObject=function ManageRooms_taggedTemplateLiteralLoose(strings,raw){return raw||(raw=strings.slice(0)),strings.raw=raw,strings}(["\n    fragment RoomWithParticipantInfo on room_Room {\n        id\n        created_at\n        conferenceId\n        subconferenceId\n        name\n        capacity\n        priority\n        itemId\n        managementModeName\n        isProgramRoom\n        isStreamingProgramRoom\n        chatId\n        chat {\n            id\n            enableMandatoryPin\n            enableMandatorySubscribe\n            enableAutoPin\n            enableAutoSubscribe\n        }\n    }\n\n    query SelectAllRoomsWithParticipants($conferenceId: uuid!, $subconferenceCond: uuid_comparison_exp!) {\n        room_Room(\n            where: {\n                conferenceId: { _eq: $conferenceId }\n                subconferenceId: $subconferenceCond\n                managementModeName: { _in: [PUBLIC, PRIVATE] }\n            }\n        ) {\n            ...RoomWithParticipantInfo\n        }\n    }\n\n    query ManageRooms_SelectGroups($conferenceId: uuid!, $subconferenceCond: uuid_comparison_exp!) {\n        registrant_Group(where: { conferenceId: { _eq: $conferenceId }, subconferenceId: $subconferenceCond }) {\n            id\n            name\n            conferenceId\n            subconferenceId\n        }\n    }\n\n    query ManageRooms_SelectItems($conferenceId: uuid!, $subconferenceCond: uuid_comparison_exp!) {\n        content_Item(where: { conferenceId: { _eq: $conferenceId }, subconferenceId: $subconferenceCond }) {\n            id\n            title\n            conferenceId\n            subconferenceId\n        }\n    }\n\n    query ManageRooms_SelectGroupRegistrants($groupId: uuid!) {\n        registrant_GroupRegistrant(where: { groupId: { _eq: $groupId } }) {\n            id\n            groupId\n            registrantId\n        }\n    }\n\n    fragment RoomPersonInfo on room_RoomMembership {\n        id\n        roomId\n        registrant {\n            id\n            displayName\n        }\n        personRoleName\n    }\n\n    query ManageRooms_SelectRoomPeople($roomId: uuid!) {\n        room_RoomMembership(where: { roomId: { _eq: $roomId } }) {\n            ...RoomPersonInfo\n        }\n    }\n\n    mutation CreateRoom($room: room_Room_insert_input!) {\n        insert_room_Room_one(object: $room) {\n            ...RoomWithParticipantInfo\n        }\n    }\n\n    mutation UpdateRoomsWithParticipants(\n        $id: uuid!\n        $name: String!\n        $capacity: Int\n        $priority: Int!\n        $managementModeName: room_ManagementMode_enum!\n        $itemId: uuid\n        $chatId: uuid!\n        $enableMandatoryPin: Boolean!\n        $enableAutoPin: Boolean!\n        $enableMandatorySubscribe: Boolean!\n        $enableAutoSubscribe: Boolean!\n    ) {\n        update_room_Room_by_pk(\n            pk_columns: { id: $id }\n            _set: {\n                name: $name\n                capacity: $capacity\n                priority: $priority\n                managementModeName: $managementModeName\n                itemId: $itemId\n            }\n        ) {\n            ...RoomWithParticipantInfo\n        }\n        update_chat_Chat(\n            where: { id: { _eq: $chatId } }\n            _set: {\n                enableMandatoryPin: $enableMandatoryPin\n                enableAutoPin: $enableAutoPin\n                enableMandatorySubscribe: $enableMandatorySubscribe\n                enableAutoSubscribe: $enableAutoSubscribe\n            }\n        ) {\n            returning {\n                id\n                enableMandatoryPin\n                enableAutoPin\n                enableMandatorySubscribe\n                enableAutoSubscribe\n            }\n        }\n    }\n\n    mutation InsertRoomPeople($people: [room_RoomMembership_insert_input!]!) {\n        insert_room_RoomMembership(\n            objects: $people\n            on_conflict: { constraint: RoomPerson_registrantId_roomId_key, update_columns: [] }\n        ) {\n            returning {\n                ...RoomPersonInfo\n            }\n        }\n    }\n\n    mutation DeleteRooms($deleteRoomIds: [uuid!]!) {\n        delete_room_Room(where: { id: { _in: $deleteRoomIds } }) {\n            returning {\n                id\n            }\n        }\n    }\n\n    mutation DeleteRoomPerson($id: uuid!) {\n        delete_room_RoomMembership(where: { id: { _eq: $id } }) {\n            returning {\n                id\n            }\n        }\n    }\n\n    query GetIsExternalRtmpEnabled($conferenceId: uuid!) {\n        broadcast: conference_Configuration_by_pk(conferenceId: $conferenceId, key: ENABLE_EXTERNAL_RTMP_BROADCAST) {\n            conferenceId\n            key\n            value\n        }\n        input: conference_Configuration_by_pk(conferenceId: $conferenceId, key: ENABLE_EXTERNAL_RTMP_INPUT) {\n            conferenceId\n            key\n            value\n        }\n    }\n"]))),RoomSecondaryEditor.displayName="RoomSecondaryEditor",ManageRooms.displayName="ManageRooms"},"../node_modules/.pnpm/use-react-router-breadcrumbs@2.0.2_react-router@5.2.1+react@17.0.2/node_modules/use-react-router-breadcrumbs/dist/es/index.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var _babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("../node_modules/.pnpm/@babel+runtime@7.15.4/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js"),react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../node_modules/.pnpm/react@17.0.2/node_modules/react/index.js"),react_router__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("../node_modules/.pnpm/react-router@5.2.1_react@17.0.2/node_modules/react-router/esm/react-router.js");var DEFAULT_MATCH_OPTIONS={exact:!0},humanize=function humanize(str){return str.replace(/^[\s_]+|[\s_]+$/g,"").replace(/[_\s]+/g," ").replace(/^[a-z]/,(function(m){return m.toUpperCase()}))},render=function render(_ref){var Breadcrumb=_ref.breadcrumb,match=_ref.match,location=_ref.location,props=_ref.props,componentProps=Object.assign({match,location,key:match.url},props||{});return Object.assign(Object.assign({},componentProps),{breadcrumb:"string"==typeof Breadcrumb?(0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)("span",{key:componentProps.key},Breadcrumb):react__WEBPACK_IMPORTED_MODULE_0__.createElement(Breadcrumb,Object.assign({},componentProps))})},getBreadcrumbMatch=function getBreadcrumbMatch(_ref3){var breadcrumb,currentSection=_ref3.currentSection,disableDefaults=_ref3.disableDefaults,excludePaths=_ref3.excludePaths,location=_ref3.location,pathSection=_ref3.pathSection,routes=_ref3.routes;return excludePaths&&excludePaths.some((function getIsPathExcluded(path){return null!=(0,react_router__WEBPACK_IMPORTED_MODULE_1__.LX)(pathSection,{path,exact:!0,strict:!1})}))?"NO_BREADCRUMB":(routes.some((function(_a){var userProvidedBreadcrumb=_a.breadcrumb,matchOptions=_a.matchOptions,path=_a.path,rest=function __rest(s,e){var t={};for(var p in s)Object.prototype.hasOwnProperty.call(s,p)&&e.indexOf(p)<0&&(t[p]=s[p]);if(null!=s&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(p=Object.getOwnPropertySymbols(s);i<p.length;i++)e.indexOf(p[i])<0&&Object.prototype.propertyIsEnumerable.call(s,p[i])&&(t[p[i]]=s[p[i]])}return t}(_a,["breadcrumb","matchOptions","path"]);if(!path)throw new Error("useBreadcrumbs: `path` must be provided in every route object");var match=(0,react_router__WEBPACK_IMPORTED_MODULE_1__.LX)(pathSection,Object.assign(Object.assign({},matchOptions||DEFAULT_MATCH_OPTIONS),{path}));return match&&null===userProvidedBreadcrumb||!match&&matchOptions?(breadcrumb="NO_BREADCRUMB",!0):!!match&&(!userProvidedBreadcrumb&&disableDefaults?(breadcrumb="NO_BREADCRUMB",!0):(breadcrumb=render(Object.assign({breadcrumb:userProvidedBreadcrumb||humanize(currentSection),match,location},rest)),!0))})),breadcrumb||(disableDefaults?"NO_BREADCRUMB":function getDefaultBreadcrumb(_ref2){var currentSection=_ref2.currentSection,location=_ref2.location,pathSection=_ref2.pathSection,match=(0,react_router__WEBPACK_IMPORTED_MODULE_1__.LX)(pathSection,Object.assign(Object.assign({},DEFAULT_MATCH_OPTIONS),{path:pathSection}))||{url:"not-found"};return render({breadcrumb:humanize(currentSection),match,location})}({pathSection,currentSection:"/"===pathSection?"Home":currentSection,location})))},flattenRoutes=function flattenRoutes(routes){return routes.reduce((function(arr,route){return route.routes?arr.concat([route].concat((0,_babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_2__.Z)(flattenRoutes(route.routes)))):arr.concat(route)}),[])};const __WEBPACK_DEFAULT_EXPORT__=function useReactRouterBreadcrumbs(routes,options){return function getBreadcrumbs(_ref4){var routes=_ref4.routes,location=_ref4.location,_ref4$options=_ref4.options,options=void 0===_ref4$options?{}:_ref4$options,matches=[];return location.pathname.split("?")[0].split("/").reduce((function(previousSection,currentSection,index){var pathSection=currentSection?"".concat(previousSection,"/").concat(currentSection):"/";if("/"===pathSection&&0!==index)return"";var breadcrumb=getBreadcrumbMatch(Object.assign({currentSection,location,pathSection,routes},options));return"NO_BREADCRUMB"!==breadcrumb&&matches.push(breadcrumb),"/"===pathSection?"":pathSection}),""),matches}({routes:flattenRoutes(routes||[]),location:(0,react_router__WEBPACK_IMPORTED_MODULE_1__.TH)(),options})}}}]);