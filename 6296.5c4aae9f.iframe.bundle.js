/*! For license information please see 6296.5c4aae9f.iframe.bundle.js.LICENSE.txt */
"use strict";(self.webpackChunk_midspace_frontend=self.webpackChunk_midspace_frontend||[]).push([[6296],{"./src/aspects/Conference/Manage/DashboardPage.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Y:()=>DashboardPage});__webpack_require__("../node_modules/.pnpm/core-js@3.21.0/node_modules/core-js/modules/es.array.includes.js"),__webpack_require__("../node_modules/.pnpm/core-js@3.21.0/node_modules/core-js/modules/es.string.includes.js");var chakra_ui_color_mode_esm=__webpack_require__("../node_modules/.pnpm/@chakra-ui+color-mode@1.4.3_react@17.0.2/node_modules/@chakra-ui/color-mode/dist/chakra-ui-color-mode.esm.js"),chakra_ui_layout_esm=__webpack_require__("../node_modules/.pnpm/@chakra-ui+layout@1.7.4_d5de66fc214059f645050e36d066c00a/node_modules/@chakra-ui/layout/dist/chakra-ui-layout.esm.js"),react=__webpack_require__("../node_modules/.pnpm/react@17.0.2/node_modules/react/index.js"),useTitle=__webpack_require__("./src/aspects/Hooks/useTitle.tsx"),useConference=__webpack_require__("./src/aspects/Conference/useConference.tsx"),chakra_ui_breadcrumb_esm=(__webpack_require__("../node_modules/.pnpm/core-js@3.21.0/node_modules/core-js/modules/es.array.find.js"),__webpack_require__("../node_modules/.pnpm/core-js@3.21.0/node_modules/core-js/modules/es.array.map.js"),__webpack_require__("../node_modules/.pnpm/@chakra-ui+breadcrumb@1.3.4_d5de66fc214059f645050e36d066c00a/node_modules/@chakra-ui/breadcrumb/dist/chakra-ui-breadcrumb.esm.js")),react_router_dom=__webpack_require__("../node_modules/.pnpm/react-router-dom@5.3.0_react@17.0.2/node_modules/react-router-dom/esm/react-router-dom.js"),es=__webpack_require__("../node_modules/.pnpm/use-react-router-breadcrumbs@2.0.2_react-router@5.2.1+react@17.0.2/node_modules/use-react-router-breadcrumbs/dist/es/index.js"),AuthParameters=__webpack_require__("./src/aspects/GQL/AuthParameters.tsx"),jsx_runtime=__webpack_require__("../node_modules/.pnpm/react@17.0.2/node_modules/react/jsx-runtime.js");function Breadcrumbs(){var conference=(0,useConference.fk)(),subconferenceId=(0,AuthParameters.h)().subconferenceId,confTitle=(0,react.useMemo)((function(){var _ref,_conference$subconfer;return null!==(_ref=subconferenceId?null===(_conference$subconfer=conference.subconferences.find((function(x){return x.id===subconferenceId})))||void 0===_conference$subconfer?void 0:_conference$subconfer.shortName:void 0)&&void 0!==_ref?_ref:conference.shortName}),[conference.shortName,conference.subconferences,subconferenceId]),routes=(0,react.useMemo)((function(){return[{path:"/conference/:slug/manage",breadcrumb:"Manage "+confTitle},{path:"/c/:slug/manage",breadcrumb:"Manage "+confTitle},{path:"/conference/:slug/manage/export/youtube",breadcrumb:"YouTube"},{path:"/c/:slug/manage/export/youtube",breadcrumb:"YouTube"},{path:"/conference/:slug/manage/export/download-videos",breadcrumb:"Download videos"},{path:"/c/:slug/manage/export/download-videos",breadcrumb:"Download videos"}]}),[confTitle]),breadcrumbs=(0,es.Z)(routes,{excludePaths:["/","/conference","/c","/conference/:slug","/c/:slug"]});return(0,jsx_runtime.jsx)(chakra_ui_breadcrumb_esm.aG,{separator:">",children:breadcrumbs.map((function(breadcrumb){return(0,jsx_runtime.jsx)(chakra_ui_breadcrumb_esm.gN,{isCurrentPage:breadcrumb.key===breadcrumb.location.key,children:(0,jsx_runtime.jsx)(chakra_ui_breadcrumb_esm.At,{as:react_router_dom.rU,to:breadcrumb.key,children:breadcrumb.breadcrumb})},breadcrumb.key)}))})}function DashboardHeaderControls(_ref){var children=_ref.children;return children?(0,jsx_runtime.jsx)(chakra_ui_layout_esm.Ug,{spacing:4,mb:4,children}):(0,jsx_runtime.jsx)(jsx_runtime.Fragment,{})}Breadcrumbs.displayName="Breadcrumbs";try{DashboardHeaderControls.displayName="DashboardHeaderControls",DashboardHeaderControls.__docgenInfo={description:"",displayName:"DashboardHeaderControls",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/aspects/Conference/Manage/DashboardHeaderControls.tsx#DashboardHeaderControls"]={docgenInfo:DashboardHeaderControls.__docgenInfo,name:"DashboardHeaderControls",path:"src/aspects/Conference/Manage/DashboardHeaderControls.tsx#DashboardHeaderControls"})}catch(__react_docgen_typescript_loader_error){}var SubconferenceSelector=__webpack_require__("./src/aspects/Conference/Manage/Subconferences/SubconferenceSelector.tsx");function DashboardPage(_ref){var title=_ref.title,children=_ref.children,controls=_ref.controls,_ref$stickyHeader=_ref.stickyHeader,stickyHeader=void 0===_ref$stickyHeader||_ref$stickyHeader,_ref$autoOverflow=_ref.autoOverflow,autoOverflow=void 0===_ref$autoOverflow||_ref$autoOverflow,conference=(0,useConference.fk)(),grayBg=(0,chakra_ui_color_mode_esm.ff)("gray.50","gray.900"),grayBorder=(0,chakra_ui_color_mode_esm.ff)("gray.300","gray.600"),titleEl=(0,useTitle.Z)(title.includes(conference.shortName)?title:title+" - "+conference.shortName);return(0,jsx_runtime.jsxs)(chakra_ui_layout_esm.kC,{flexDir:"column",w:{base:"100%",xl:"80%"},px:[2,2,4],children:[titleEl,(0,jsx_runtime.jsxs)(chakra_ui_layout_esm.xu,{position:stickyHeader?"sticky":void 0,top:0,left:0,zIndex:1e5,bgColor:grayBg,pt:4,borderBottom:"1px solid",borderBottomColor:grayBorder,children:[(0,jsx_runtime.jsx)(Breadcrumbs,{}),(0,jsx_runtime.jsxs)(chakra_ui_layout_esm.Ug,{children:[(0,jsx_runtime.jsx)(chakra_ui_layout_esm.X6,{id:"page-heading",as:"h1",size:"xl",textAlign:"left",mt:4,mb:4,children:title}),(0,jsx_runtime.jsx)(chakra_ui_layout_esm.LZ,{}),(0,jsx_runtime.jsx)(SubconferenceSelector.B,{})]}),(0,jsx_runtime.jsx)(DashboardHeaderControls,{children:controls})]}),(0,jsx_runtime.jsx)(chakra_ui_layout_esm.kC,{flexDir:"column",mt:4,w:"100%",overflow:autoOverflow?"auto":void 0,children})]})}DashboardPage.displayName="DashboardPage";try{DashboardPage.displayName="DashboardPage",DashboardPage.__docgenInfo={description:"",displayName:"DashboardPage",props:{title:{defaultValue:null,description:"",name:"title",required:!0,type:{name:"string"}},stickyHeader:{defaultValue:{value:"true"},description:"",name:"stickyHeader",required:!1,type:{name:"boolean"}},autoOverflow:{defaultValue:{value:"true"},description:"",name:"autoOverflow",required:!1,type:{name:"boolean"}},controls:{defaultValue:null,description:"",name:"controls",required:!1,type:{name:"ReactChild[]"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/aspects/Conference/Manage/DashboardPage.tsx#DashboardPage"]={docgenInfo:DashboardPage.__docgenInfo,name:"DashboardPage",path:"src/aspects/Conference/Manage/DashboardPage.tsx#DashboardPage"})}catch(__react_docgen_typescript_loader_error){}},"./src/aspects/Conference/Manage/Schedule/ContinuationsEditor.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>ContinuationsEditor});__webpack_require__("../node_modules/.pnpm/core-js@3.21.0/node_modules/core-js/modules/es.array.slice.js"),__webpack_require__("../node_modules/.pnpm/core-js@3.21.0/node_modules/core-js/modules/es.array.is-array.js"),__webpack_require__("../node_modules/.pnpm/core-js@3.21.0/node_modules/core-js/modules/es.symbol.iterator.js"),__webpack_require__("../node_modules/.pnpm/core-js@3.21.0/node_modules/core-js/modules/es.string.iterator.js"),__webpack_require__("../node_modules/.pnpm/core-js@3.21.0/node_modules/core-js/modules/es.array.iterator.js"),__webpack_require__("../node_modules/.pnpm/core-js@3.21.0/node_modules/core-js/modules/web.dom-collections.iterator.js"),__webpack_require__("../node_modules/.pnpm/core-js@3.21.0/node_modules/core-js/modules/es.function.name.js"),__webpack_require__("../node_modules/.pnpm/core-js@3.21.0/node_modules/core-js/modules/es.array.from.js"),__webpack_require__("../node_modules/.pnpm/core-js@3.21.0/node_modules/core-js/modules/es.array.reduce.js"),__webpack_require__("../node_modules/.pnpm/core-js@3.21.0/node_modules/core-js/modules/es.array.map.js"),__webpack_require__("../node_modules/.pnpm/core-js@3.21.0/node_modules/core-js/modules/es.string.trim.js"),__webpack_require__("../node_modules/.pnpm/core-js@3.21.0/node_modules/core-js/modules/es.string.replace.js"),__webpack_require__("../node_modules/.pnpm/core-js@3.21.0/node_modules/core-js/modules/es.regexp.exec.js"),__webpack_require__("../node_modules/.pnpm/core-js@3.21.0/node_modules/core-js/modules/es.symbol.js"),__webpack_require__("../node_modules/.pnpm/core-js@3.21.0/node_modules/core-js/modules/es.symbol.description.js"),__webpack_require__("../node_modules/.pnpm/core-js@3.21.0/node_modules/core-js/modules/es.promise.js"),__webpack_require__("../node_modules/.pnpm/core-js@3.21.0/node_modules/core-js/modules/es.object.to-string.js"),__webpack_require__("../node_modules/.pnpm/core-js@3.21.0/node_modules/core-js/modules/es.regexp.to-string.js"),__webpack_require__("../node_modules/.pnpm/core-js@3.21.0/node_modules/core-js/modules/es.date.to-string.js");var _templateObject,ContinuationsEditor_templateObject,chakra_ui_layout_esm=__webpack_require__("../node_modules/.pnpm/@chakra-ui+layout@1.7.4_d5de66fc214059f645050e36d066c00a/node_modules/@chakra-ui/layout/dist/chakra-ui-layout.esm.js"),chakra_ui_system_esm=__webpack_require__("../node_modules/.pnpm/@chakra-ui+system@1.10.3_922a85da57e3646a57465b7970b0de85/node_modules/@chakra-ui/system/dist/chakra-ui-system.esm.js"),chakra_ui_button_esm=__webpack_require__("../node_modules/.pnpm/@chakra-ui+button@1.5.5_d5de66fc214059f645050e36d066c00a/node_modules/@chakra-ui/button/dist/chakra-ui-button.esm.js"),chakra_ui_spinner_esm=__webpack_require__("../node_modules/.pnpm/@chakra-ui+spinner@1.2.4_d5de66fc214059f645050e36d066c00a/node_modules/@chakra-ui/spinner/dist/chakra-ui-spinner.esm.js"),chakra_ui_form_control_esm=__webpack_require__("../node_modules/.pnpm/@chakra-ui+form-control@1.5.6_d5de66fc214059f645050e36d066c00a/node_modules/@chakra-ui/form-control/dist/chakra-ui-form-control.esm.js"),chakra_ui_switch_esm=__webpack_require__("../node_modules/.pnpm/@chakra-ui+switch@1.3.5_381b254eb05ba0b21fa13fc526cde82c/node_modules/@chakra-ui/switch/dist/chakra-ui-switch.esm.js"),chakra_ui_toast_esm=__webpack_require__("../node_modules/.pnpm/@chakra-ui+toast@1.5.4_3467197ee0b52af28e4f3b42a3c78b88/node_modules/@chakra-ui/toast/dist/chakra-ui-toast.esm.js"),chakra_ui_color_mode_esm=__webpack_require__("../node_modules/.pnpm/@chakra-ui+color-mode@1.4.3_react@17.0.2/node_modules/@chakra-ui/color-mode/dist/chakra-ui-color-mode.esm.js"),chakra_ui_popover_esm=__webpack_require__("../node_modules/.pnpm/@chakra-ui+popover@1.11.4_381b254eb05ba0b21fa13fc526cde82c/node_modules/@chakra-ui/popover/dist/chakra-ui-popover.esm.js"),auth=__webpack_require__("../packages/shared/shared-types/build/esm/auth.js"),urql_core=__webpack_require__("../node_modules/.pnpm/@urql+core@2.4.1_graphql@15.7.2/node_modules/@urql/core/dist/urql-core.mjs"),es=__webpack_require__("../node_modules/.pnpm/ramda@0.28.0/node_modules/ramda/es/index.js"),react=__webpack_require__("../node_modules/.pnpm/react@17.0.2/node_modules/react/index.js"),react_color_es=__webpack_require__("../node_modules/.pnpm/react-color@2.19.3_react@17.0.2/node_modules/react-color/es/index.js"),tinycolor=__webpack_require__("../node_modules/.pnpm/tinycolor2@1.4.2/node_modules/tinycolor2/tinycolor.js"),tinycolor_default=__webpack_require__.n(tinycolor),graphql=__webpack_require__("./src/generated/graphql.tsx"),FAIcon=__webpack_require__("./src/aspects/Chakra/FAIcon.tsx"),AuthParameters=__webpack_require__("./src/aspects/GQL/AuthParameters.tsx"),make_context=__webpack_require__("./src/aspects/GQL/make-context.ts"),useQueryErrorToast=__webpack_require__("./src/aspects/GQL/useQueryErrorToast.tsx"),useRestorableState=__webpack_require__("./src/aspects/Hooks/useRestorableState.ts"),chakra_ui_select_esm=(__webpack_require__("../node_modules/.pnpm/core-js@3.21.0/node_modules/core-js/modules/es.array.sort.js"),__webpack_require__("../node_modules/.pnpm/core-js@3.21.0/node_modules/core-js/modules/es.array.concat.js"),__webpack_require__("../node_modules/.pnpm/@chakra-ui+select@1.2.6_d5de66fc214059f645050e36d066c00a/node_modules/@chakra-ui/select/dist/chakra-ui-select.esm.js")),chakra_ui_hooks_esm=__webpack_require__("../node_modules/.pnpm/@chakra-ui+hooks@1.8.2_react@17.0.2/node_modules/@chakra-ui/hooks/dist/chakra-ui-hooks.esm.js"),chakra_ui_input_esm=__webpack_require__("../node_modules/.pnpm/@chakra-ui+input@1.4.1_d5de66fc214059f645050e36d066c00a/node_modules/@chakra-ui/input/dist/chakra-ui-input.esm.js"),chakra_ui_modal_esm=__webpack_require__("../node_modules/.pnpm/@chakra-ui+modal@1.10.7_d24435ba52f1f88b08cc54a1f1d4e56f/node_modules/@chakra-ui/modal/dist/chakra-ui-modal.esm.js"),chakra_ui_alert_esm=__webpack_require__("../node_modules/.pnpm/@chakra-ui+alert@1.3.5_d5de66fc214059f645050e36d066c00a/node_modules/@chakra-ui/alert/dist/chakra-ui-alert.esm.js"),chakra_ui_tooltip_esm=__webpack_require__("../node_modules/.pnpm/@chakra-ui+tooltip@1.4.6_3467197ee0b52af28e4f3b42a3c78b88/node_modules/@chakra-ui/tooltip/dist/chakra-ui-tooltip.esm.js"),continuation=__webpack_require__("../packages/shared/shared-types/build/esm/continuation.js"),format=__webpack_require__("../node_modules/.pnpm/date-fns@2.28.0/node_modules/date-fns/esm/format/index.js"),urql_es=__webpack_require__("../node_modules/.pnpm/urql@2.1.3_graphql@15.7.2+react@17.0.2/node_modules/urql/dist/urql.es.js"),useConference=__webpack_require__("./src/aspects/Conference/useConference.tsx"),jsx_runtime=__webpack_require__("../node_modules/.pnpm/react@17.0.2/node_modules/react/jsx-runtime.js");function _toConsumableArray(arr){return function _arrayWithoutHoles(arr){if(Array.isArray(arr))return _arrayLikeToArray(arr)}(arr)||function _iterableToArray(iter){if("undefined"!=typeof Symbol&&null!=iter[Symbol.iterator]||null!=iter["@@iterator"])return Array.from(iter)}(arr)||_unsupportedIterableToArray(arr)||function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg),value=info.value}catch(error){return void reject(error)}info.done?resolve(value):Promise.resolve(value).then(_next,_throw)}function _asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise((function(resolve,reject){var gen=fn.apply(self,args);function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(void 0)}))}}function _slicedToArray(arr,i){return function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function _iterableToArrayLimit(arr,i){var _i=null==arr?null:"undefined"!=typeof Symbol&&arr[Symbol.iterator]||arr["@@iterator"];if(null==_i)return;var _s,_e,_arr=[],_n=!0,_d=!1;try{for(_i=_i.call(arr);!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||_unsupportedIterableToArray(arr,i)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _unsupportedIterableToArray(o,minLen){if(o){if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);return"Object"===n&&o.constructor&&(n=o.constructor.name),"Map"===n||"Set"===n?Array.from(o):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_arrayLikeToArray(o,minLen):void 0}}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function LazySelectFromQuery(_ref){var fetch=_ref.fetch,value=_ref.value,_onChange=_ref.onChange,visible=_ref.visible,label=_ref.label,_useState2=_slicedToArray((0,react.useState)(null),2),options=_useState2[0],setOptions=_useState2[1];(0,react.useEffect)((function(){visible&&null===options&&_asyncToGenerator(regeneratorRuntime.mark((function _callee(){var opts;return regeneratorRuntime.wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:return _context.next=2,fetch();case 2:(opts=_context.sent).sort((function(x,y){return x.value.localeCompare(y.value)})),setOptions(opts),""===value&&_onChange(opts[0].key);case 6:case"end":return _context.stop()}}),_callee)})))()}),[fetch,visible,options,_onChange,value]);var optionEls=(0,react.useMemo)((function(){return null==options?void 0:options.map((function(opt){return(0,jsx_runtime.jsx)("option",{value:opt.key,children:opt.value},opt.key)}))}),[options]);return visible?(0,jsx_runtime.jsxs)(chakra_ui_form_control_esm.NI,{children:[(0,jsx_runtime.jsx)(chakra_ui_form_control_esm.lX,{children:label}),(0,jsx_runtime.jsx)(chakra_ui_select_esm.Ph,{value,onChange:function onChange(ev){_onChange(ev.target.value)},children:optionEls})]}):(0,jsx_runtime.jsx)(jsx_runtime.Fragment,{})}function CreateContinuationModal(_ref3){var from=_ref3.from,defaultPriority=_ref3.defaultPriority,forceActiveChoice=_ref3.forceActiveChoice,eventItemId=_ref3.eventItemId,conference=(0,useConference.fk)(),subconferenceId=(0,AuthParameters.h)().subconferenceId,client=(0,urql_es.m8)(),leastDestructiveRef=(0,react.useRef)(null),addButtonRef=(0,react.useRef)(null),_useDisclosure=(0,chakra_ui_hooks_esm.qY)(),onOpen=_useDisclosure.onOpen,onClose=_useDisclosure.onClose,isOpen=_useDisclosure.isOpen,_useState4=_slicedToArray((0,react.useState)("eventId"in from?{type:continuation.aS.AutoDiscussionRoom,id:null!=eventItemId?eventItemId:""}:{type:continuation.aS.ShufflePeriod,id:"shufflePeriodId"in from?from.shufflePeriodId:""}),2),to=_useState4[0],setTo=_useState4[1],typeOptions=(0,react.useMemo)((function(){return[(0,jsx_runtime.jsx)("option",{value:continuation.aS.URL,children:"URL"},continuation.aS.URL),(0,jsx_runtime.jsx)("option",{value:continuation.aS.Room,children:"Room"},continuation.aS.Room),(0,jsx_runtime.jsx)("option",{value:continuation.aS.Event,children:"Event"},continuation.aS.Event),(0,jsx_runtime.jsx)("option",{value:continuation.aS.AutoDiscussionRoom,children:"Automatic Discussion Room"},continuation.aS.AutoDiscussionRoom),(0,jsx_runtime.jsx)("option",{value:continuation.aS.Item,children:"Item"},continuation.aS.Item),(0,jsx_runtime.jsx)("option",{value:continuation.aS.Exhibition,children:"Exhibition"},continuation.aS.Exhibition),(0,jsx_runtime.jsx)("option",{value:continuation.aS.ShufflePeriod,children:"Shuffle Period"},continuation.aS.ShufflePeriod),(0,jsx_runtime.jsx)("option",{value:continuation.aS.Profile,children:"Profile"},continuation.aS.Profile),(0,jsx_runtime.jsx)("option",{value:continuation.aS.OwnProfile,children:"User's Own Profile"},continuation.aS.OwnProfile),(0,jsx_runtime.jsx)("option",{value:continuation.aS.NavigationView,children:"A Navigation View"},continuation.aS.NavigationView),(0,jsx_runtime.jsx)("option",{value:continuation.aS.ConferenceLandingPage,children:"Conference Landing Page"},continuation.aS.ConferenceLandingPage)]}),[]),viewOptions=(0,react.useMemo)((function(){return[(0,jsx_runtime.jsx)("option",{value:continuation.Tu.LiveProgramRooms,children:"Live Program Rooms"},continuation.Tu.LiveProgramRooms),(0,jsx_runtime.jsx)("option",{value:continuation.Tu.HappeningSoon,children:"Happening Soon"},continuation.Tu.HappeningSoon),(0,jsx_runtime.jsx)("option",{value:continuation.Tu.Tags,children:"Tags"},continuation.Tu.Tags),(0,jsx_runtime.jsx)("option",{value:continuation.Tu.Exhibitions,children:"Exhibitions"},continuation.Tu.Exhibitions),(0,jsx_runtime.jsx)("option",{value:continuation.Tu.Schedule,children:"Schedule"},continuation.Tu.Schedule),(0,jsx_runtime.jsx)("option",{value:continuation.Tu.SocialRooms,children:"Social Rooms"},continuation.Tu.SocialRooms),(0,jsx_runtime.jsx)("option",{value:continuation.Tu.People,children:"People"},continuation.Tu.People),(0,jsx_runtime.jsx)("option",{value:continuation.Tu.ShufflePeriods,children:"Shuffle Periods"},continuation.Tu.ShufflePeriods),(0,jsx_runtime.jsx)("option",{value:continuation.Tu.MyBackstages,children:"My Backstages"},continuation.Tu.MyBackstages)]}),[]),toTypeSelect=(0,react.useMemo)((function(){return(0,jsx_runtime.jsxs)(chakra_ui_form_control_esm.NI,{children:[(0,jsx_runtime.jsx)(chakra_ui_form_control_esm.lX,{children:"To"}),(0,jsx_runtime.jsx)(chakra_ui_select_esm.Ph,{value:to.type,onChange:function onChange(ev){switch(ev.target.value){case continuation.aS.URL:setTo({type:continuation.aS.URL,text:"",url:""});break;case continuation.aS.Room:setTo({type:continuation.aS.Room,id:""});break;case continuation.aS.Event:setTo({type:continuation.aS.Event,id:""});break;case continuation.aS.AutoDiscussionRoom:setTo({type:continuation.aS.AutoDiscussionRoom,id:null!=eventItemId?eventItemId:""});break;case continuation.aS.Item:setTo({type:continuation.aS.Item,id:null!=eventItemId?eventItemId:""});break;case continuation.aS.Exhibition:setTo({type:continuation.aS.Exhibition,id:""});break;case continuation.aS.ShufflePeriod:setTo({type:continuation.aS.ShufflePeriod,id:""});break;case continuation.aS.Profile:setTo({type:continuation.aS.Profile,id:""});break;case continuation.aS.OwnProfile:setTo({type:continuation.aS.OwnProfile});break;case continuation.aS.NavigationView:setTo({type:continuation.aS.NavigationView,view:continuation.Tu.LiveProgramRooms});break;case continuation.aS.ConferenceLandingPage:setTo({type:continuation.aS.ConferenceLandingPage})}},children:typeOptions}),(0,jsx_runtime.jsx)(chakra_ui_form_control_esm.Q6,{children:"Where to direct people."})]})}),[to.type,typeOptions,eventItemId]),toViewSelect=(0,react.useMemo)((function(){return to.type===continuation.aS.NavigationView?(0,jsx_runtime.jsxs)(chakra_ui_form_control_esm.NI,{children:[(0,jsx_runtime.jsx)(chakra_ui_form_control_esm.lX,{children:"Navigation view"}),(0,jsx_runtime.jsx)(chakra_ui_select_esm.Ph,{value:to.view,onChange:function onChange(ev){switch(ev.target.value){case continuation.Tu.LiveProgramRooms:setTo({type:continuation.aS.NavigationView,view:continuation.Tu.LiveProgramRooms});break;case continuation.Tu.HappeningSoon:setTo({type:continuation.aS.NavigationView,view:continuation.Tu.HappeningSoon});break;case continuation.Tu.Tags:setTo({type:continuation.aS.NavigationView,view:continuation.Tu.Tags,tagId:null});break;case continuation.Tu.Exhibitions:setTo({type:continuation.aS.NavigationView,view:continuation.Tu.Exhibitions});break;case continuation.Tu.Schedule:setTo({type:continuation.aS.NavigationView,view:continuation.Tu.Schedule});break;case continuation.Tu.SocialRooms:setTo({type:continuation.aS.NavigationView,view:continuation.Tu.SocialRooms});break;case continuation.Tu.People:setTo({type:continuation.aS.NavigationView,view:continuation.Tu.People});break;case continuation.Tu.ShufflePeriods:setTo({type:continuation.aS.NavigationView,view:continuation.Tu.ShufflePeriods});break;case continuation.Tu.MyBackstages:setTo({type:continuation.aS.NavigationView,view:continuation.Tu.MyBackstages})}},children:viewOptions})]}):void 0}),[viewOptions,to]),toURLInput=(0,react.useMemo)((function(){return to.type===continuation.aS.URL?(0,jsx_runtime.jsxs)(chakra_ui_form_control_esm.NI,{children:[(0,jsx_runtime.jsx)(chakra_ui_form_control_esm.lX,{children:"URL"}),(0,jsx_runtime.jsx)(chakra_ui_input_esm.II,{type:"url",value:to.url,onChange:function onChange(ev){setTo({type:continuation.aS.URL,url:ev.target.value,text:to.text})}})]}):void 0}),[to]),toTextInput=(0,react.useMemo)((function(){return to.type===continuation.aS.URL?(0,jsx_runtime.jsxs)(chakra_ui_form_control_esm.NI,{children:[(0,jsx_runtime.jsx)(chakra_ui_form_control_esm.lX,{children:"Label"}),(0,jsx_runtime.jsx)(chakra_ui_input_esm.II,{value:to.text,onChange:function onChange(ev){setTo({type:continuation.aS.URL,url:to.url,text:ev.target.value})}})]}):void 0}),[to]),toRoomsSelect=(0,react.useMemo)((function(){return(0,jsx_runtime.jsx)(LazySelectFromQuery,{fetch:_asyncToGenerator(regeneratorRuntime.mark((function _callee2(){var _headers,_data$data$room_Room$,_data$data,data;return regeneratorRuntime.wrap((function _callee2$(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:return _context2.next=2,client.query(graphql.dvb,{conferenceId:conference.id},{fetchOptions:{headers:(_headers={},_headers[auth.k.Role]=subconferenceId?auth.Z.SubconferenceOrganizer:auth.Z.ConferenceOrganizer,_headers)}}).toPromise();case 2:return data=_context2.sent,_context2.abrupt("return",null!==(_data$data$room_Room$=null===(_data$data=data.data)||void 0===_data$data?void 0:_data$data.room_Room.map((function(x){return{key:x.id,value:x.name}})))&&void 0!==_data$data$room_Room$?_data$data$room_Room$:[]);case 4:case"end":return _context2.stop()}}),_callee2)}))),value:to.type===continuation.aS.Room?to.id:"",onChange:function onChange(id){setTo({type:continuation.aS.Room,id})},visible:to.type===continuation.aS.Room,label:"Room"})}),[client,conference.id,subconferenceId,to]),toEventsSelect=(0,react.useMemo)((function(){return(0,jsx_runtime.jsx)(LazySelectFromQuery,{fetch:_asyncToGenerator(regeneratorRuntime.mark((function _callee3(){var _headers2,_data$data$schedule_E,_data$data2,data;return regeneratorRuntime.wrap((function _callee3$(_context3){for(;;)switch(_context3.prev=_context3.next){case 0:return _context3.next=2,client.query(graphql.NhW,{conferenceId:conference.id},{fetchOptions:{headers:(_headers2={},_headers2[auth.k.Role]=subconferenceId?auth.Z.SubconferenceOrganizer:auth.Z.ConferenceOrganizer,_headers2)}}).toPromise();case 2:return data=_context3.sent,_context3.abrupt("return",null!==(_data$data$schedule_E=null===(_data$data2=data.data)||void 0===_data$data2?void 0:_data$data2.schedule_Event.map((function(x){return{key:x.id,value:(0,format.Z)(new Date(x.scheduledStartTime),"d MMMM HH:mm")+" - "+x.name+(x.item?": "+x.item.title:x.exhibition?": "+x.exhibition.name:x.shufflePeriod?": "+x.shufflePeriod.name:"")}})))&&void 0!==_data$data$schedule_E?_data$data$schedule_E:[]);case 4:case"end":return _context3.stop()}}),_callee3)}))),value:to.type===continuation.aS.Event?to.id:"",onChange:function onChange(id){setTo({type:continuation.aS.Event,id})},visible:to.type===continuation.aS.Event,label:"Event"})}),[client,conference.id,subconferenceId,to]),toItemsSelect=(0,react.useMemo)((function(){return(0,jsx_runtime.jsx)(LazySelectFromQuery,{fetch:_asyncToGenerator(regeneratorRuntime.mark((function _callee4(){var _headers3,_data$data$content_It,_data$data3,data;return regeneratorRuntime.wrap((function _callee4$(_context4){for(;;)switch(_context4.prev=_context4.next){case 0:return _context4.next=2,client.query(graphql.P3h,{conferenceId:conference.id},{fetchOptions:{headers:(_headers3={},_headers3[auth.k.Role]=subconferenceId?auth.Z.SubconferenceOrganizer:auth.Z.ConferenceOrganizer,_headers3)}}).toPromise();case 2:return data=_context4.sent,_context4.abrupt("return",null!==(_data$data$content_It=null===(_data$data3=data.data)||void 0===_data$data3?void 0:_data$data3.content_Item.map((function(x){return{key:x.id,value:x.title}})))&&void 0!==_data$data$content_It?_data$data$content_It:[]);case 4:case"end":return _context4.stop()}}),_callee4)}))),value:to.type===continuation.aS.Item?to.id:"",onChange:function onChange(id){setTo({type:continuation.aS.Item,id})},visible:to.type===continuation.aS.Item,label:"Item"})}),[to,client,conference.id,subconferenceId]),toAutoItemsSelect=(0,react.useMemo)((function(){var _to$id;return(0,jsx_runtime.jsx)(LazySelectFromQuery,{fetch:_asyncToGenerator(regeneratorRuntime.mark((function _callee5(){var _headers4,_data$data$content_It2,_data$data4,data;return regeneratorRuntime.wrap((function _callee5$(_context5){for(;;)switch(_context5.prev=_context5.next){case 0:return _context5.next=2,client.query(graphql.P3h,{conferenceId:conference.id},{fetchOptions:{headers:(_headers4={},_headers4[auth.k.Role]=subconferenceId?auth.Z.SubconferenceOrganizer:auth.Z.ConferenceOrganizer,_headers4)}}).toPromise();case 2:return data=_context5.sent,_context5.abrupt("return",[{key:"00-match-event",value:"(Match item of event)"}].concat(_toConsumableArray(null!==(_data$data$content_It2=null===(_data$data4=data.data)||void 0===_data$data4?void 0:_data$data4.content_Item.map((function(x){return{key:x.id,value:x.title}})))&&void 0!==_data$data$content_It2?_data$data$content_It2:[])));case 4:case"end":return _context5.stop()}}),_callee5)}))),value:to.type===continuation.aS.AutoDiscussionRoom?null!==(_to$id=to.id)&&void 0!==_to$id?_to$id:"00-match-event":"",onChange:function onChange(id){setTo({type:continuation.aS.AutoDiscussionRoom,id:"00-match-event"===id?null:id})},visible:to.type===continuation.aS.AutoDiscussionRoom,label:"Item"})}),[to,client,conference.id,subconferenceId]),toExhibitionsSelect=(0,react.useMemo)((function(){return(0,jsx_runtime.jsx)(LazySelectFromQuery,{fetch:_asyncToGenerator(regeneratorRuntime.mark((function _callee6(){var _headers5,_data$data$collection,_data$data5,data;return regeneratorRuntime.wrap((function _callee6$(_context6){for(;;)switch(_context6.prev=_context6.next){case 0:return _context6.next=2,client.query(graphql.JtQ,{conferenceId:conference.id},{fetchOptions:{headers:(_headers5={},_headers5[auth.k.Role]=subconferenceId?auth.Z.SubconferenceOrganizer:auth.Z.ConferenceOrganizer,_headers5)}}).toPromise();case 2:return data=_context6.sent,_context6.abrupt("return",null!==(_data$data$collection=null===(_data$data5=data.data)||void 0===_data$data5?void 0:_data$data5.collection_Exhibition.map((function(x){return{key:x.id,value:x.name}})))&&void 0!==_data$data$collection?_data$data$collection:[]);case 4:case"end":return _context6.stop()}}),_callee6)}))),value:to.type===continuation.aS.Exhibition?to.id:"",onChange:function onChange(id){setTo({type:continuation.aS.Exhibition,id})},visible:to.type===continuation.aS.Exhibition,label:"Exhibition"})}),[to,client,conference.id,subconferenceId]),toShufflePeriodsSelect=(0,react.useMemo)((function(){return(0,jsx_runtime.jsx)(LazySelectFromQuery,{fetch:_asyncToGenerator(regeneratorRuntime.mark((function _callee7(){var _headers6,_data$data$room_Shuff,_data$data6,data;return regeneratorRuntime.wrap((function _callee7$(_context7){for(;;)switch(_context7.prev=_context7.next){case 0:return _context7.next=2,client.query(graphql.BwM,{conferenceId:conference.id},{fetchOptions:{headers:(_headers6={},_headers6[auth.k.Role]=subconferenceId?auth.Z.SubconferenceOrganizer:auth.Z.ConferenceOrganizer,_headers6)}}).toPromise();case 2:return data=_context7.sent,_context7.abrupt("return",null!==(_data$data$room_Shuff=null===(_data$data6=data.data)||void 0===_data$data6?void 0:_data$data6.room_ShufflePeriod.map((function(x){return{key:x.id,value:x.name}})))&&void 0!==_data$data$room_Shuff?_data$data$room_Shuff:[]);case 4:case"end":return _context7.stop()}}),_callee7)}))),value:to.type===continuation.aS.ShufflePeriod?to.id:"",onChange:function onChange(id){setTo({type:continuation.aS.ShufflePeriod,id})},visible:to.type===continuation.aS.ShufflePeriod,label:"Shuffle period"})}),[to,client,conference.id,subconferenceId]),toProfileSelect=(0,react.useMemo)((function(){return(0,jsx_runtime.jsx)(LazySelectFromQuery,{fetch:_asyncToGenerator(regeneratorRuntime.mark((function _callee8(){var _headers7,_data$data$registrant,_data$data7,data;return regeneratorRuntime.wrap((function _callee8$(_context8){for(;;)switch(_context8.prev=_context8.next){case 0:return _context8.next=2,client.query(graphql.D7d,{conferenceId:conference.id},{fetchOptions:{headers:(_headers7={},_headers7[auth.k.Role]=subconferenceId?auth.Z.SubconferenceOrganizer:auth.Z.ConferenceOrganizer,_headers7)}}).toPromise();case 2:return data=_context8.sent,_context8.abrupt("return",null!==(_data$data$registrant=null===(_data$data7=data.data)||void 0===_data$data7?void 0:_data$data7.registrant_Registrant.map((function(x){return{key:x.id,value:x.displayName}})))&&void 0!==_data$data$registrant?_data$data$registrant:[]);case 4:case"end":return _context8.stop()}}),_callee8)}))),value:to.type===continuation.aS.Profile?to.id:"",onChange:function onChange(id){setTo({type:continuation.aS.Profile,id})},visible:to.type===continuation.aS.Profile,label:"Profile"})}),[to,client,conference.id,subconferenceId]),toTagsSelect=(0,react.useMemo)((function(){var _to$tagId;return(0,jsx_runtime.jsx)(LazySelectFromQuery,{fetch:_asyncToGenerator(regeneratorRuntime.mark((function _callee9(){var _headers8,_data$data$collection2,_data$data8,data;return regeneratorRuntime.wrap((function _callee9$(_context9){for(;;)switch(_context9.prev=_context9.next){case 0:return _context9.next=2,client.query(graphql.hMO,{conferenceId:conference.id},{fetchOptions:{headers:(_headers8={},_headers8[auth.k.Role]=subconferenceId?auth.Z.SubconferenceOrganizer:auth.Z.ConferenceOrganizer,_headers8)}}).toPromise();case 2:return data=_context9.sent,_context9.abrupt("return",[{key:"",value:"(None selected)"}].concat(_toConsumableArray(null!==(_data$data$collection2=null===(_data$data8=data.data)||void 0===_data$data8?void 0:_data$data8.collection_Tag.map((function(x){return{key:x.id,value:x.name}})))&&void 0!==_data$data$collection2?_data$data$collection2:[])));case 4:case"end":return _context9.stop()}}),_callee9)}))),value:to.type===continuation.aS.NavigationView&&to.view===continuation.Tu.Tags&&null!==(_to$tagId=to.tagId)&&void 0!==_to$tagId?_to$tagId:"",onChange:function onChange(id){setTo({type:continuation.aS.NavigationView,view:continuation.Tu.Tags,tagId:""===id?null:id})},visible:to.type===continuation.aS.NavigationView&&to.view===continuation.Tu.Tags,label:"Tag (optional)"})}),[client,conference.id,to,subconferenceId]),_useState6=_slicedToArray((0,react.useState)(continuation.qp.None),2),defaultFor=_useState6[0],setDefaultFor=_useState6[1],defaultForOptions=(0,react.useMemo)((function(){return[(0,jsx_runtime.jsx)("option",{value:continuation.qp.None,children:"(None)"},continuation.qp.None),(0,jsx_runtime.jsx)("option",{value:continuation.qp.All,children:"Everyone"},continuation.qp.All),(0,jsx_runtime.jsx)("option",{value:continuation.qp.Presenters,children:"Presenters"},continuation.qp.Presenters),(0,jsx_runtime.jsx)("option",{value:continuation.qp.Chairs,children:"Chairs"},continuation.qp.Chairs),(0,jsx_runtime.jsx)("option",{value:continuation.qp.Viewers,children:"Viewers"},continuation.qp.Viewers)]}),[]),toDefaultForSelect=(0,react.useMemo)((function(){return(0,jsx_runtime.jsxs)(chakra_ui_form_control_esm.NI,{children:[(0,jsx_runtime.jsx)(chakra_ui_form_control_esm.lX,{children:"Default for"}),(0,jsx_runtime.jsx)(chakra_ui_select_esm.Ph,{value:defaultFor,onChange:function onChange(ev){setDefaultFor(ev.target.value)},children:defaultForOptions}),(0,jsx_runtime.jsx)(chakra_ui_form_control_esm.Q6,{children:"Optionally, make this the default-selected continuation for the specified people."})]})}),[defaultFor,defaultForOptions]),_useState8=_slicedToArray((0,react.useState)(null!=forceActiveChoice&&forceActiveChoice),2),isActiveChoice=_useState8[0],setIsActiveChoice=_useState8[1];(0,react.useEffect)((function(){void 0!==forceActiveChoice&&setIsActiveChoice(forceActiveChoice)}),[forceActiveChoice]);var activeChoiceSwitch=(0,react.useMemo)((function(){return(0,jsx_runtime.jsxs)(chakra_ui_form_control_esm.NI,{isDisabled:void 0!==forceActiveChoice,children:[(0,jsx_runtime.jsx)(chakra_ui_form_control_esm.lX,{children:"Is active choice?"}),(0,jsx_runtime.jsxs)(chakra_ui_layout_esm.Ug,{fontSize:"sm",children:[(0,jsx_runtime.jsx)(chakra_ui_system_esm.m$.span,{children:"No"}),(0,jsx_runtime.jsx)(chakra_ui_switch_esm.r,{isChecked:isActiveChoice,isDisabled:void 0!==forceActiveChoice,onChange:function onChange(ev){setIsActiveChoice(ev.target.checked)}}),(0,jsx_runtime.jsx)(chakra_ui_system_esm.m$.span,{children:"Yes"})]}),(0,jsx_runtime.jsxs)(chakra_ui_form_control_esm.Q6,{as:chakra_ui_layout_esm.gC,alignItems:"flex-start",children:[void 0!==forceActiveChoice?(0,jsx_runtime.jsx)(chakra_ui_layout_esm.xv,{children:"This option can be edited by toggling it on the event settings."}):void 0,(0,jsx_runtime.jsx)(chakra_ui_layout_esm.xv,{children:"An active choice requires a person to select an option before continuing to use Midspace. A passive choice is a small popup offering the choice but if none is selected, the person remains in the same place."})]})]})}),[isActiveChoice,forceActiveChoice]),colorMode=(0,chakra_ui_color_mode_esm.If)().colorMode,_useState10=_slicedToArray((0,react.useState)("#4471de"),2),colour=_useState10[0],setColour=_useState10[1],colourObj=(0,react.useMemo)((function(){return tinycolor_default()(colour)}),[colour]),colourInput=(0,react.useMemo)((function(){return(0,jsx_runtime.jsxs)(chakra_ui_form_control_esm.NI,{children:[(0,jsx_runtime.jsx)(chakra_ui_form_control_esm.lX,{children:"Colour"}),(0,jsx_runtime.jsxs)(chakra_ui_popover_esm.J2,{placement:"bottom-start",returnFocusOnClose:!1,isLazy:!0,children:[(0,jsx_runtime.jsx)(chakra_ui_popover_esm.xo,{children:(0,jsx_runtime.jsxs)(chakra_ui_button_esm.zx,{w:"100%",color:!colourObj.isDark()||"light"===colorMode&&"rgba(0,0,0,0)"===colour?"black":"white",bgColor:colour,children:[colour," (Click to edit)"]})}),(0,jsx_runtime.jsx)(chakra_ui_popover_esm.yk,{children:(0,jsx_runtime.jsx)(chakra_ui_layout_esm.xu,{color:"black",children:(0,jsx_runtime.jsx)(react_color_es.xS,{width:"100%",color:colour,onChange:function onChange(c){return setColour("rgba("+c.rgb.r+","+c.rgb.g+","+c.rgb.b+",1)")}})})})]})]})}),[colorMode,colour,colourObj]),_useState12=_slicedToArray((0,react.useState)(""),2),description=_useState12[0],setDescription=_useState12[1],descriptionInput=(0,react.useMemo)((function(){return(0,jsx_runtime.jsxs)(chakra_ui_form_control_esm.NI,{children:[(0,jsx_runtime.jsx)(chakra_ui_form_control_esm.lX,{children:"Label"}),(0,jsx_runtime.jsx)(chakra_ui_input_esm.II,{value:description,onChange:function onChange(ev){setDescription(ev.target.value)}}),(0,jsx_runtime.jsx)(chakra_ui_form_control_esm.Q6,{children:"A label for this option."})]})}),[description]),toIsValid=(0,react.useMemo)((function(){switch(to.type){case continuation.aS.URL:return""===to.url?"Missing URL":""!==to.text||"Text missing";case continuation.aS.Room:return""!==to.id||"Please choose a room";case continuation.aS.Event:return""!==to.id||"Please choose an event";case continuation.aS.AutoDiscussionRoom:return!0;case continuation.aS.Item:return""!==to.id||"Please choose an item";case continuation.aS.Exhibition:return""!==to.id||"Please choose an exhibition";case continuation.aS.ShufflePeriod:return""!==to.id||"Please choose a shuffle period";case continuation.aS.Profile:return""!==to.id||"Please choose a profile";case continuation.aS.OwnProfile:return!0;case continuation.aS.NavigationView:switch(to.view){case continuation.Tu.LiveProgramRooms:case continuation.Tu.HappeningSoon:return!0;case continuation.Tu.Tags:return""!==to.tagId||"Chosen tag is invalid";case continuation.Tu.Exhibitions:case continuation.Tu.Schedule:case continuation.Tu.SocialRooms:case continuation.Tu.People:case continuation.Tu.ShufflePeriods:case continuation.Tu.MyBackstages:return!0}return"Unrecognised";case continuation.aS.ConferenceLandingPage:return!0}}),[to]),allValid=!0===toIsValid?""!==description||"Please write a label":toIsValid,_useContinuationsEdit2=_slicedToArray((0,graphql.U5j)(),2),insertResponse=_useContinuationsEdit2[0],insert=_useContinuationsEdit2[1];return(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[(0,jsx_runtime.jsxs)(chakra_ui_button_esm.zx,{size:"sm",colorScheme:"green",onClick:onOpen,ref:addButtonRef,justifySelf:"flex-start",alignSelf:"flex-start",p:4,children:[(0,jsx_runtime.jsx)(FAIcon.Z,{iconStyle:"s",icon:"plus-square",mr:2}),"Add"]}),(0,jsx_runtime.jsxs)(chakra_ui_modal_esm.u_,{initialFocusRef:leastDestructiveRef,finalFocusRef:addButtonRef,isOpen,onClose,children:[(0,jsx_runtime.jsx)(chakra_ui_modal_esm.ZA,{}),(0,jsx_runtime.jsxs)(chakra_ui_modal_esm.hz,{children:[(0,jsx_runtime.jsx)(chakra_ui_modal_esm.xB,{children:"Add continuation"}),(0,jsx_runtime.jsx)(chakra_ui_modal_esm.ol,{}),(0,jsx_runtime.jsx)(chakra_ui_modal_esm.fe,{children:(0,jsx_runtime.jsxs)(chakra_ui_layout_esm.gC,{spacing:4,children:[descriptionInput,toTypeSelect,toViewSelect,toURLInput,toTextInput,toRoomsSelect,toEventsSelect,toItemsSelect,toAutoItemsSelect,toExhibitionsSelect,toShufflePeriodsSelect,toProfileSelect,toTagsSelect,toDefaultForSelect,activeChoiceSwitch,colourInput]})}),(0,jsx_runtime.jsxs)(chakra_ui_modal_esm.mz,{as:chakra_ui_layout_esm.gC,children:[insertResponse.error?(0,jsx_runtime.jsxs)(chakra_ui_alert_esm.bZ,{flexDir:"column",status:"error",alignItems:"flex-start",children:[(0,jsx_runtime.jsxs)(chakra_ui_layout_esm.Ug,{mb:1,children:[(0,jsx_runtime.jsx)(chakra_ui_alert_esm.zM,{}),(0,jsx_runtime.jsx)(chakra_ui_alert_esm.Cd,{children:"Error creating continuation"})]}),(0,jsx_runtime.jsx)(chakra_ui_alert_esm.X,{children:insertResponse.error.message})]}):void 0,(0,jsx_runtime.jsxs)(chakra_ui_button_esm.hE,{alignSelf:"flex-end",children:[(0,jsx_runtime.jsxs)(chakra_ui_button_esm.zx,{size:"sm",ref:leastDestructiveRef,onClick:function onClick(){onClose()},children:[(0,jsx_runtime.jsx)(FAIcon.Z,{iconStyle:"s",icon:"ban",mr:2}),"Cancel"]}),(0,jsx_runtime.jsx)(chakra_ui_tooltip_esm.u,{label:!0===allValid?"":allValid,children:(0,jsx_runtime.jsx)(chakra_ui_layout_esm.xu,{children:(0,jsx_runtime.jsxs)(chakra_ui_button_esm.zx,{size:"sm",colorScheme:"green",onClick:_asyncToGenerator(regeneratorRuntime.mark((function _callee10(){var _headers9;return regeneratorRuntime.wrap((function _callee10$(_context10){for(;;)switch(_context10.prev=_context10.next){case 0:return _context10.prev=0,_context10.next=3,insert({object:{colour,defaultFor,description,fromEvent:"eventId"in from?from.eventId:void 0,fromShuffleQueue:"shufflePeriodId"in from?from.shufflePeriodId:void 0,isActiveChoice,priority:defaultPriority,to}},{fetchOptions:{headers:(_headers9={},_headers9[auth.k.Role]=subconferenceId?auth.Z.SubconferenceOrganizer:auth.Z.ConferenceOrganizer,_headers9)}});case 3:setDefaultFor(continuation.qp.None),setDescription(""),onClose(),_context10.next=10;break;case 8:_context10.prev=8,_context10.t0=_context10.catch(0);case 10:case"end":return _context10.stop()}}),_callee10,null,[[0,8]])}))),isDisabled:!0!==allValid,isLoading:insertResponse.fetching,children:[(0,jsx_runtime.jsx)(FAIcon.Z,{iconStyle:"s",icon:"plus",mr:2}),"Add"]})})})]})]})]})]})]})}(0,urql_core.Ps)(_templateObject||(_templateObject=function _taggedTemplateLiteralLoose(strings,raw){return raw||(raw=strings.slice(0)),strings.raw=raw,strings}(["\n    query CreateContinuationModal_Rooms($conferenceId: uuid!) {\n        room_Room(where: { conferenceId: { _eq: $conferenceId } }) {\n            id\n            name\n            conferenceId\n        }\n    }\n\n    query CreateContinuationModal_Events($conferenceId: uuid!) {\n        schedule_Event(where: { conferenceId: { _eq: $conferenceId } }) {\n            id\n            conferenceId\n            name\n            scheduledStartTime\n            scheduledEndTime\n            modeName\n            itemId\n            item {\n                id\n                title\n            }\n            exhibitionId\n            exhibition {\n                id\n                name\n            }\n            shufflePeriodId\n            shufflePeriod {\n                id\n                name\n            }\n        }\n    }\n\n    query CreateContinuationModal_Items($conferenceId: uuid!) {\n        content_Item(where: { conferenceId: { _eq: $conferenceId } }) {\n            id\n            title\n            conferenceId\n        }\n    }\n\n    query CreateContinuationModal_Exhibitions($conferenceId: uuid!) {\n        collection_Exhibition(where: { conferenceId: { _eq: $conferenceId } }) {\n            id\n            name\n            conferenceId\n        }\n    }\n\n    query CreateContinuationModal_ShufflePeriods($conferenceId: uuid!) {\n        room_ShufflePeriod(where: { conferenceId: { _eq: $conferenceId } }) {\n            id\n            name\n            conferenceId\n        }\n    }\n\n    query CreateContinuationModal_Tags($conferenceId: uuid!) {\n        collection_Tag(where: { conferenceId: { _eq: $conferenceId } }) {\n            id\n            name\n            conferenceId\n        }\n    }\n\n    query CreateContinuationModal_Profile($conferenceId: uuid!) {\n        registrant_Registrant(where: { conferenceId: { _eq: $conferenceId } }) {\n            id\n            displayName\n            conferenceId\n        }\n    }\n"])));try{CreateContinuationModal.displayName="CreateContinuationModal",CreateContinuationModal.__docgenInfo={description:"",displayName:"CreateContinuationModal",props:{from:{defaultValue:null,description:"",name:"from",required:!0,type:{name:"{ eventId: string; } | { shufflePeriodId: string; }"}},defaultPriority:{defaultValue:null,description:"",name:"defaultPriority",required:!0,type:{name:"number"}},forceActiveChoice:{defaultValue:null,description:"",name:"forceActiveChoice",required:!1,type:{name:"boolean"}},eventItemId:{defaultValue:null,description:"",name:"eventItemId",required:!1,type:{name:"string"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/aspects/Conference/Manage/Schedule/CreateContinuationModal.tsx#CreateContinuationModal"]={docgenInfo:CreateContinuationModal.__docgenInfo,name:"CreateContinuationModal",path:"src/aspects/Conference/Manage/Schedule/CreateContinuationModal.tsx#CreateContinuationModal"})}catch(__react_docgen_typescript_loader_error){}function ContinuationsEditor_asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg),value=info.value}catch(error){return void reject(error)}info.done?resolve(value):Promise.resolve(value).then(_next,_throw)}function ContinuationsEditor_asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise((function(resolve,reject){var gen=fn.apply(self,args);function _next(value){ContinuationsEditor_asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){ContinuationsEditor_asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(void 0)}))}}function ContinuationsEditor_slicedToArray(arr,i){return function ContinuationsEditor_arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function ContinuationsEditor_iterableToArrayLimit(arr,i){var _i=null==arr?null:"undefined"!=typeof Symbol&&arr[Symbol.iterator]||arr["@@iterator"];if(null==_i)return;var _s,_e,_arr=[],_n=!0,_d=!1;try{for(_i=_i.call(arr);!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function ContinuationsEditor_unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return ContinuationsEditor_arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ContinuationsEditor_arrayLikeToArray(o,minLen)}(arr,i)||function ContinuationsEditor_nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ContinuationsEditor_arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function ContinuationsEditor(_ref){var from=_ref.from,itemId=_ref.itemId,subconferenceId=(0,AuthParameters.h)().subconferenceId,eventId="eventId"in from?from.eventId:void 0,shufflePeriodId="shufflePeriodId"in from?from.shufflePeriodId:void 0,fromNoun="eventId"in from?"an event":"a shuffle period",context=(0,react.useMemo)((function(){var _makeContext;return(0,make_context.f)(((_makeContext={})[auth.k.Role]=subconferenceId?auth.Z.SubconferenceOrganizer:auth.Z.ConferenceOrganizer,_makeContext))}),[subconferenceId]),response=ContinuationsEditor_slicedToArray((0,graphql.SDo)({variables:{fromId:null!=eventId?eventId:shufflePeriodId},context}),1)[0],_useRestorableState2=ContinuationsEditor_slicedToArray((0,useRestorableState.aX)("ContinuationsEditor_"+(eventId?"events":"shufflePeriods"),!0,(function(x){return x?"true":"false"}),(function(x){return"true"===x})),2),showExplanation=_useRestorableState2[0],setShowExplanation=_useRestorableState2[1],continuations=(0,react.useMemo)((function(){return response.data?es.DYV((function(x,y){return x.priority-y.priority}),response.data.schedule_Continuation):void 0}),[response.data]),isActiveChoice=(0,react.useMemo)((function(){return void 0!==continuations?continuations.reduce((function(acc,x){return acc||x.isActiveChoice}),!1):void 0}),[continuations]),_useContinuationsEdit4=ContinuationsEditor_slicedToArray((0,graphql.kPO)(),2),updateManyResponse=_useContinuationsEdit4[0],updateMany=_useContinuationsEdit4[1];return(0,useQueryErrorToast.Z)(updateManyResponse.error,!1,"Update many continuations"),(0,jsx_runtime.jsx)(jsx_runtime.Fragment,{children:(0,jsx_runtime.jsxs)(chakra_ui_layout_esm.gC,{alignItems:"left",w:"100%",children:[(0,jsx_runtime.jsxs)(chakra_ui_layout_esm.xv,{fontWeight:"semibold",children:["Continuations give people a choice of where to go when ",fromNoun," ends."]}),showExplanation?(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[(0,jsx_runtime.jsx)(chakra_ui_layout_esm.xv,{children:"Continuations are shown to people as a list of options. If a default continuation is specified, it is pre-selected for the specified people. People can select any continuation to follow, or no continuation at all (i.e. stay where they are)."}),(0,jsx_runtime.jsxs)(chakra_ui_layout_esm.xv,{children:["The choice of continuation can be made either:",(0,jsx_runtime.jsxs)(chakra_ui_layout_esm.QI,{children:[(0,jsx_runtime.jsx)(chakra_ui_layout_esm.HC,{children:" Active - people are required to make a choice, or"}),(0,jsx_runtime.jsx)(chakra_ui_layout_esm.HC,{children:"Passive - people see a popup asking for an optional choice"})]}),(0,jsx_runtime.jsx)(chakra_ui_system_esm.m$.span,{fontStyle:"italic",children:"Active"})," is useful at the end of a session to move people into socials. In contrast, ",(0,jsx_runtime.jsx)(chakra_ui_system_esm.m$.span,{fontStyle:"italic",children:"Passive"})," ","is useful during a session, to give people an opportunity to continue a conversation about a paper in a discussion room with the authors."]}),shufflePeriodId?(0,jsx_runtime.jsx)(chakra_ui_layout_esm.xv,{children:"Shuffle continuations are applied when the whole shuffle period has ended. If no continuations are provided, participants are directed back to the shuffle networking page."}):void 0]}):void 0,(0,jsx_runtime.jsxs)(chakra_ui_button_esm.zx,{size:"xs",onClick:function onClick(){setShowExplanation(!showExplanation)},children:[(0,jsx_runtime.jsx)(FAIcon.Z,{iconStyle:"s",icon:showExplanation?"arrow-up":"info",mr:2}),showExplanation?"Hide explanation":"Show explanation"]}),response.fetching&&!response.data?(0,jsx_runtime.jsxs)(chakra_ui_layout_esm.xu,{children:[(0,jsx_runtime.jsx)(chakra_ui_spinner_esm.$,{label:"Loading continuations"}),"Loading continuations"]}):void 0,continuations?(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[(0,jsx_runtime.jsx)(chakra_ui_layout_esm.GS,{pl:4,spacing:2,children:continuations.map((function(option,idx){var _ref2;return(0,jsx_runtime.jsx)(ContinuationOption,{option,previousOption:idx>0?continuations[idx-1]:void 0,nextOption:idx<continuations.length-1?continuations[idx+1]:void 0,idx,fromId:null!==(_ref2=null!=eventId?eventId:shufflePeriodId)&&void 0!==_ref2?_ref2:""},option.id)}))}),(0,jsx_runtime.jsxs)(chakra_ui_layout_esm.Ug,{children:[(0,jsx_runtime.jsx)(CreateContinuationModal,{from,defaultPriority:continuations.length>0?continuations[continuations.length-1].priority+1:0,forceActiveChoice:continuations.length>0?isActiveChoice:void 0,eventItemId:itemId}),(0,jsx_runtime.jsxs)(chakra_ui_form_control_esm.NI,{display:"flex",flexDir:"row",children:[(0,jsx_runtime.jsx)(chakra_ui_form_control_esm.lX,{ml:"auto",children:"Choice type:"}),(0,jsx_runtime.jsxs)(chakra_ui_layout_esm.Ug,{fontSize:"sm",mb:2,children:[(0,jsx_runtime.jsx)(chakra_ui_system_esm.m$.span,{children:"Passive"}),(0,jsx_runtime.jsx)(chakra_ui_switch_esm.r,{isDisabled:0===continuations.length,isChecked:isActiveChoice,onChange:function onChange(ev){var _headers,_headers2;ev.target.checked?updateMany({ids:continuations.map((function(x){return x.id})),object:{isActiveChoice:!0}},{fetchOptions:{headers:(_headers={},_headers[auth.k.Role]=subconferenceId?auth.Z.SubconferenceOrganizer:auth.Z.ConferenceOrganizer,_headers)}}):updateMany({ids:continuations.map((function(x){return x.id})),object:{isActiveChoice:!1}},{fetchOptions:{headers:(_headers2={},_headers2[auth.k.Role]=subconferenceId?auth.Z.SubconferenceOrganizer:auth.Z.ConferenceOrganizer,_headers2)}})}}),(0,jsx_runtime.jsx)(chakra_ui_system_esm.m$.span,{children:"Active"})]})]})]})]}):void 0]})})}function ContinuationOption(_ref3){var option=_ref3.option,previousOption=_ref3.previousOption,nextOption=_ref3.nextOption,idx=_ref3.idx,subconferenceId=(0,AuthParameters.h)().subconferenceId,_useContinuationsEdit6=ContinuationsEditor_slicedToArray((0,graphql.K0b)(),2),updateResponse=_useContinuationsEdit6[0],update=_useContinuationsEdit6[1];(0,useQueryErrorToast.Z)(updateResponse.error,!1,"Update continuation");var _useContinuationsEdit8=ContinuationsEditor_slicedToArray((0,graphql.dSG)(),2),deleteResponse=_useContinuationsEdit8[0],deleteOp=_useContinuationsEdit8[1];(0,useQueryErrorToast.Z)(deleteResponse.error,!1,"Delete continuation");var toast=(0,chakra_ui_toast_esm.pm)(),colorMode=(0,chakra_ui_color_mode_esm.If)().colorMode,_useState2=ContinuationsEditor_slicedToArray((0,react.useState)(option.colour),2),localColour=_useState2[0],setLocalColour=_useState2[1];(0,react.useEffect)((function(){setLocalColour(option.colour)}),[option.colour]);var optionTypeStr=(0,react.useMemo)((function(){return option.to.type.replace(/([A-Z])/g," $1").trim()}),[option.to.type]),colourObj=tinycolor_default()(option.colour);return(0,jsx_runtime.jsx)(chakra_ui_layout_esm.HC,{w:"100%",my:1,children:(0,jsx_runtime.jsxs)(chakra_ui_layout_esm.kC,{w:"100%",children:[(0,jsx_runtime.jsxs)(chakra_ui_button_esm.hE,{mr:2,children:[(0,jsx_runtime.jsx)(chakra_ui_button_esm.zx,{size:"xs",isDisabled:!previousOption,onClick:function onClick(){var _headers3,_headers4;update({id:option.id,object:{priority:idx-1}},{fetchOptions:{headers:(_headers3={},_headers3[auth.k.Role]=subconferenceId?auth.Z.SubconferenceOrganizer:auth.Z.ConferenceOrganizer,_headers3)}}),update({id:null==previousOption?void 0:previousOption.id,object:{priority:idx}},{fetchOptions:{headers:(_headers4={},_headers4[auth.k.Role]=subconferenceId?auth.Z.SubconferenceOrganizer:auth.Z.ConferenceOrganizer,_headers4)}})},children:(0,jsx_runtime.jsx)(FAIcon.Z,{iconStyle:"s",icon:"arrow-alt-circle-up"})}),(0,jsx_runtime.jsx)(chakra_ui_button_esm.zx,{size:"xs",isDisabled:!nextOption,onClick:function onClick(){var _headers5,_headers6;update({id:option.id,object:{priority:idx+1}},{fetchOptions:{headers:(_headers5={},_headers5[auth.k.Role]=subconferenceId?auth.Z.SubconferenceOrganizer:auth.Z.ConferenceOrganizer,_headers5)}}),update({id:null==nextOption?void 0:nextOption.id,object:{priority:idx}},{fetchOptions:{headers:(_headers6={},_headers6[auth.k.Role]=subconferenceId?auth.Z.SubconferenceOrganizer:auth.Z.ConferenceOrganizer,_headers6)}})},children:(0,jsx_runtime.jsx)(FAIcon.Z,{iconStyle:"s",icon:"arrow-alt-circle-down"})})]}),(0,jsx_runtime.jsxs)(chakra_ui_layout_esm.gC,{flex:"1 1 100%",alignItems:"flex-start",spacing:0,fontSize:"sm",children:[(0,jsx_runtime.jsx)(chakra_ui_system_esm.m$.span,{whiteSpace:"normal",children:option.description}),(0,jsx_runtime.jsxs)(chakra_ui_system_esm.m$.span,{fontSize:"xs",children:[optionTypeStr,"None"!==option.defaultFor?" (default for "+option.defaultFor.toLowerCase()+")":""]})]}),(0,jsx_runtime.jsxs)(chakra_ui_popover_esm.J2,{placement:"bottom-start",returnFocusOnClose:!1,isLazy:!0,children:[(0,jsx_runtime.jsx)(chakra_ui_popover_esm.xo,{children:(0,jsx_runtime.jsx)(chakra_ui_button_esm.zx,{minW:0,color:!colourObj.isDark()||"light"===colorMode&&"rgba(0,0,0,0)"===option.colour?"black":"white",bgColor:option.colour,"aria-label":"Edit colour",size:"xs",ml:"auto",children:(0,jsx_runtime.jsx)(FAIcon.Z,{iconStyle:"s",icon:"palette"})})}),(0,jsx_runtime.jsx)(chakra_ui_popover_esm.yk,{children:(0,jsx_runtime.jsx)(chakra_ui_layout_esm.xu,{color:"black",children:(0,jsx_runtime.jsx)(react_color_es.xS,{width:"100%",color:localColour,onChange:function onChange(c){setLocalColour("rgba("+c.rgb.r+","+c.rgb.g+","+c.rgb.b+",1)")},onChangeComplete:function onChangeComplete(c){var _headers7,cStr="rgba("+c.rgb.r+","+c.rgb.g+","+c.rgb.b+",1)";setLocalColour(cStr),update({id:option.id,object:{colour:cStr}},{fetchOptions:{headers:(_headers7={},_headers7[auth.k.Role]=subconferenceId?auth.Z.SubconferenceOrganizer:auth.Z.ConferenceOrganizer,_headers7)}})}})})})]}),(0,jsx_runtime.jsx)(chakra_ui_button_esm.zx,{ml:2,"aria-label":"Delete",colorScheme:"red",size:"xs",isDisabled:deleteResponse.fetching,onClick:ContinuationsEditor_asyncToGenerator(regeneratorRuntime.mark((function _callee(){var _headers8,_e$message;return regeneratorRuntime.wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:try{deleteOp({ids:[option.id]},{fetchOptions:{headers:(_headers8={},_headers8[auth.k.Role]=subconferenceId?auth.Z.SubconferenceOrganizer:auth.Z.ConferenceOrganizer,_headers8)}})}catch(e){toast({title:"Error deleting continuation",description:null!==(_e$message=e.message)&&void 0!==_e$message?_e$message:e.toString(),isClosable:!0,position:"bottom",status:"error"})}case 1:case"end":return _context.stop()}}),_callee)}))),children:(0,jsx_runtime.jsx)(FAIcon.Z,{iconStyle:"s",icon:"trash-alt"})})]})},option.id)}(0,urql_core.Ps)(ContinuationsEditor_templateObject||(ContinuationsEditor_templateObject=function ContinuationsEditor_taggedTemplateLiteralLoose(strings,raw){return raw||(raw=strings.slice(0)),strings.raw=raw,strings}(["\n    fragment ContinuationsEditor_Continuation on schedule_Continuation {\n        id\n        fromEvent\n        fromShuffleQueue\n        to\n        defaultFor\n        isActiveChoice\n        priority\n        colour\n        description\n    }\n\n    query ContinuationsEditor_SelectContinuations($fromId: uuid!) {\n        schedule_Continuation(\n            where: { _or: [{ fromEvent: { _eq: $fromId } }, { fromShuffleQueue: { _eq: $fromId } }] }\n        ) {\n            ...ContinuationsEditor_Continuation\n        }\n    }\n\n    mutation ContinuationsEditor_Insert($object: schedule_Continuation_insert_input!) {\n        insert_schedule_Continuation_one(object: $object) {\n            ...ContinuationsEditor_Continuation\n        }\n    }\n\n    mutation ContinuationsEditor_Update($id: uuid!, $object: schedule_Continuation_set_input!) {\n        update_schedule_Continuation_by_pk(pk_columns: { id: $id }, _set: $object) {\n            ...ContinuationsEditor_Continuation\n        }\n    }\n\n    mutation ContinuationsEditor_UpdateMany($ids: [uuid!]!, $object: schedule_Continuation_set_input!) {\n        update_schedule_Continuation(where: { id: { _in: $ids } }, _set: $object) {\n            returning {\n                ...ContinuationsEditor_Continuation\n            }\n        }\n    }\n\n    mutation ContinuationsEditor_Delete($ids: [uuid!]!) {\n        delete_schedule_Continuation(where: { id: { _in: $ids } }) {\n            returning {\n                id\n            }\n        }\n    }\n"]))),ContinuationOption.displayName="ContinuationOption";try{ContinuationsEditor.displayName="ContinuationsEditor",ContinuationsEditor.__docgenInfo={description:"",displayName:"ContinuationsEditor",props:{from:{defaultValue:null,description:"",name:"from",required:!0,type:{name:"{ eventId: string; } | { shufflePeriodId: string; }"}},itemId:{defaultValue:null,description:"",name:"itemId",required:!1,type:{name:"string"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/aspects/Conference/Manage/Schedule/ContinuationsEditor.tsx#ContinuationsEditor"]={docgenInfo:ContinuationsEditor.__docgenInfo,name:"ContinuationsEditor",path:"src/aspects/Conference/Manage/Schedule/ContinuationsEditor.tsx#ContinuationsEditor"})}catch(__react_docgen_typescript_loader_error){}},"../packages/shared/shared-types/build/esm/continuation.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{var ContinuationType,NavigationView,ContinuationDefaultFor;__webpack_require__.d(__webpack_exports__,{aS:()=>ContinuationType,Tu:()=>NavigationView,qp:()=>ContinuationDefaultFor}),function(ContinuationType){ContinuationType.URL="URL",ContinuationType.Room="Room",ContinuationType.Event="Event",ContinuationType.AutoDiscussionRoom="AutoDiscussionRoom",ContinuationType.Item="Item",ContinuationType.Exhibition="Exhibition",ContinuationType.ShufflePeriod="ShufflePeriod",ContinuationType.Profile="Profile",ContinuationType.OwnProfile="OwnProfile",ContinuationType.NavigationView="NavigationView",ContinuationType.ConferenceLandingPage="ConferenceLandingPage"}(ContinuationType||(ContinuationType={})),function(NavigationView){NavigationView.LiveProgramRooms="LiveProgramRooms",NavigationView.HappeningSoon="HappeningSoon",NavigationView.Tags="Tags",NavigationView.Exhibitions="Exhibitions",NavigationView.Schedule="Schedule",NavigationView.SocialRooms="SocialRooms",NavigationView.People="People",NavigationView.ShufflePeriods="ShufflePeriods",NavigationView.MyBackstages="MyBackstages"}(NavigationView||(NavigationView={})),function(ContinuationDefaultFor){ContinuationDefaultFor.None="None",ContinuationDefaultFor.All="Everyone",ContinuationDefaultFor.Presenters="Presenters",ContinuationDefaultFor.Chairs="Chairs",ContinuationDefaultFor.Viewers="Viewers"}(ContinuationDefaultFor||(ContinuationDefaultFor={}))},"../node_modules/.pnpm/use-react-router-breadcrumbs@2.0.2_react-router@5.2.1+react@17.0.2/node_modules/use-react-router-breadcrumbs/dist/es/index.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var _babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("../node_modules/.pnpm/@babel+runtime@7.15.4/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js"),react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../node_modules/.pnpm/react@17.0.2/node_modules/react/index.js"),react_router__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("../node_modules/.pnpm/react-router@5.2.1_react@17.0.2/node_modules/react-router/esm/react-router.js");var DEFAULT_MATCH_OPTIONS={exact:!0},humanize=function humanize(str){return str.replace(/^[\s_]+|[\s_]+$/g,"").replace(/[_\s]+/g," ").replace(/^[a-z]/,(function(m){return m.toUpperCase()}))},render=function render(_ref){var Breadcrumb=_ref.breadcrumb,match=_ref.match,location=_ref.location,props=_ref.props,componentProps=Object.assign({match,location,key:match.url},props||{});return Object.assign(Object.assign({},componentProps),{breadcrumb:"string"==typeof Breadcrumb?(0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)("span",{key:componentProps.key},Breadcrumb):react__WEBPACK_IMPORTED_MODULE_0__.createElement(Breadcrumb,Object.assign({},componentProps))})},getBreadcrumbMatch=function getBreadcrumbMatch(_ref3){var breadcrumb,currentSection=_ref3.currentSection,disableDefaults=_ref3.disableDefaults,excludePaths=_ref3.excludePaths,location=_ref3.location,pathSection=_ref3.pathSection,routes=_ref3.routes;return excludePaths&&excludePaths.some((function getIsPathExcluded(path){return null!=(0,react_router__WEBPACK_IMPORTED_MODULE_1__.LX)(pathSection,{path,exact:!0,strict:!1})}))?"NO_BREADCRUMB":(routes.some((function(_a){var userProvidedBreadcrumb=_a.breadcrumb,matchOptions=_a.matchOptions,path=_a.path,rest=function __rest(s,e){var t={};for(var p in s)Object.prototype.hasOwnProperty.call(s,p)&&e.indexOf(p)<0&&(t[p]=s[p]);if(null!=s&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(p=Object.getOwnPropertySymbols(s);i<p.length;i++)e.indexOf(p[i])<0&&Object.prototype.propertyIsEnumerable.call(s,p[i])&&(t[p[i]]=s[p[i]])}return t}(_a,["breadcrumb","matchOptions","path"]);if(!path)throw new Error("useBreadcrumbs: `path` must be provided in every route object");var match=(0,react_router__WEBPACK_IMPORTED_MODULE_1__.LX)(pathSection,Object.assign(Object.assign({},matchOptions||DEFAULT_MATCH_OPTIONS),{path}));return match&&null===userProvidedBreadcrumb||!match&&matchOptions?(breadcrumb="NO_BREADCRUMB",!0):!!match&&(!userProvidedBreadcrumb&&disableDefaults?(breadcrumb="NO_BREADCRUMB",!0):(breadcrumb=render(Object.assign({breadcrumb:userProvidedBreadcrumb||humanize(currentSection),match,location},rest)),!0))})),breadcrumb||(disableDefaults?"NO_BREADCRUMB":function getDefaultBreadcrumb(_ref2){var currentSection=_ref2.currentSection,location=_ref2.location,pathSection=_ref2.pathSection,match=(0,react_router__WEBPACK_IMPORTED_MODULE_1__.LX)(pathSection,Object.assign(Object.assign({},DEFAULT_MATCH_OPTIONS),{path:pathSection}))||{url:"not-found"};return render({breadcrumb:humanize(currentSection),match,location})}({pathSection,currentSection:"/"===pathSection?"Home":currentSection,location})))},flattenRoutes=function flattenRoutes(routes){return routes.reduce((function(arr,route){return route.routes?arr.concat([route].concat((0,_babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_2__.Z)(flattenRoutes(route.routes)))):arr.concat(route)}),[])};const __WEBPACK_DEFAULT_EXPORT__=function useReactRouterBreadcrumbs(routes,options){return function getBreadcrumbs(_ref4){var routes=_ref4.routes,location=_ref4.location,_ref4$options=_ref4.options,options=void 0===_ref4$options?{}:_ref4$options,matches=[];return location.pathname.split("?")[0].split("/").reduce((function(previousSection,currentSection,index){var pathSection=currentSection?"".concat(previousSection,"/").concat(currentSection):"/";if("/"===pathSection&&0!==index)return"";var breadcrumb=getBreadcrumbMatch(Object.assign({currentSection,location,pathSection,routes},options));return"NO_BREADCRUMB"!==breadcrumb&&matches.push(breadcrumb),"/"===pathSection?"":pathSection}),""),matches}({routes:flattenRoutes(routes||[]),location:(0,react_router__WEBPACK_IMPORTED_MODULE_1__.TH)(),options})}}}]);